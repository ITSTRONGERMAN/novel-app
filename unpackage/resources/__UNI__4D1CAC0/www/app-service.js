if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((o=>t.resolve(e()).then((()=>o))),(o=>t.resolve(e()).then((()=>{throw o}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";var t,o,i,a,n,r,l,s,c,h,u,d,m,p,g,f,y,v,w,S,T,b,C,k,x,N,B,E,I,V,R,_,M,z;const L={};function A(e,t,...o){uni.__log__?uni.__log__(e,t,...o):console[e].apply(console,[...o,t])}function D(e,t){return"string"==typeof e?t:e}const P=t=>(o,i=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,o,i)},F=P("onShow"),H=P("onHide"),O=P("onLaunch"),j=P("onLoad"),$=P("onUnload"),U=P("onBackPress");function W(e){return!!e&&(Z(e)&&(e=+e),!/Invalid|NaN/.test(new Date(e).toString()))}function Z(e){return/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(e)}function G(e){switch(typeof e){case"undefined":return!0;case"string":if(0==e.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!e)return!0;break;case"number":if(0===e||isNaN(e))return!0;break;case"object":if(null===e||0===e.length)return!0;for(const t in e)return!1;return!0}return!1}function Y(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function Q(e){return"[object Object]"===Object.prototype.toString.call(e)}function J(e){return"function"==typeof e}const K=Object.freeze(Object.defineProperty({__proto__:null,amount:function(e){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(e)},array:Y,carNo:function(e){const t=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/,o=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;return 7===e.length?o.test(e):8===e.length&&t.test(e)},chinese:function(e){return/^[\u4e00-\u9fa5]+$/gi.test(e)},code:function(e,t=6){return new RegExp(`^\\d{${t}}$`).test(e)},contains:function(e,t){return e.indexOf(t)>=0},date:W,dateISO:function(e){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},digits:function(e){return/^\d+$/.test(e)},email:function(e){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(e)},empty:G,enOrNum:function(e){return/^[0-9a-zA-Z]*$/g.test(e)},func:J,idCard:function(e){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)},image:function(e){const t=e.split("?")[0];return/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i.test(t)},jsonString:function(e){if("string"==typeof e)try{const t=JSON.parse(e);return!("object"!=typeof t||!t)}catch(t){return!1}return!1},landline:function(e){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(e)},letter:function(e){return/^[a-zA-Z]*$/.test(e)},mobile:function(e){return/^1([3589]\d|4[5-9]|6[1-2,4-7]|7[0-8])\d{8}$/.test(e)},number:Z,object:Q,promise:function(e){return Q(e)&&J(e.then)&&J(e.catch)},range:function(e,t){return e>=t[0]&&e<=t[1]},rangeLength:function(e,t){return e.length>=t[0]&&e.length<=t[1]},regExp:function(e){return e&&"[object RegExp]"===Object.prototype.toString.call(e)},string:function(e){return"string"==typeof e},url:function(e){return/^((https|http|ftp|rtsp|mms):\/\/)(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\/?)$/.test(e)},video:function(e){return/\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv|m3u8)/i.test(e)}},Symbol.toStringTag,{value:"Module"}));function X(e,t=15){return+parseFloat(Number(e).toPrecision(t))}function q(e){const t=e.toString().split(/[eE]/),o=(t[0].split(".")[1]||"").length-+(t[1]||0);return o>0?o:0}function ee(e){if(-1===e.toString().indexOf("e"))return Number(e.toString().replace(".",""));const t=q(e);return t>0?X(Number(e)*Math.pow(10,t)):Number(e)}function te(e){(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&A("warn","at uni_modules/uv-ui-tools/libs/function/digit.js:45",`${e} 超出了精度限制，结果可能不正确`)}function oe(e,t){const[o,i,...a]=e;let n=t(o,i);return a.forEach((e=>{n=t(n,e)})),n}function ie(...e){if(e.length>2)return oe(e,ie);const[t,o]=e,i=ee(t),a=ee(o),n=q(t)+q(o),r=i*a;return te(r),r/Math.pow(10,n)}function ae(...e){if(e.length>2)return oe(e,ae);const[t,o]=e,i=ee(t),a=ee(o);return te(i),te(a),ie(i/a,X(Math.pow(10,q(o)-q(t))))}function ne(e){let t=this.$parent;for(;t;){if(!t.$options||t.$options.name===e)return t;t=t.$parent}return!1}function re(e,t=new WeakMap){if(null===e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let o;if(e instanceof Date)o=new Date(e.getTime());else if(e instanceof RegExp)o=new RegExp(e);else if(e instanceof Map)o=new Map(Array.from(e,(([e,o])=>[e,re(o,t)])));else if(e instanceof Set)o=new Set(Array.from(e,(e=>re(e,t))));else if(Array.isArray(e))o=e.map((e=>re(e,t)));else if("[object Object]"===Object.prototype.toString.call(e)){o=Object.create(Object.getPrototypeOf(e)),t.set(e,o);for(const[i,a]of Object.entries(e))o[i]=re(a,t)}else o=Object.assign({},e);return t.set(e,o),o}function le(e={},t={}){if("object"!=typeof(e=re(e))||null===e||"object"!=typeof t||null===t)return e;const o=Array.isArray(e)?e.slice():Object.assign({},e);for(const i in t){if(!t.hasOwnProperty(i))continue;const e=t[i],a=o[i];e instanceof Date?o[i]=new Date(e):e instanceof RegExp?o[i]=new RegExp(e):e instanceof Map?o[i]=new Map(e):e instanceof Set?o[i]=new Set(e):o[i]="object"==typeof e&&null!==e?le(a,e):e}return o}function se(e){}function ce(e=null,t="yyyy-mm-dd"){let o;o=e?/^\d{10}$/.test(null==e?void 0:e.toString().trim())?new Date(1e3*e):"string"==typeof e&&/^\d+$/.test(e.trim())?new Date(Number(e)):"string"==typeof e&&e.includes("-")&&!e.includes("T")?new Date(e.replace(/-/g,"/")):new Date(e):new Date;const i={y:o.getFullYear().toString(),m:(o.getMonth()+1).toString().padStart(2,"0"),d:o.getDate().toString().padStart(2,"0"),h:o.getHours().toString().padStart(2,"0"),M:o.getMinutes().toString().padStart(2,"0"),s:o.getSeconds().toString().padStart(2,"0")};for(const a in i){const[e]=new RegExp(`${a}+`).exec(t)||[];if(e){const o="y"===a&&2===e.length?2:0;t=t.replace(e,i[a].slice(o))}}return t}function he(e,t="both"){return e=String(e),"both"==t?e.replace(/^\s+|\s+$/g,""):"left"==t?e.replace(/^\s*/,""):"right"==t?e.replace(/(\s*$)/g,""):"all"==t?e.replace(/\s+/g,""):e}function ue(e={},t=!0,o="brackets"){const i=t?"?":"",a=[];-1==["indices","brackets","repeat","comma"].indexOf(o)&&(o="brackets");for(const n in e){const t=e[n];if(!(["",void 0,null].indexOf(t)>=0))if(t.constructor===Array)switch(o){case"indices":for(let o=0;o<t.length;o++)a.push(`${n}[${o}]=${t[o]}`);break;case"brackets":default:t.forEach((e=>{a.push(`${n}[]=${e}`)}));break;case"repeat":t.forEach((e=>{a.push(`${n}=${e}`)}));break;case"comma":let e="";t.forEach((t=>{e+=(e?",":"")+t})),a.push(`${n}=${e}`)}else a.push(`${n}=${t}`)}return a.length?i+a.join("&"):""}function de(e,t=0,o=".",i=","){e=`${e}`.replace(/[^0-9+-Ee.]/g,"");const a=isFinite(+e)?+e:0,n=isFinite(+t)?Math.abs(t):0,r=void 0===i?",":i,l=void 0===o?".":o;let s="";s=(n?function(e,t){const o=Math.pow(10,t);let i=ae(Math.round(Math.abs(ie(e,o))),o);return e<0&&0!==i&&(i=ie(i,-1)),i}(a,n)+"":`${Math.round(a)}`).split(".");const c=/(-?\d+)(\d{3})/;for(;c.test(s[0]);)s[0]=s[0].replace(c,`$1${r}$2`);return(s[1]||"").length<n&&(s[1]=s[1]||"",s[1]+=new Array(n-s[1].length+1).join("0")),s.join(l)}function me(){var e;const t=getCurrentPages(),o=null==(e=t[t.length-1])?void 0:e.route;return`/${o||""}`}String.prototype.padStart||(String.prototype.padStart=function(e,t=" "){if("[object String]"!==Object.prototype.toString.call(t))throw new TypeError("fillString must be String");const o=this;if(o.length>=e)return String(o);const i=e-o.length;let a=Math.ceil(i/t.length);for(;a>>=1;)t+=t,1===a&&(t+=t);return t.slice(0,i)+o});const pe=Object.freeze(Object.defineProperty({__proto__:null,$parent:ne,addStyle:function(e,t="object"){if(G(e)||"object"==typeof e&&"object"===t||"string"===t&&"string"==typeof e)return e;if("object"===t){const t=(e=he(e)).split(";"),o={};for(let e=0;e<t.length;e++)if(t[e]){const i=t[e].split(":");o[he(i[0])]=he(i[1])}return o}let o="";for(const i in e){o+=`${i.replace(/([A-Z])/g,"-$1").toLowerCase()}:${e[i]};`}return he(o)},addUnit:function(e="auto",t=((e=>{return null==(e=null==(t=null==uni?void 0:uni.$uv)?void 0:t.config)?void 0:e.unit;var t})()?(e=>{return null==(e=null==(t=null==uni?void 0:uni.$uv)?void 0:t.config)?void 0:e.unit;var t})():"px")){return Z(e=String(e))?`${e}${t}`:e},deepClone:re,deepMerge:le,error:se,formValidate:function(e,t){const o=ne.call(e,"uv-form-item"),i=ne.call(e,"uv-form");o&&i&&i.validateField(o.prop,(()=>{}),t)},getDuration:function(e,t=!0){const o=parseInt(e);return t?/s$/.test(e)?e:e>30?`${e}ms`:`${e}s`:/ms$/.test(e)?o:/s$/.test(e)?o>30?o:1e3*o:o},getHistoryPage:function(e=0){const t=getCurrentPages();return t[t.length-1+e]},getProperty:function(e,t){if(e){if("string"!=typeof t||""===t)return"";if(-1!==t.indexOf(".")){const o=t.split(".");let i=e[o[0]]||{};for(let e=1;e<o.length;e++)i&&(i=i[o[e]]);return i}return e[t]}},getPx:function(e,t=!1){return Z(e)?t?`${e}px`:Number(e):/(rpx|upx)$/.test(e)?t?`${uni.upx2px(parseInt(e))}px`:Number(uni.upx2px(parseInt(e))):t?`${parseInt(e)}px`:parseInt(e)},guid:function(e=32,t=!0,o=null){const i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[];if(o=o||i.length,e)for(let n=0;n<e;n++)a[n]=i[0|Math.random()*o];else{let e;a[8]=a[13]=a[18]=a[23]="-",a[14]="4";for(let t=0;t<36;t++)a[t]||(e=0|16*Math.random(),a[t]=i[19==t?3&e|8:e])}return t?(a.shift(),`u${a.join("")}`):a.join("")},os:function(){return uni.getSystemInfoSync().platform.toLowerCase()},padZero:function(e){return`00${e}`.slice(-2)},page:me,pages:function(){return getCurrentPages()},priceFormat:de,queryParams:ue,random:function(e,t){if(e>=0&&t>0&&t>=e){const o=t-e+1;return Math.floor(Math.random()*o+e)}return 0},randomArray:function(e=[]){return e.sort((()=>Math.random()-.5))},range:function(e=0,t=0,o=0){return Math.max(e,Math.min(t,Number(o)))},setConfig:function({props:e={},config:t={},color:o={},zIndex:i={}}){const{deepMerge:a}=uni.$uv;uni.$uv.config=a(uni.$uv.config,t),uni.$uv.props=a(uni.$uv.props,e),uni.$uv.color=a(uni.$uv.color,o),uni.$uv.zIndex=a(uni.$uv.zIndex,i)},setProperty:function(e,t,o){if(!e)return;const i=function(e,t,o){if(1!==t.length)for(;t.length>1;){const a=t[0];e[a]&&"object"==typeof e[a]||(e[a]={}),t.shift(),i(e[a],t,o)}else e[t[0]]=o};if("string"!=typeof t||""===t);else if(-1!==t.indexOf(".")){const a=t.split(".");i(e,a,o)}else e[t]=o},sleep:function(e=30){return new Promise((t=>{setTimeout((()=>{t()}),e)}))},sys:function(){return uni.getSystemInfoSync()},timeFormat:ce,timeFrom:function(e=null,t="yyyy-mm-dd"){null==e&&(e=Number(new Date)),10==(e=parseInt(e)).toString().length&&(e*=1e3);let o=(new Date).getTime()-e;o=parseInt(o/1e3);let i="";switch(!0){case o<300:i="刚刚";break;case o>=300&&o<3600:i=`${parseInt(o/60)}分钟前`;break;case o>=3600&&o<86400:i=`${parseInt(o/3600)}小时前`;break;case o>=86400&&o<2592e3:i=`${parseInt(o/86400)}天前`;break;default:i=!1===t?o>=2592e3&&o<31536e3?`${parseInt(o/2592e3)}个月前`:`${parseInt(o/31536e3)}年前`:ce(e,t)}return i},toast:function(e,t=2e3){uni.showToast({title:String(e),icon:"none",duration:t})},trim:he,type2icon:function(e="success",t=!1){-1==["primary","info","error","warning","success"].indexOf(e)&&(e="success");let o="";switch(e){case"primary":case"info":o="info-circle";break;case"error":o="close-circle";break;case"warning":o="error-circle";break;default:o="checkmark-circle"}return t&&(o+="-fill"),o}},Symbol.toStringTag,{value:"Module"}));const ge=(new class{constructor(){this.config={type:"navigateTo",url:"",delta:1,params:{},animationType:"pop-in",animationDuration:300,intercept:!1,events:{}},this.route=this.route.bind(this)}addRootPath(e){return"/"===e[0]?e:`/${e}`}mixinParam(e,t){e=e&&this.addRootPath(e);let o="";return/.*\/.*\?.*=.*/.test(e)?(o=ue(t,!1),e+`&${o}`):(o=ue(t),e+o)}async route(e={},t={}){let o={};if("string"==typeof e?(o.url=this.mixinParam(e,t),o.type="navigateTo"):(o=le(this.config,e),o.url=this.mixinParam(e.url,e.params)),o.url!==me())if(t.intercept&&(o.intercept=t.intercept),o.params=t,o=le(this.config,o),"function"==typeof o.intercept){await new Promise(((e,t)=>{o.intercept(o,e)}))&&this.openPage(o)}else this.openPage(o)}openPage(e){const{url:t,type:o,delta:i,animationType:a,animationDuration:n,events:r}=e;"navigateTo"!=e.type&&"to"!=e.type||uni.navigateTo({url:t,animationType:a,animationDuration:n,events:r}),"redirectTo"!=e.type&&"redirect"!=e.type||uni.redirectTo({url:t}),"switchTab"!=e.type&&"tab"!=e.type||uni.switchTab({url:t}),"reLaunch"!=e.type&&"launch"!=e.type||uni.reLaunch({url:t}),"navigateBack"!=e.type&&"back"!=e.type||uni.navigateBack({delta:i})}}).route;let fe,ye=null;function ve(e,t=500,o=!1){if(null!==ye&&clearTimeout(ye),o){const o=!ye;ye=setTimeout((()=>{ye=null}),t),o&&"function"==typeof e&&e()}else ye=setTimeout((()=>{"function"==typeof e&&e()}),t)}function we(e,t=500,o=!0){o?fe||(fe=!0,"function"==typeof e&&e(),setTimeout((()=>{fe=!1}),t)):fe||(fe=!0,setTimeout((()=>{fe=!1,"function"==typeof e&&e()}),t))}const Se={props:{customStyle:{type:[Object,String],default:()=>({})},customClass:{type:String,default:""},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"}},data:()=>({}),onLoad(){this.$uv.getRect=this.$uvGetRect},created(){this.$uv.getRect=this.$uvGetRect},computed:{$uv(){var e,t;return{...pe,test:K,route:ge,debounce:ve,throttle:we,unit:null==(t=null==(e=null==uni?void 0:uni.$uv)?void 0:e.config)?void 0:t.unit}},bem:()=>function(e,t,o){const i=`uv-${e}--`,a={};return t&&t.map((e=>{a[i+this[e]]=!0})),o&&o.map((e=>{this[e]?a[i+e]=this[e]:delete a[i+e]})),Object.keys(a)}},methods:{openPage(e="url"){const t=this[e];t&&uni[this.linkType]({url:t})},$uvGetRect(e,t){return new Promise((o=>{uni.createSelectorQuery().in(this)[t?"selectAll":"select"](e).boundingClientRect((e=>{t&&Array.isArray(e)&&e.length&&o(e),!t&&e&&o(e)})).exec()}))},getParentData(e=""){this.parent||(this.parent={}),this.parent=this.$uv.$parent.call(this,e),this.parent.children&&-1===this.parent.children.indexOf(this)&&this.parent.children.push(this),this.parent&&this.parentData&&Object.keys(this.parentData).map((e=>{this.parentData[e]=this.parent[e]}))},preventEvent(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation()},noop(e){this.preventEvent(e)}},onReachBottom(){uni.$emit("uvOnReachBottom")},beforeDestroy(){if(this.parent&&Y(this.parent.children)){const e=this.parent.children;e.map(((t,o)=>{t===this&&e.splice(o,1)}))}},unmounted(){if(this.parent&&Y(this.parent.children)){const e=this.parent.children;e.map(((t,o)=>{t===this&&e.splice(o,1)}))}}},Te={"uvicon-level":"e68f","uvicon-checkbox-mark":"e659","uvicon-folder":"e694","uvicon-movie":"e67c","uvicon-star-fill":"e61e","uvicon-star":"e618","uvicon-phone-fill":"e6ac","uvicon-phone":"e6ba","uvicon-apple-fill":"e635","uvicon-backspace":"e64d","uvicon-attach":"e640","uvicon-empty-data":"e671","uvicon-empty-address":"e68a","uvicon-empty-favor":"e662","uvicon-empty-car":"e657","uvicon-empty-order":"e66b","uvicon-empty-list":"e672","uvicon-empty-search":"e677","uvicon-empty-permission":"e67d","uvicon-empty-news":"e67e","uvicon-empty-history":"e685","uvicon-empty-coupon":"e69b","uvicon-empty-page":"e60e","uvicon-empty-wifi-off":"e6cc","uvicon-reload":"e627","uvicon-order":"e695","uvicon-server-man":"e601","uvicon-search":"e632","uvicon-more-dot-fill":"e66f","uvicon-scan":"e631","uvicon-map":"e665","uvicon-map-fill":"e6a8","uvicon-tags":"e621","uvicon-tags-fill":"e613","uvicon-eye":"e664","uvicon-eye-fill":"e697","uvicon-eye-off":"e69c","uvicon-eye-off-outline":"e688","uvicon-mic":"e66d","uvicon-mic-off":"e691","uvicon-calendar":"e65c","uvicon-trash":"e623","uvicon-trash-fill":"e6ce","uvicon-play-left":"e6bf","uvicon-play-right":"e6b3","uvicon-minus":"e614","uvicon-plus":"e625","uvicon-info-circle":"e69f","uvicon-info-circle-fill":"e6a7","uvicon-question-circle":"e622","uvicon-question-circle-fill":"e6bc","uvicon-close":"e65a","uvicon-checkmark":"e64a","uvicon-checkmark-circle":"e643","uvicon-checkmark-circle-fill":"e668","uvicon-setting":"e602","uvicon-setting-fill":"e6d0","uvicon-heart":"e6a2","uvicon-heart-fill":"e68b","uvicon-camera":"e642","uvicon-camera-fill":"e650","uvicon-more-circle":"e69e","uvicon-more-circle-fill":"e684","uvicon-chat":"e656","uvicon-chat-fill":"e63f","uvicon-bag":"e647","uvicon-error-circle":"e66e","uvicon-error-circle-fill":"e655","uvicon-close-circle":"e64e","uvicon-close-circle-fill":"e666","uvicon-share":"e629","uvicon-share-fill":"e6bb","uvicon-share-square":"e6c4","uvicon-shopping-cart":"e6cb","uvicon-shopping-cart-fill":"e630","uvicon-bell":"e651","uvicon-bell-fill":"e604","uvicon-list":"e690","uvicon-list-dot":"e6a9","uvicon-zhifubao-circle-fill":"e617","uvicon-weixin-circle-fill":"e6cd","uvicon-weixin-fill":"e620","uvicon-qq-fill":"e608","uvicon-qq-circle-fill":"e6b9","uvicon-moments-circel-fill":"e6c2","uvicon-moments":"e6a0","uvicon-car":"e64f","uvicon-car-fill":"e648","uvicon-warning-fill":"e6c7","uvicon-warning":"e6c1","uvicon-clock-fill":"e64b","uvicon-clock":"e66c","uvicon-edit-pen":"e65d","uvicon-edit-pen-fill":"e679","uvicon-email":"e673","uvicon-email-fill":"e683","uvicon-minus-circle":"e6a5","uvicon-plus-circle":"e603","uvicon-plus-circle-fill":"e611","uvicon-file-text":"e687","uvicon-file-text-fill":"e67f","uvicon-pushpin":"e6d1","uvicon-pushpin-fill":"e6b6","uvicon-grid":"e68c","uvicon-grid-fill":"e698","uvicon-play-circle":"e6af","uvicon-play-circle-fill":"e62a","uvicon-pause-circle-fill":"e60c","uvicon-pause":"e61c","uvicon-pause-circle":"e696","uvicon-gift-fill":"e6b0","uvicon-gift":"e680","uvicon-kefu-ermai":"e660","uvicon-server-fill":"e610","uvicon-coupon-fill":"e64c","uvicon-coupon":"e65f","uvicon-integral":"e693","uvicon-integral-fill":"e6b1","uvicon-home-fill":"e68e","uvicon-home":"e67b","uvicon-account":"e63a","uvicon-account-fill":"e653","uvicon-thumb-down-fill":"e628","uvicon-thumb-down":"e60a","uvicon-thumb-up":"e612","uvicon-thumb-up-fill":"e62c","uvicon-lock-fill":"e6a6","uvicon-lock-open":"e68d","uvicon-lock-opened-fill":"e6a1","uvicon-lock":"e69d","uvicon-red-packet":"e6c3","uvicon-photo-fill":"e6b4","uvicon-photo":"e60d","uvicon-volume-off-fill":"e6c8","uvicon-volume-off":"e6bd","uvicon-volume-fill":"e624","uvicon-volume":"e605","uvicon-download":"e670","uvicon-arrow-up-fill":"e636","uvicon-arrow-down-fill":"e638","uvicon-play-left-fill":"e6ae","uvicon-play-right-fill":"e6ad","uvicon-arrow-downward":"e634","uvicon-arrow-leftward":"e63b","uvicon-arrow-rightward":"e644","uvicon-arrow-upward":"e641","uvicon-arrow-down":"e63e","uvicon-arrow-right":"e63c","uvicon-arrow-left":"e646","uvicon-arrow-up":"e633","uvicon-skip-back-left":"e6c5","uvicon-skip-forward-right":"e61f","uvicon-arrow-left-double":"e637","uvicon-man":"e675","uvicon-woman":"e626","uvicon-en":"e6b8","uvicon-twitte":"e607","uvicon-twitter-circle-fill":"e6cf"},be=(e,t)=>{const o=e.__vccOpts||e;for(const[i,a]of t)o[i]=a;return o};const Ce=be({name:"uv-icon",emits:["click"],mixins:[L,Se,{props:{name:{type:String,default:""},color:{type:String,default:"#606266"},size:{type:[String,Number],default:"16px"},bold:{type:Boolean,default:!1},index:{type:[String,Number],default:null},hoverClass:{type:String,default:""},customPrefix:{type:String,default:"uvicon"},label:{type:[String,Number],default:""},labelPos:{type:String,default:"right"},labelSize:{type:[String,Number],default:"15px"},labelColor:{type:String,default:"#606266"},space:{type:[String,Number],default:"3px"},imgMode:{type:String,default:"aspectFit"},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},top:{type:[String,Number],default:0},stop:{type:Boolean,default:!1},...null==(o=null==(t=uni.$uv)?void 0:t.props)?void 0:o.icon}}],data:()=>({colorType:["primary","success","info","error","warning"]}),computed:{uClasses(){let e=[];return e.push(this.customPrefix),e.push(this.customPrefix+"-"+this.name),this.color&&this.colorType.includes(this.color)&&e.push("uv-icon__icon--"+this.color),e},iconStyle(){let e={};return e={fontSize:this.$uv.addUnit(this.size),lineHeight:this.$uv.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:this.$uv.addUnit(this.top)},this.color&&!this.colorType.includes(this.color)&&(e.color=this.color),e},isImg(){const e=this.name.indexOf("data:")>-1&&this.name.indexOf("base64")>-1;return-1!==this.name.indexOf("/")||e},imgStyle(){let e={};return e.width=this.width?this.$uv.addUnit(this.width):this.$uv.addUnit(this.size),e.height=this.height?this.$uv.addUnit(this.height):this.$uv.addUnit(this.size),e},icon(){const e=Te["uvicon-"+this.name];return e?unescape(`%u${e}`):["uvicon"].indexOf(this.customPrefix)>-1?this.name:""}},methods:{clickHandler(e){this.$emit("click",this.index),this.stop&&this.preventEvent(e)}}},[["render",function(t,o,i,a,n,r){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uv-icon",["uv-icon--"+t.labelPos]]),onClick:o[0]||(o[0]=(...e)=>r.clickHandler&&r.clickHandler(...e))},[r.isImg?(e.openBlock(),e.createElementBlock("image",{key:0,class:"uv-icon__img",src:t.name,mode:t.imgMode,style:e.normalizeStyle([r.imgStyle,t.$uv.addStyle(t.customStyle)])},null,12,["src","mode"])):(e.openBlock(),e.createElementBlock("text",{key:1,class:e.normalizeClass(["uv-icon__icon",r.uClasses]),style:e.normalizeStyle([r.iconStyle,t.$uv.addStyle(t.customStyle)]),"hover-class":t.hoverClass},e.toDisplayString(r.icon),15,["hover-class"])),""!==t.label?(e.openBlock(),e.createElementBlock("text",{key:2,class:"uv-icon__label",style:e.normalizeStyle({color:t.labelColor,fontSize:t.$uv.addUnit(t.labelSize),marginLeft:"right"==t.labelPos?t.$uv.addUnit(t.space):0,marginTop:"bottom"==t.labelPos?t.$uv.addUnit(t.space):0,marginRight:"left"==t.labelPos?t.$uv.addUnit(t.space):0,marginBottom:"top"==t.labelPos?t.$uv.addUnit(t.space):0})},e.toDisplayString(t.label),5)):e.createCommentVNode("",!0)],2)}],["__scopeId","data-v-eab170a5"]]),ke=be({__name:"top-tabbar",props:{value:{type:Number,default:0},id:{type:String,default:""},tabBarList:{type:Array,default:()=>[]}},emits:["change"],setup(t,{emit:o}){const i=o;return(o,a)=>(e.openBlock(),e.createElementBlock("view",{id:t.id,class:"top-tapbar"},[e.createElementVNode("view",{class:"l"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.tabBarList,((o,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item",t.value==a?"active":""]),key:a,onClick:e=>{i("change",{name:o,index:a})}},e.toDisplayString(o),11,["onClick"])))),128))])],8,["id"]))}},[["__scopeId","data-v-e1b87eae"]]);Boolean,Boolean,Boolean,Boolean,Boolean,null==(a=null==(i=uni.$uv)?void 0:i.props)||a.badge,Boolean,null==(r=null==(n=uni.$uv)?void 0:n.props)||r.tabbarItem;const xe=be({name:"uv-safe-bottom",mixins:[L,Se],data:()=>({safeAreaBottomHeight:0,isNvue:!1}),computed:{style(){return this.$uv.deepMerge({},this.$uv.addStyle(this.customStyle))}},mounted(){}},[["render",function(t,o,i,a,n,r){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uv-safe-bottom",[!n.isNvue&&"uv-safe-area-inset-bottom"]]),style:e.normalizeStyle([r.style])},null,6)}],["__scopeId","data-v-71c4b1ce"]]);Boolean,Boolean,Boolean,Boolean,null==(s=null==(l=uni.$uv)?void 0:l.props)||s.tabbar;const Ne=()=>new Promise(((e,t)=>{uni.getSystemInfo({success(t){e(t)}})}));function Be(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}const Ee="function"==typeof Proxy;class Ie{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const o={};if(e.settings)for(const r in e.settings){const t=e.settings[r];o[r]=t.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let a={...o};try{const e=localStorage.getItem(i),t=JSON.parse(e);Object.assign(a,t)}catch(n){}this.fallbacks={getSettings:()=>a,setSettings(e){try{localStorage.setItem(i,JSON.stringify(e))}catch(n){}a=e}},t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((o=>{this.targetQueue.push({method:t,args:e,resolve:o})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function Ve(e,t){const o=Be(),i=Be().__VUE_DEVTOOLS_GLOBAL_HOOK__,a=Ee&&e.enableEarlyProxy;if(!i||!o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&a){const n=a?new Ie(e,i):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:n}),n&&t(n.proxiedTarget)}else i.emit("devtools-plugin:setup",e,t)}
/*!
   * vuex v4.1.0
   * (c) 2022 Evan You
   * @license MIT
   */var Re="store";function _e(t){return void 0===t&&(t=null),e.inject(null!==t?t:Re)}function Me(e,t){Object.keys(e).forEach((function(o){return t(e[o],o)}))}function ze(e,t,o){return t.indexOf(e)<0&&(o&&o.prepend?t.unshift(e):t.push(e)),function(){var o=t.indexOf(e);o>-1&&t.splice(o,1)}}function Le(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var o=e.state;De(e,o,[],e._modules.root,!0),Ae(e,o,t)}function Ae(t,o,i){var a=t._state,n=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,l={},s={},c=e.effectScope(!0);c.run((function(){Me(r,(function(o,i){l[i]=function(e,t){return function(){return e(t)}}(o,t),s[i]=e.computed((function(){return l[i]()})),Object.defineProperty(t.getters,i,{get:function(){return s[i].value},enumerable:!0})}))})),t._state=e.reactive({data:o}),t._scope=c,t.strict&&function(t){e.watch((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),a&&i&&t._withCommit((function(){a.data=null})),n&&n.stop()}function De(e,t,o,i,a){var n=!o.length,r=e._modules.getNamespace(o);if(i.namespaced&&(e._modulesNamespaceMap[r],e._modulesNamespaceMap[r]=i),!n&&!a){var l=Fe(t,o.slice(0,-1)),s=o[o.length-1];e._withCommit((function(){l[s]=i.state}))}var c=i.context=function(e,t,o){var i=""===t,a={dispatch:i?e.dispatch:function(o,i,a){var n=He(o,i,a),r=n.payload,l=n.options,s=n.type;return l&&l.root||(s=t+s),e.dispatch(s,r)},commit:i?e.commit:function(o,i,a){var n=He(o,i,a),r=n.payload,l=n.options,s=n.type;l&&l.root||(s=t+s),e.commit(s,r,l)}};return Object.defineProperties(a,{getters:{get:i?function(){return e.getters}:function(){return Pe(e,t)}},state:{get:function(){return Fe(e.state,o)}}}),a}(e,r,o);i.forEachMutation((function(t,o){!function(e,t,o,i){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){o.call(e,i.state,t)}))}(e,r+o,t,c)})),i.forEachAction((function(t,o){var i=t.root?o:r+o,a=t.handler||t;!function(e,t,o,i){(e._actions[t]||(e._actions[t]=[])).push((function(t){var a,n=o.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t);return(a=n)&&"function"==typeof a.then||(n=Promise.resolve(n)),e._devtoolHook?n.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):n}))}(e,i,a,c)})),i.forEachGetter((function(t,o){!function(e,t,o,i){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return o(i.state,i.getters,e.state,e.getters)}}(e,r+o,t,c)})),i.forEachChild((function(i,n){De(e,t,o.concat(n),i,a)}))}function Pe(e,t){if(!e._makeLocalGettersCache[t]){var o={},i=t.length;Object.keys(e.getters).forEach((function(a){if(a.slice(0,i)===t){var n=a.slice(i);Object.defineProperty(o,n,{get:function(){return e.getters[a]},enumerable:!0})}})),e._makeLocalGettersCache[t]=o}return e._makeLocalGettersCache[t]}function Fe(e,t){return t.reduce((function(e,t){return e[t]}),e)}function He(e,t,o){var i;return null!==(i=e)&&"object"==typeof i&&e.type&&(o=t,t=e,e=e.type),{type:e,payload:t,options:o}}var Oe="vuex:mutations",je="vuex:actions",$e="vuex",Ue=0;function We(e,t){Ve({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(o){o.addTimelineLayer({id:Oe,label:"Vuex Mutations",color:Ze}),o.addTimelineLayer({id:je,label:"Vuex Actions",color:Ze}),o.addInspector({id:$e,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),o.on.getInspectorTree((function(o){if(o.app===e&&o.inspectorId===$e)if(o.filter){var i=[];Je(i,t._modules.root,o.filter,""),o.rootNodes=i}else o.rootNodes=[Qe(t._modules.root,"")]})),o.on.getInspectorState((function(o){if(o.app===e&&o.inspectorId===$e){var i=o.nodeId;Pe(t,i),o.state=function(e,t,o){t="root"===o?t:t[o];var i=Object.keys(t),a={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(i.length){var n=function(e){var t={};return Object.keys(e).forEach((function(o){var i=o.split("/");if(i.length>1){var a=t,n=i.pop();i.forEach((function(e){a[e]||(a[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),a=a[e]._custom.value})),a[n]=Ke((function(){return e[o]}))}else t[o]=Ke((function(){return e[o]}))})),t}(t);a.getters=Object.keys(n).map((function(e){return{key:e.endsWith("/")?Ye(e):e,editable:!1,value:Ke((function(){return n[e]}))}}))}return a}((a=t._modules,(r=(n=i).split("/").filter((function(e){return e}))).reduce((function(e,t,o){var i=e[t];if(!i)throw new Error('Missing module "'+t+'" for path "'+n+'".');return o===r.length-1?i:i._children}),"root"===n?a:a.root._children)),"root"===i?t.getters:t._makeLocalGettersCache,i)}var a,n,r})),o.on.editInspectorState((function(o){if(o.app===e&&o.inspectorId===$e){var i=o.nodeId,a=o.path;"root"!==i&&(a=i.split("/").filter(Boolean).concat(a)),t._withCommit((function(){o.set(t._state.data,a,o.state.value)}))}})),t.subscribe((function(e,t){var i={};e.payload&&(i.payload=e.payload),i.state=t,o.notifyComponentUpdate(),o.sendInspectorTree($e),o.sendInspectorState($e),o.addTimelineEvent({layerId:Oe,event:{time:Date.now(),title:e.type,data:i}})})),t.subscribeAction({before:function(e,t){var i={};e.payload&&(i.payload=e.payload),e._id=Ue++,e._time=Date.now(),i.state=t,o.addTimelineEvent({layerId:je,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:i}})},after:function(e,t){var i={},a=Date.now()-e._time;i.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},e.payload&&(i.payload=e.payload),i.state=t,o.addTimelineEvent({layerId:je,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:i}})}})}))}var Ze=8702998,Ge={label:"namespaced",textColor:16777215,backgroundColor:6710886};function Ye(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function Qe(e,t){return{id:t||"root",label:Ye(t),tags:e.namespaced?[Ge]:[],children:Object.keys(e._children).map((function(o){return Qe(e._children[o],t+o+"/")}))}}function Je(e,t,o,i){i.includes(o)&&e.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:t.namespaced?[Ge]:[]}),Object.keys(t._children).forEach((function(a){Je(e,t._children[a],o,i+a+"/")}))}function Ke(e){try{return e()}catch(t){return t}}var Xe=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var o=e.state;this.state=("function"==typeof o?o():o)||{}},qe={namespaced:{configurable:!0}};qe.namespaced.get=function(){return!!this._rawModule.namespaced},Xe.prototype.addChild=function(e,t){this._children[e]=t},Xe.prototype.removeChild=function(e){delete this._children[e]},Xe.prototype.getChild=function(e){return this._children[e]},Xe.prototype.hasChild=function(e){return e in this._children},Xe.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Xe.prototype.forEachChild=function(e){Me(this._children,e)},Xe.prototype.forEachGetter=function(e){this._rawModule.getters&&Me(this._rawModule.getters,e)},Xe.prototype.forEachAction=function(e){this._rawModule.actions&&Me(this._rawModule.actions,e)},Xe.prototype.forEachMutation=function(e){this._rawModule.mutations&&Me(this._rawModule.mutations,e)},Object.defineProperties(Xe.prototype,qe);var et=function(e){this.register([],e,!1)};function tt(e,t,o){if(t.update(o),o.modules)for(var i in o.modules){if(!t.getChild(i))return;tt(e.concat(i),t.getChild(i),o.modules[i])}}et.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},et.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,o){return e+((t=t.getChild(o)).namespaced?o+"/":"")}),"")},et.prototype.update=function(e){tt([],this.root,e)},et.prototype.register=function(e,t,o){var i=this;void 0===o&&(o=!0);var a=new Xe(t,o);0===e.length?this.root=a:this.get(e.slice(0,-1)).addChild(e[e.length-1],a);t.modules&&Me(t.modules,(function(t,a){i.register(e.concat(a),t,o)}))},et.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),o=e[e.length-1],i=t.getChild(o);i&&i.runtime&&t.removeChild(o)},et.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),o=e[e.length-1];return!!t&&t.hasChild(o)};var ot=function(e){var t=this;void 0===e&&(e={});var o=e.plugins;void 0===o&&(o=[]);var i=e.strict;void 0===i&&(i=!1);var a=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new et(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=a;var n=this,r=this.dispatch,l=this.commit;this.dispatch=function(e,t){return r.call(n,e,t)},this.commit=function(e,t,o){return l.call(n,e,t,o)},this.strict=i;var s=this._modules.root.state;De(this,s,[],this._modules.root),Ae(this,s),o.forEach((function(e){return e(t)}))},it={state:{configurable:!0}};ot.prototype.install=function(e,t){e.provide(t||Re,this),e.config.globalProperties.$store=this,void 0!==this._devtools&&this._devtools&&We(e,this)},it.state.get=function(){return this._state.data},it.state.set=function(e){},ot.prototype.commit=function(e,t,o){var i=this,a=He(e,t,o),n=a.type,r=a.payload,l={type:n,payload:r},s=this._mutations[n];s&&(this._withCommit((function(){s.forEach((function(e){e(r)}))})),this._subscribers.slice().forEach((function(e){return e(l,i.state)})))},ot.prototype.dispatch=function(e,t){var o=this,i=He(e,t),a=i.type,n=i.payload,r={type:a,payload:n},l=this._actions[a];if(l){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(r,o.state)}))}catch(c){}var s=l.length>1?Promise.all(l.map((function(e){return e(n)}))):l[0](n);return new Promise((function(e,t){s.then((function(t){try{o._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(r,o.state)}))}catch(c){}e(t)}),(function(e){try{o._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(r,o.state,e)}))}catch(c){}t(e)}))}))}},ot.prototype.subscribe=function(e,t){return ze(e,this._subscribers,t)},ot.prototype.subscribeAction=function(e,t){return ze("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},ot.prototype.watch=function(t,o,i){var a=this;return e.watch((function(){return t(a.state,a.getters)}),o,Object.assign({},i))},ot.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},ot.prototype.registerModule=function(e,t,o){void 0===o&&(o={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),De(this,this.state,e,this._modules.get(e),o.preserveState),Ae(this,this.state)},ot.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete Fe(t.state,e.slice(0,-1))[e[e.length-1]]})),Le(this)},ot.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},ot.prototype.hotUpdate=function(e){this._modules.update(e),Le(this,!0)},ot.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(ot.prototype,it);const at=be({},[["render",function(t,o){return e.openBlock(),e.createElementBlock("view",{class:"loader"},[e.createElementVNode("view",{class:"circle"}),e.createElementVNode("view",{class:"circle"}),e.createElementVNode("view",{class:"circle"}),e.createElementVNode("view",{class:"circle"})])}],["__scopeId","data-v-0600edff"]]);const nt=be({},[["render",function(t,o){return e.openBlock(),e.createElementBlock("div",{"aria-label":"Orange and tan hamster running in a metal wheel",role:"img",class:"wheel-and-hamster"},[e.createElementVNode("div",{class:"wheel"}),e.createElementVNode("div",{class:"hamster"},[e.createElementVNode("div",{class:"hamster__body"},[e.createElementVNode("div",{class:"hamster__head"},[e.createElementVNode("div",{class:"hamster__ear"}),e.createElementVNode("div",{class:"hamster__eye"}),e.createElementVNode("div",{class:"hamster__nose"})]),e.createElementVNode("div",{class:"hamster__limb hamster__limb--fr"}),e.createElementVNode("div",{class:"hamster__limb hamster__limb--fl"}),e.createElementVNode("div",{class:"hamster__limb hamster__limb--br"}),e.createElementVNode("div",{class:"hamster__limb hamster__limb--bl"}),e.createElementVNode("div",{class:"hamster__tail"})])]),e.createElementVNode("div",{class:"spoke"})])}],["__scopeId","data-v-29976b95"]]),rt=be({__name:"loading",props:{type:{type:String,default:"loading"},animation:{type:Boolean,default:!0}},setup:t=>(o,i)=>(e.openBlock(),e.createElementBlock("view",{class:"loading-container",style:e.normalizeStyle({position:"loading"==t.type?"absolute":"relative"})},["loading"==t.type?(e.openBlock(),e.createBlock(at,{key:0})):"pulldown"==t.type?(e.openBlock(),e.createBlock(nt,{key:1})):e.createCommentVNode("",!0)],4))},[["__scopeId","data-v-df61b3ec"]]),lt=be({__name:"mid-area",props:{length:{type:Number,required:!0},current:{type:Number,default:0},pageName:{type:String,default:" "},refresh:{type:Boolean,default:!0},height:{type:Number,default:0},background:{type:String,default:"#F6F6F6"}},emits:["pageChange"],setup(t,{emit:o}){_e();const i=e.ref(0),a=e.reactive({x:0,y:0}),n=e.ref(!1),r=e.ref(0),l=e.reactive({x:9,y:0});e.onMounted((async()=>{const e=await Ne();i.value=e.screenWidth}));const s=e.computed((()=>({width:i.value*c.length+"px",transform:n.value?`translate(${r.value}px,${l.y}px)`:`translate(${-c.current*i.value}px,${l.y}px)`,transition:n.value?"none":"transform 0.3s"}))),c=t;e.watch((()=>c.current),(e=>{l.x=-c.current*i.value}),{immediate:!0});const h=o,u=e=>{a.x=e.changedTouches[0].pageX,a.y=e.changedTouches[0].pageY},d=e=>{n.value=!1;const t=e.changedTouches[0].pageY-a.y,o=e.changedTouches[0].pageX-a.x;Math.abs(o)-Math.abs(t)<50||(o<-100&&c.current<c.length-1?h("pageChange","r"):o>100&&c.current>0&&h("pageChange","l"))},m=e=>{const t=e.changedTouches[0].pageX-a.x,o=e.changedTouches[0].pageY-a.y;Math.abs(t)-Math.abs(o)<50||t<0&&c.current==c.length-1||t>0&&0==c.current||(n.value=!0,r.value=l.x+t)};return(o,i)=>(e.openBlock(),e.createElementBlock("view",{class:"home-mid",style:e.normalizeStyle({height:`${t.height}px`,background:t.background})},[e.createElementVNode("view",{class:"content",style:e.normalizeStyle(s.value),onTouchstartCapture:u,onTouchmoveCapture:m,onTouchendCapture:d},[e.renderSlot(o.$slots,"default",{},void 0,!0)],36)],4))}},[["__scopeId","data-v-2ec25bce"]]),st=(e,t)=>new Promise(((o,i)=>{uni.createSelectorQuery().in(e.proxy).select(t).boundingClientRect((e=>{o(e)})).exec()}));const ct=be({name:"uv-line",mixins:[L,Se,{props:{color:{type:String,default:"#d6d7d9"},length:{type:[String,Number],default:"100%"},direction:{type:String,default:"row"},hairline:{type:Boolean,default:!0},margin:{type:[String,Number],default:0},dashed:{type:Boolean,default:!1},...null==(h=null==(c=uni.$uv)?void 0:c.props)?void 0:h.line}}],computed:{lineStyle(){const e={};return e.margin=this.margin,"row"===this.direction?(e.borderBottomWidth="1px",e.borderBottomStyle=this.dashed?"dashed":"solid",e.width=this.$uv.addUnit(this.length),this.hairline&&(e.transform="scaleY(0.5)")):(e.borderLeftWidth="1px",e.borderLeftStyle=this.dashed?"dashed":"solid",e.height=this.$uv.addUnit(this.length),this.hairline&&(e.transform="scaleX(0.5)")),e.borderColor=this.color,this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,o,i,a,n,r){return e.openBlock(),e.createElementBlock("view",{class:"uv-line",style:e.normalizeStyle([r.lineStyle])},null,4)}],["__scopeId","data-v-a91e6eb8"]]);function ht(e,t=!0){if((e=String(e).toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){let t="#";for(let o=1;o<4;o+=1)t+=e.slice(o,o+1).concat(e.slice(o,o+1));e=t}const o=[];for(let t=1;t<7;t+=2)o.push(parseInt(`0x${e.slice(t,t+2)}`));return t?`rgb(${o[0]},${o[1]},${o[2]})`:o}if(/^(rgb|RGB)/.test(e)){return e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",").map((e=>Number(e)))}return e}function ut(e){const t=e;if(/^(rgb|RGB)/.test(t)){const e=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");let o="#";for(let t=0;t<e.length;t++){let i=Number(e[t]).toString(16);i=1==String(i).length?`0${i}`:i,"0"===i&&(i+=i),o+=i}return 7!==o.length&&(o=t),o}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;{const e=t.replace(/#/,"").split("");if(6===e.length)return t;if(3===e.length){let t="#";for(let o=0;o<e.length;o+=1)t+=e[o]+e[o];return t}}}const dt=be({name:"uv-loading-icon",mixins:[L,Se,{props:{show:{type:Boolean,default:!0},color:{type:String,default:"#909193"},textColor:{type:String,default:"#909193"},vertical:{type:Boolean,default:!1},mode:{type:String,default:"spinner"},size:{type:[String,Number],default:24},textSize:{type:[String,Number],default:15},textStyle:{type:Object,default:()=>({})},text:{type:[String,Number],default:""},timingFunction:{type:String,default:"linear"},duration:{type:[String,Number],default:1200},inactiveColor:{type:String,default:""},...null==(d=null==(u=uni.$uv)?void 0:u.props)?void 0:d.loadingIcon}}],data:()=>({array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}),computed:{otherBorderColor(){const e=function(e="rgb(0, 0, 0)",t="rgb(255, 255, 255)",o=10){const i=ht(e,!1),a=i[0],n=i[1],r=i[2],l=ht(t,!1),s=(l[0]-a)/o,c=(l[1]-n)/o,h=(l[2]-r)/o,u=[];for(let d=0;d<o;d++){let i=ut(`rgb(${Math.round(s*d+a)},${Math.round(c*d+n)},${Math.round(h*d+r)})`);0===d&&(i=ut(e)),d===o-1&&(i=ut(t)),u.push(i)}return u}(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:e:"transparent"}},watch:{show(e){}},mounted(){this.init()},methods:{init(){setTimeout((()=>{this.show&&this.addEventListenerToWebview()}),20)},addEventListenerToWebview(){const e=getCurrentPages(),t=e[e.length-1].$getAppWebview();t.addEventListener("hide",(()=>{this.webviewHide=!0})),t.addEventListener("show",(()=>{this.webviewHide=!1}))}}},[["render",function(t,o,i,a,n,r){return t.show?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uv-loading-icon",[t.vertical&&"uv-loading-icon--vertical"]]),style:e.normalizeStyle([t.$uv.addStyle(t.customStyle)])},[n.webviewHide?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uv-loading-icon__spinner",[`uv-loading-icon__spinner--${t.mode}`]]),ref:"ani",style:e.normalizeStyle({color:t.color,width:t.$uv.addUnit(t.size),height:t.$uv.addUnit(t.size),borderTopColor:t.color,borderBottomColor:r.otherBorderColor,borderLeftColor:r.otherBorderColor,borderRightColor:r.otherBorderColor,"animation-duration":`${t.duration}ms`,"animation-timing-function":"semicircle"===t.mode||"circle"===t.mode?t.timingFunction:""})},["spinner"===t.mode?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(n.array12,((t,o)=>(e.openBlock(),e.createElementBlock("view",{key:o,class:"uv-loading-icon__dot"})))),128)):e.createCommentVNode("",!0)],6)),t.text?(e.openBlock(),e.createElementBlock("text",{key:1,class:"uv-loading-icon__text",style:e.normalizeStyle([{fontSize:t.$uv.addUnit(t.textSize),color:t.textColor},t.$uv.addStyle(t.textStyle)])},e.toDisplayString(t.text),5)):e.createCommentVNode("",!0)],6)):e.createCommentVNode("",!0)}],["__scopeId","data-v-3eb40c0b"]]);const mt=be({name:"uv-loadmore",mixins:[L,Se,{props:{status:{type:String,default:"loadmore"},bgColor:{type:String,default:"transparent"},icon:{type:Boolean,default:!0},fontSize:{type:[String,Number],default:14},iconSize:{type:[String,Number],default:16},color:{type:String,default:"#606266"},loadingIcon:{type:String,default:"spinner"},loadmoreText:{type:String,default:"加载更多"},loadingText:{type:String,default:"正在加载..."},nomoreText:{type:String,default:"没有更多了"},isDot:{type:Boolean,default:!1},iconColor:{type:String,default:"#b7b7b7"},marginTop:{type:[String,Number],default:10},marginBottom:{type:[String,Number],default:10},height:{type:[String,Number],default:"auto"},line:{type:Boolean,default:!1},lineColor:{type:String,default:"#E6E8EB"},dashed:{type:Boolean,default:!1},...null==(p=null==(m=uni.$uv)?void 0:m.props)?void 0:p.loadmore}}],data:()=>({dotText:"●"}),computed:{loadTextStyle(){return{color:this.color,fontSize:this.$uv.addUnit(this.fontSize),lineHeight:this.$uv.addUnit(this.fontSize),backgroundColor:this.bgColor}},showText(){let e="";return e="loadmore"==this.status?this.loadmoreText:"loading"==this.status?this.loadingText:"nomore"==this.status&&this.isDot?this.dotText:this.nomoreText,e}},methods:{loadMore(){"loadmore"==this.status&&this.$emit("loadmore")}}},[["render",function(t,o,i,a,n,r){const l=D(e.resolveDynamicComponent("uv-line"),ct),s=D(e.resolveDynamicComponent("uv-loading-icon"),dt);return e.openBlock(),e.createElementBlock("view",{class:"uv-loadmore",style:e.normalizeStyle([{backgroundColor:t.bgColor,marginBottom:t.$uv.addUnit(t.marginBottom),marginTop:t.$uv.addUnit(t.marginTop),height:t.$uv.addUnit(t.height)},t.$uv.addStyle(t.customStyle)])},[t.line?(e.openBlock(),e.createBlock(l,{key:0,length:"140rpx",color:t.lineColor,hairline:!1,dashed:t.dashed},null,8,["color","dashed"])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["loadmore"==t.status||"nomore"==t.status?"uv-more":"","uv-loadmore__content"])},["loading"===t.status&&t.icon?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uv-loadmore__content__icon-wrap"},[e.createVNode(s,{color:t.iconColor,size:t.iconSize,mode:t.loadingIcon},null,8,["color","size","mode"])])):e.createCommentVNode("",!0),e.createElementVNode("text",{class:e.normalizeClass(["uv-line-1",["nomore"==t.status&&1==t.isDot?"uv-loadmore__content__dot-text":"uv-loadmore__content__text"]]),style:e.normalizeStyle([r.loadTextStyle]),onClick:o[0]||(o[0]=(...e)=>r.loadMore&&r.loadMore(...e))},e.toDisplayString(r.showText),7)],2),t.line?(e.openBlock(),e.createBlock(l,{key:1,length:"140rpx",color:t.lineColor,hairline:!1,dashed:t.dashed},null,8,["color","dashed"])):e.createCommentVNode("",!0)],4)}],["__scopeId","data-v-23988964"]]),pt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAD1BMVEVHcExRUVFMTExRUVFRUVE9CdWsAAAABHRSTlMAjjrY9ZnUjwAAAQFJREFUWMPt2MsNgzAMgGEEE1B1gKJmAIRYoCH7z9RCXrabh33iYktcIv35EEg5ZBh07pvxJU6MFSPOSRnjnBUjUsaciRUjMsb4xIoRCWNiYsUInzE5sWKEyxiYWDbyefqHx1zIeiYTk7mQYziTYecxHvEJjwmIT3hMQELCYSISEg4TkZj0mYTEpM8kJCU9JiMp6TEZyUmbAUhO2gxAQNJiIAKSFgMRmNQZhMCkziAEJTUGIyipMRjBSZkhCE7KDEFIUmTeGCHJxWz0zXaE0GTCG8ZFtEaS347r/1fe11YyHYVfubxayfjoHmc0YYwmmmiiiSaaaKLJ7ckyz5ve+dw3Xw2emdwm9xSbAAAAAElFTkSuQmCC",gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAElBMVEVHcEz///////////////////+IGTx/AAAABnRSTlMA/dAkXZOhASU/AAABYElEQVRYw+2YwXLCIBCGsdAHWGbyAKZ4zxi9O017rxLf/1UaWFAgA1m8dcpedNSPf/l/Vh0Ya/Wn6hN0JcGvoCqRM4C8VBFiDwBqqNuJKV0rAnCgy3AUqZE57x0iqTL8Br4U3WBf/YWaIlTKfAcELU/h9w72CSVPa3C3OCDvhpHbRp/s2vq4fHhCeiCl2A3m4Qd71DQR257mFBlMcTlbFnFWzNtHxewYEfSiaLS4el8d8nyhmKJd1CF4eOS0keLMAuSxubLBIeIGQW8YHCFFo7EH9+YDcQt9FMZEswTheaNxTHwHT8SZorJjMrEVwo4Zo0U8HSEyZvJMOg4RjnmmRr8nDYeIz3OMkbfE/QhBo+U9RnZJxjGCRh/WKmHEMWLNkfPKsGh/CWJk1JjG0kcuJggTt34VDP8aWAFhp4nybVb5+9qQhjSkIQ1pSEMa8k+Q5U9rV3dF8MpFBK+/7miVq1/HZ2qmo9D+pAAAAABJRU5ErkJggg==",ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAKlBMVEVHcEzDw8Ovr6+pqamUlJTCwsKenp61tbWxsbGysrLNzc2bm5u5ubmjo6MpovhuAAAACnRSTlMA/P79/sHDhiZS0DxZowAABBBJREFUWMPtl89rE0EUx7ctTXatB3MI1SWnDbUKPUgXqh4ED8Uf7KUVSm3ooVSpSii0Fn/gD4j4o+APiEoVmos9FO2celiqZVgwgaKHPQiCCkv+F99kM7Ozm5kxq1dfD91k9pPve9/3ZjbRNHHok/mKli4eIPNgSuRObuN9SqSEzM20iGnm0yIbqCuV7NSSSIV7uyPM6JMBYdeTOanh/QihJYZsUCSby+VkMj2AvOt0rAeQAwqE3lfKMZVlQCZk1QOCKkkVPadITCfIRNKxfoJI5+0OIFtJx14CMSg1mRSDko7VAfksRQzEbGYqxOJcVTWMCH2I1/IACNW0PWU2M8cmAVHtnH5mM1VRWtwKZjOd5JbF6s1IbaYqaotjNlPHgDAnlAizubTR6ovMYn052g/U5qcmOpi0WL8xTS/3IfSet5m8MEr5ajjF5le6dq/OJpobrdY0t3i9QgefWrxW9/1BLhk0E9m8FeUMhhXal499iD0eQRfDF+ts/tttORRerfp+oV7f4xJj82iUYm1Yzod+ZQEAlS/8mMBwKebVmCVp1f0JLS6zKd17+iwRKTARVg2SHtz3iEbBH+Q+U28zW2Jiza8Tjb1YFoYZMsJyjDqp3M9XBQdSdPLFdxEpvOB37JrHcmR/y9+LgoTlCFGZEa2sc6d4PGlweEa2JSVPoVm+IfGG3ZL037iV9oH+P+Jxc4HGVflNq1M0pivao/EopO4b/ojVCP9GjmiXOeS0DOn1o/iiccT4ORnyvBGF3yUywkQajW4Ti0SGuiy/wVSg/L8w+X/8Q+hvUx8Xd90z4oV5a1i88MbFWHz0WZZ1UrTwBGPX3Rat9AFiXRMRjoMdIdJLEOt2h7jrYOzgOamKZSWSNspOS0X8SAqRYmxRL7sg4eLzYmNehcxh3uoyud/BH2Udux4ywxFTc1xC7Mgf4vMhc5S+kSH3Y7yj+qpwIWSoPTVCOOPVthGx9FbGqrwFw6wSFxJr+17zeKcztt3u+2roAEVgUjDd+AHGuxHy2rZHaa8JMkTHEeyi85ANPO9j9BVuBRD2FY5LDMo/Sz/2hReqGIs/KiFin+CsPsYO/yvM3jL2vE8EbX7/Bf8ejtr2GLN65bioAdgLd8Bis/mD5GmP2qeqyo2ZwQEOtAjRIDH7mBKpUcMoApbZJ5UIxkEwxyMZyMxW/uKFvHCFR3SSmerHyDNQ2dF4JG6zIMpBgLfjSF9x1D6smFcYnGApjmSLICO3ecCDWrQ48geba9DI3STy2i7ax6WIB62fSyIZIiO3GFQqSURp8wCo7GhJBGwuSovJBNjb7kT6FPVnIa9qJ2Ko+l9mefGIdinaMp0yC1URYiwsdfNE45EuA5Cx9EhalfvN5s+UyItm81vaB3p4joniN+SCP7Qc1hblAAAAAElFTkSuQmCC",yt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAElBMVEX///9HcEz///////////////84chYNAAAABnRSTlP/AGzCOYZj5g1nAAACfklEQVRYw+2YTVPDIBCGtza9Jw25a0bvcax30o73OOr//yvma2F3YWlpPTijXNpAHrK8LLALVPFium2vNIFSbwGKTGQA2GUiHcD29yDNy3sMIdUBQl7r2H8mOEVqAHgPkYZUS6Qc2zYhQqtjyDZEximCZwWZLIBeIgYShs2NzxKpSUehYpMJhURGb+O+w5BpMCAREKPnCDHbIY20SzhM5yxziAXpOiBXydrekT9i5XDEq4NIIHHgyU5mRGqviII4mREJJA4QJzMiILwlRJzpKxJKvCBm8OsBBbLux0tsPl4RKYm5aPu6jw1U4mGxEUR9g8M1PcqBEp/WJliNgYOXueBzS4jZSIcgY5lCtevgDSgyzE+rAfuOTQMq0yzvoGH18qju27Mayzs4fPyMziCx81NJa5RNfW7vPYK9KOfDiVkBxFHG8hAj9txuoBuSWORsFfkpBf7xKFLSeaOefEojh5jz22DJEqMP8fUyaKdQx+RnG+yXMpe8Aars8ueR1pVH/bW3FyyvPRw90upLDHwpgBDtg4aUBNkxRLXMAi03IhcZtr1m+FeI/O/JNyDmmL1djLOauSlNflBpW18RQ2bPqXI22MXXEk75KRHTnkPkYbESbdKP2ZFk0r5sIwffAjy1lx+vx7NLjB6/E7Jfv5ERKhzpN0w8IDE8IGFDv5dhz10s7GFiXRZcUeLCEG5P5nDq9k4PFDcoMpE3GY4OuxuCXhmuyNB6k0RsLIAvqp9NE5r8ZCSS8gxnUp7ODdYhZTqxuiJ9uyJJtPmpqJ7wVj+XVieS903iViHziqAhchLEJAyb7jWU647EpUofQ0ziUuXXXhDddtlllSwjgSQu7r4BRWhQqfDPMVwAAAAASUVORK5CYII=",vt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAElBMVEVRUVFHcExTU1NRUVFRUVFRUVFOSlSUAAAABnRSTlP/AI6+VySB3ZENAAACcElEQVRYw+2YyYKCMAyGI8hdpdxdZu7gcpdZ7jL6/s8yYheSNi0aPdqbwOffpGmaFOYPD3gj4bisN7vddv17N/JVgxn5x12IWgIaWTuO/IE3PseQbwjGPo2cgRmHFLJwdm/X643zwiqOKPPJ1nj3sjEP2iiifZWj5bhopSyGaEO2HX5fbQJzwJ+W7x/jw5ZFjsEU0PMph9xE8i5EqprKALW95eJQURkgzw98uJ/JvwGecR7bIjWWsUgVrrIfFZ2HlLy3sKETD1mmRLRMRhGVssRa0xJkdn3SpJBymBkM8+pSSDXMDNyDaToVHd2fgpNt0sjwiUZO19+jGQ+gQEg9Oq+bufmAVGihomNmjQG7UG3020vrlm7lkFnKFGU3kZ0KGAdmKe821pipQ+qEKcrZeTL2g5FsUks4cStjEZWwXg0b0n4GxmEpkWwIs5VBynjgK7xZaz1/0D7OxkVuLpsY5BQNFyLS84VBjjbg0iL2r2EQHBOxBhikuUOkdxODVF1cxHoWtPPsiyXO455Iv34hssCO8EV4ZIYTjS8SR4qYSHRiTiYQ4ZFbHi0iIhhBTi6dTCgSWRcnw4h4yGTuyTAiOGBIWGoZTgSHJQl+LcOJ4OCnW6yX2bMnJ9pidCOXtkTkTrIGpYuOynAiOF14SamMiOCk5Ke+mq8BcOrrvym8d0zKIQnWT+M1WwOQNO4fFiWb18hhERxJPx2fblbPHHyC41VyiAtKBUFBIih7JMWVoIQTFIr3lKPN80WvoLSWFPC653ioTZA0I0FrQ7qU6asaK0H7JmkSJa2ooOGVtNUsc3j9FYHkIkJy3SG6VHnfXKXGP9t4N9Q4Ye98AAAAAElFTkSuQmCC",wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAGFBMVEVHcEz///////////////////////////8dS1W+AAAAB3RSTlMAiVYk6KvDHLfaegAAAo1JREFUWMPtWEtzmzAQNhCTq910ytXpiyvxTNOr60zrayepx9d02gnX4sTm7xcEiJX2gdnkGJ1A4tOnfWqXyeR1vMRYzrcPD9v5h5MBl3/Ldvx4cxIg/FWC8X0xjLjalM54uhhCfCrRuJURX0pi3EmIqZV7O59vrRZmguStHL9b7S7ftfLwOtiZDw7AHMtmquAQ12b5Wwbnordm8g9zLLO49qc/m2n6aKnhwPOGZ08hAiNHhheiHae1lOUPGZpQkPKa3q0mOUjaRzSRaGUjpy/mmWSwySSpllcEteBKAT52KEnSbblA51pJEPxBQoiH1FP4E3s5+FJv07h6/ylD6ui7B+9fq/ehrFB98ghec9EoVtyjK8pqCHLmCBOwMWSCeWFNN4MbPAk55NhsvoFHSSVR0k5TCTTEzlUGcqV/nVp7n9oIVkmtaqbAEqEgfdgHJPwsEAyZ9r4VAZXFjpEwyaw3+H2v42KYxKhs1XvY/gSSGv+IHyUSuHXCeZhLAgVI3EjgSGo1Fb3xO0tGGU9S2/KAIbtjxpJASG73qox6w5LUq0cEOa+iIONIWIilQSQ0pPa2jgaRQAgQP7c0mITRWGxpMAmEQFN2NAQJNCV0mI6GIIEO47hlQ0ORQLd0nL+hoUjg1m6I1TRr8uYEAriBHLcVFQ5UEMiBe3XkTBEG04WXlGKGxPnMS305XQPA1Ocn2JiuAZwE66fxnKwBnDTuXxZTMq85lwW6kt5ndLqZPefiU1yvmktcUSooChJF2aMprhQlnKJQ5FxRKkcVRa+itNYU8Io2oVkY14w0NMWYlqft91Bj9VHq+ca3b43BxjWJmla0sfKohlfTVpPN+93L/yLQ/IjQ/O5Q/VR5HdL4D7mlxmjwVdELAAAAAElFTkSuQmCC",St="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAALeGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDg4LCAyMDIwLzA3LzEwLTIyOjA2OjUzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTEzVDE5OjA5OjQwKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyNC0wMS0xM1QxOTowOTo0MCswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZWQwMWYzNWQtOWRjOC00MDBiLWEyMmQtNjM5OGZiNzVhNGRiIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZDhlMzQ3ZmEtMDY2My1jYTRiLTgzNTctNTk4YjBkNGIzOTU2IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6WVJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiIGV4aWY6Q29sb3JTcGFjZT0iMSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjMwMCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjMwMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBzdEV2dDp3aGVuPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQwNjg2NzJkLWY5NDMtOTU0Mi1iMDBiLTVlMDExNmE1NmIzZSIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxMDoyNjoxNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmJkZmUyZC0xY2Q2LTJiNDgtYjUyNS05YzlhZjdlNjA4NDMiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMTE6MjM6NDArMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTQ5MjM5MDAtNDhiZC03YTQ1LWI4NGItYmVlZTVjOWUxYTM1IiBzdEV2dDp3aGVuPSIyMDI0LTAxLTEzVDExOjIzOjQwKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmVkMDFmMzVkLTlkYzgtNDAwYi1hMjJkLTYzOThmYjc1YTRkYiIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxOTowOTo0MCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmFiYmRmZTJkLTFjZDYtMmI0OC1iNTI1LTljOWFmN2U2MDg0MyIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjM2ZGQ4NTQxLWQ0MWEtYmY0Yy1iZjA3LWNmNjZhNjZhMDg2MSIgc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmQwODAyODAyLTM1MmEtODU0YS05MWI3LTZkZTZkNTJlYjNkMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pm30U/gAAAAJcEhZcwAALiMAAC4jAXilP3YAAAA/UExURUdwTODg4O3t7e7u7unp6d7e3uTk5M/Pz8nJyePj4+jo6Pj4+MrKyszMzO7u7unp6fb29vLy8vr6+v7+/sHBweag3xAAAAAOdFJOUwAxia5pF0n+/vzX3KbULQ2DYQAACG1JREFUeNrtm4l2o7gShi20IWFrAd7/WUc7EosDWKZ976Hc7WTmdMKXv0qlqpLyeNx222233Xbbbbfddtv/mOHn8xexSNsiRH5PrbFtW4p+DetpsF4v8Gs+HA3WEwOAfwzriYxaLTVsP8X1QK0z+vqQCzewYogi60aL9SEX5oyxphYVCFTGjfSJCTmN1jBruN5KTGCUS8bhySQGHRaohmW4glwtldbOeYJYKlgvbyUuA8aFFEKc++aIM4hrRnyiMnIZKq1PrihcM3GNKboMF1Naa9X9+8T1KrxIlVbGjv3cAEHOYYMqqgUsVuJqqehV3+sjDwB+DTJp0lYtMCyZpxqjF4e+74+sRcQSFZO8UonUSEFzuUY+DKo59A2kZDatGCjzCauy/2AmhSyCq0WHEj0KTNJDmVeNhErMt1Q8W4xti4/FwMJ4jaxl05TKFiNtD3kBGrHnhiph9V0eXQc6DkyE2xX830AlKshFTErXeuCZXK/9m41wFsGSfZ4lcGeyZ98PrylJ7MWCojQZ3qSukL2QslgdngqJnTEPdTJhXvbNBoR/+7wabIxWduN/Ja5dWEivm4XSZ2uQckNzmRlHrn2lc6eiafvS4V2Hd12tesau8toZW0CtWoZYb9t+OqxdCYKYjVPF16pVbILIy/gR7MVaWMHYPCoa2VkzkX4Iry2rirXbumGyAjGC1h62YLw6ApsNKZph3fpIWHt08JovRWD62sejpXhTrhWrPpl6zZ6PW2oTG5ltlvgtF6weNYCWKeJJSfg4W6PNJlj3sVZgOXV4lc8n4RlkMTLEBDVoYc3nI09kpyzzfgWsjyzBZSNDKF2/wjh+sxYvn8Y1scxlfLF9T1RBO3wVHsnq8Fk4oGkEh/0KJPSa8T2CeWE5X9BPmgLsaRIGeNL2kshCsWoLBmdPJW5Wbz1ndAKUXjPwxXYAUpSV3fy5BJg1aa1tyVXHHMgVH31ewDVrleHr9XqC684SUF4mecR3+wW5SC2QNvxUizRv98mLDhPgYiMDb+v8g0OADxqxcnf9w01mZYJF0fUVP5LcdswbsMmy1DVs5PlE5NpNiTR8M8qAWZkOy6aN13VcoOF2/s3xn3Mes8Xza05tgR/BuNz69nlNzMR0fH45p+G4R9oxh2mKt9MF4J7K/lvWUojwF5nCgCpuRUptnZMQ3au0nSo2UsHgV3xpmeLYzGml3ZFBBzYGPCpOQRwXs1/GG1J74dlZc6JKUOtjBAz9XjVxucGWHbZVJDPJQGYDRl1Qmf1ovk2Sbghb6MQlnF7mBzM1bgOqJAPpoOQaVe+4Skcit3uqHMyG/Sh1rHNN0gAfM0nnPrmulfLVBSm20TSZSdWa0LJl2ukVyE4vTYCgP3uQkwv1TKtQWgxDzBSg80OQjCs4klKvuUzHLCfIbDKIE/S5VIGqD1iD2819pkAqTWdmeina+oZABi7X5B1MGoTJqJSchuk6JNHcgUPAcsVFk0+N0oDN68Vo7FQSmCXjx46OEtUk1lpY2ZFQGr/AcpqVato4wPUD+RhfAeyQI5sJ6l2sDwnKqNFSJvpiyJbFl3kTOjZ2ievwCR7hkUoWeV2vOLAXvB39AJoyqYa81A5cvaAidXYTFTycKDBcalVK5f3XS89kzLVl9txfL+K+p6NUnitz5KkKm7D3DrRPNq4bk7l20aFRppNilmuQI+uzTtj9wPBkTsVwM7HbJ5pwGgujyRyZDzQLNoiRFluRtQ+GzEguqRxUL+ZMFqulMzIfaP3ARj2k/txB8c+2HyjmDizCaVWtNoE5MvMlKs/4VQ7HUJZCrU6qCKcNJ2aSWUZhJZu4VI0LB4CHFdj77DRuGi28WKAxoRyZyzGVrmc0jmk1nP5QaxZo1puqq1YIAqgZb8e/rABZJWNCNxV7DSTpOO7Aail9J9nYHtua/4ouE/aS0X1qtXQzwGx+rnbi2vhF/TfZG52oc6DPo1WCi3RTDnRk7TEntoEp38gg+DjYs2opkR3JW5EpL9rU0XSK5/6LOTAVS+72x7pm60zSf5HMdldjhzJqw1FRcxXdS3ZNZp0s92FiyluUvBPoD9ynZNkBiu2NF11ofnlnQbZgKqvusj9R/f6DOzgVsahbNlXxlsxU8y7qrbTupitRyxFBKG6H3aEPUqj7YrzAymq41FXlZLlO4WLbvG2Kg4vYB+wPfWS2B5Rq8TW9ROpAZbiF6MmCTsx1NLLsx7NOoOiZup2CNbZ36xc96ErcxzuILGrmmFhimjtwKo/yTm7feTVwB61IzbnW4967Kt3cDDotGt8JKrTiUyO3Uy2PZZt9tapXEfXhWmTgcoB+JchFWsiCKvYnhmn/tKuJDbgly897FnFfkE1rQLKy810OU7xW3bEJHCD5gERtuTGuxoJqA6qI9TNMa6MbvZomsiubbPYx78YXDaaRqqsyqfSaLZdjYGHLu65rDgydXCWm1P5EvcQ828f9pcBapTILSMv1nZCAc0WzFIFsGfUi/kmAxc6cFqDSYuPSMIbs1OVrwITTQM9HVRFJ5JL56qcoFzzT1uVcd2v9jFw8BHlcWtmEI86hp5Dy/zOlK8cUp/rVseRUBqawz6kmAcPLM9l5m8h4V53Iz/2mFJaTCvF8JbsMvPjU/7crbUXart0v4WyE0LnDPcAX95Knj4VUE8HCdNdUP8BDcOXKdPl4uSWbh4LfOV0HDdfipOmu+eIRrDsNPkIT7np/8ZAzVdOd1u8wHIqeXt8VqtgiO50ePeNaGG+uO9rHiKdL71pnIun8jxEKXv2r2HYBzO/mz96vFKoMM5WLk7tQXS9U5kwCu5lk7n6++kdCFWRaTUzm0/5fClWGWTrM/AGhCrJO/ZBQhTPFLwmV7ebgcdttt91222233Xbbbf+H9h+2WEtdHVinLAAAAABJRU5ErkJggg==",Tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAALeGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDg4LCAyMDIwLzA3LzEwLTIyOjA2OjUzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTEzVDE5OjEwOjEwKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyNC0wMS0xM1QxOToxMDoxMCswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTQ3NTExNjAtZDY5MC00ZTkzLWFhNGUtNGMwYTViNGU1ZGFjIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRiNzlkYWMtZTJmYS1iNzQ0LWIxM2ItOWU1N2VjMDhhM2YwIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6WVJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiIGV4aWY6Q29sb3JTcGFjZT0iMSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjMwMCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjMwMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBzdEV2dDp3aGVuPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQwNjg2NzJkLWY5NDMtOTU0Mi1iMDBiLTVlMDExNmE1NmIzZSIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxMDoyNjoxNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjZjk1NTE1OC04MjFiLTA4NDUtYWJmNS05YTE1NGM1ZTY4NjEiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMTE6MDQ6MDQrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZGM1Y2IyNWItZDZlNC0yZjQ2LTgyODQtZmUwOTNlY2M2ZTkxIiBzdEV2dDp3aGVuPSIyMDI0LTAxLTEzVDExOjA0OjA0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjE0NzUxMTYwLWQ2OTAtNGU5My1hYTRlLTRjMGE1YjRlNWRhYyIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxOToxMDoxMCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmNmOTU1MTU4LTgyMWItMDg0NS1hYmY1LTlhMTU0YzVlNjg2MSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjM2ZGQ4NTQxLWQ0MWEtYmY0Yy1iZjA3LWNmNjZhNjZhMDg2MSIgc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmQwODAyODAyLTM1MmEtODU0YS05MWI3LTZkZTZkNTJlYjNkMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ph2LDQsAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA5UExURUdwTNra2s7Ozq2tre3t7dPT087OzuPj4+3t7dbW1u/v79bW1vz8/MrKytDQ0Nzc3MPDw/X19bi4uMZQDnEAAAAKdFJOUwBqEPywotz+wzqApqiTAAAHW0lEQVR42u1b25akIAwcbx2UFoj//7HLTQVBRcSZfTDnbM/uTl/KSlEkwf75eeONN95444033njjjTduR9/0/yOsbqoevObL7101tYX1HFs9QFtfZalRP+rpQVgdAFx990ZnT8L6eZItUl99jeGpf1DxdV/VP9fV1f/PFlF1bYHoVFSRC60IyVjrFRnuB8IoxpExSrstsErKHpJw1eqybNLbAQvAYkKjUrjoBgKRqAaeIjG5+qaps6hKcMWmcdSwqAJWBbAgCZZaIYbsqggqqlHNbFFa5yVR4jKvrKEErOEjNCqNSwHrfE8lpLsod/u+cOPPMPBJ+Gz5dM0cXNgclre+pSxhYI1WW5Tf9ENSMIdLCiWs6q9hwQprBVYKFqyPlx4WtoSvrT9lC/wkGt8qlkQooC3hi6sgW3Bb8gtdpSV/za/mn49pC0oYhONbfyd5hzDLFivKFpTS1gKM0we0tQCEncfgQn7Rt+DC/299i1MSRJcBC0r7VviG5KZvwV5WIUobxHyrJKy8VRjXVgFYsPu5kOtbxdhycCDuihziXVLoW7xwEiUmDgd544B46luWLW+nugMLB2BimmC3cxTNxCDg8xFtuUSNqoFsDKzY8psa+XtBNWXr74N6qxwsS5T6VL5robKl10+ZRu5S9qBvUYuJwVHzjwjrE3G33qKh+WXBgmkmCvHYquTvZ8oo7rLFA4PJgYW0MdePIRQIGUPNbSMw5lubJMKtJI6+Wk6cVFMmACO+VVryeL7ZgI8MhwS2fnNPPK0geHBRd11eJSiyL4KjrL2umm1XIpRii1MKB/mU/iCZwF+pt5z3UJ7UiF3nQqadAXC3T3xEW2IyuDBe3yDTe0+A64it2WTyYSGVHymUI/EduvSWKJ80Dtv2NbYSoQxbMkVC7yzNGIWFvDF7gRD79RYrWW/BDGti4wwLtgvO7gWKUZ8Mt94qX8vLJE70+xVNwzDm9ghNM+FX7p/jlZUId2HJD+Tf79hMe3WNrAK/30E+C8/6xOCqbqxE5JNMYrNbnaLUvJAewfCg8zF0Ba/tbviWLvPYfsGFA1PVD8ZdnjlVc/DS/o7LK4NHjOjKKbfCTSCo5XmwKbaZM4jlc9NGEYd9Ijd0QS5ZGaOR2O+DPlGyRb2nXZzgnI1GdFWF+0gh3ifyTRqvzpXI2eElk58FeHziCF5hY+hSMV9Ge/mohUTGuQ4vzHYe8bW5sNdFQ58St22Vcf5zzJbtcGT4iYQ7iz8dFuxoWRYMjAM7KCnypHOTLSqdUwYIFpndOD/6B2FBzNQxYmW/zxYE4j8yLHga1s2Rbm/O5PXtGcuNDIW1dTj5hpjGsO+7z2Kk9NP1JWDlnWKAM4H6zCUNM05KyVPHBclYzUbgjE3N3tP2JWHBmbqD4GLeCs2jhMT13lMVljwcEbetwZgtHUxVQ21ho3fE7inf2s8vzMWq0EWpfOBg5hcDSGwaF2+LaysRIzNFqRgBv2sMhi/Ix0WiW8rBKNBv4ExBI7eorx9ANazsPCb5FkSNH+Reacos+AYxaFzX76KMH65c8ytzZ40YvpFAqtgC/otn1eCmMI5K8yVRQVVwq3aVtU+jJktwjyP7x+BKv8vtoH098vXYSJcrWGJcAW11r8WVRxe5vgcuFbXqwnaEZejS6mrLwYKUg1ch2RJswTFYgMOwoau+AQsSp/FuDhVZi7J402ifgGla/GJIzGLYG5H4rnKMCUydL9wcsmZSuPikR2QmjQbWqaV2ob2RdMvaLEvFlRiXpYeTwqVOtMZF+qi0dS4uEjJKMvWuYK3S0jHZwaq7BylYp/O2uu3q04lNqudLWEJQd/3paTBz12IaLIPtzE5P1AUuW9TB8NVzaG9/TIfV+eXsWeezz6HWlptEbo4SIAeWur/Y/RZC/gmZTiLzUY2j5ct6fjKsFvxqgyQxE9sbmfYtnJMIciEKo6+FL0wziJmtkzspIcUl0PgWrL7VCKP7hl61U4WLeN+7Ieli2vZhmq0VgjDOgIyhJ62sSpDkWNZa1wiB8WoLlxzy29XpGVPgn1ut5VYcGyRLK7OCiJaDYMrAneJUkZWdw0yDgNm5nDowqLc0Kp581FO7QS4pC9S/YRW9xkVdNOj0ZHCp9anEZw3VEK/fopiDrkMObkcdJtT1g6+uzQ60bIdUPztdWZWy53m+v/zFYPOGHO4AZsalmtJNkyHrCAx1RXX7mt5g1L1pDezpkXv8wJwpVRSSaf2c26Y0rrXXxyWBptu/ovdak+VhkqjGBZUdvKygqANKA/MqZ/36kcGwFn90RnWp66ksKuHgitLFY8BU+F2ZvqpxpMY9qR3YwOUJ12fc0KUHVKdswcKXuwetErCnwvMKuXxfc/3RVJ2yFc+iosQd3X+WGSVz1UiuN2J156FyVyHbsOUp3krezaPUT/VxXqdfwvknb/Zgp+idTxTbrkLqYuKreRnhy65Gf4W0NsDoYiqf6uZsvr8V9eo6XWc5+3TVf/3N1TfeeOONN95444033njjjTfeSI1/IeOYOeO4fGAAAAAASUVORK5CYII=",bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAElBMVEVRUVH+/v5HcEyZmZlRUVFRUVGm1ByOAAAABnRSTlPMzADMTZAJBBGsAAAEnElEQVR42t2cS27jMAyGf7/2U+QCQeDsbeQCgZDujaC5/1UmkzaJn+JDFGcw3LdfflKibJkkDnxrL7dbg7sNt6+L4O8OYBM+B0ys+QrGkHZG+OEEQ8g6go8Bx1GIGMdpNOQyIG6XdMgnSPtKhLQDGEZFBgYMkhKFtGBb0EIEjDgFRowoBVaMGAWpMedEfxMiZtwpUsgZCqtlkCNUdpVAWigtCCCDFtLwIWeoreZCWiRYYEKGFEjDg+yRZCUH0iLRAgNyToXUNCRZyMqWhGnUN2IPm3wSlwJ7IUspyCBkIQUZhCykIIeQuRTkEDKXAuM9srrtYbrZN7Y98giZSoFd+t1OxmMITG0dcrSFXFchZ1tIvQZpYWxhBbK3hpQrkMEa0iwh5t4a+QvZvDXyF7J5a+Qv5PPW21/I5623v5DPW29/IaO3Xv5Clrw1y1/Ikrdm+Qs5svw83yNnSJ5BQb4F/F7EIEJSnThGBAXxkFQfLOviQUE8JAUPsosHBfGQfDAtHhREQ1JxIV00KIgmrnRI84S0yAd5BAXxxJUck0f6Qnwr9qmr6xF5xLMjcwn/iudIEAdWnyjkEXlQKZiRVzoqRyLbgeUKKR8Q4alY7cSnoxzSf2ggsqehKr6YVpcXpOd7H93f60cKhOd7Re2LteUF4eLqiVS1mr0ge4io6C2+soaFkJ7MuuuQs1yITEp9hwwKISIpzR2iESKSIoT0rLNwuVHQqoSIpAQJpGce60vIUSdEIuUqgPTsJ5QFZK8UIpBS8iG94GFrDjlrhfCl8CG96Llxmle4kEr6vKWBPIVo9kqDQSRk9/3cWoikcCFPAd33v4dIChPyEvLzBA6RlEYWke4JEUnhKXkLeUEKxRHJFfKCQHGucIW8IdZSRkLeEGMpYyEjiK2UsZARxFTKRMgYYillImQMMZQyFTKB2EmZCplAuFLIHT8TMoWwpQwiIVMIUwqpZP5bp5CCvCTiQKr5f5lCQN+tPCBn2ZvVDFJwIDUP0m1BYAfZYRNSsCB7BqTbhoARePIxtZ9tgwWkoJcwCalmv3MBAemtO4R6dah2HaKQqj8Zvp9sQDjvJ21+SPCBHPJDDk6QITekEV7gqCC19CpKAym9IMfckKv4olMBCeIrWwVEfvkshzQekO9r9P1/ALk+IG1eSPCDiCJfyG+FyU+A6ZCa/piZDinpz7LpkCv5gdkAEshP5emQhv7onw6pGeULyZCSUYiRDAmMkpJkCKs4JhFSq8p8hJBSVbAkhARV6ZUQoisik0FqXTmcDHLVFfbJIEFXoiiCNMpiSxGkVJaNiiBBWQArgTTaUl4JpNQWJUsgQVteXQg+AKkLxQWFGKW+5J2+eVp4S168X3CF1CltCKdTJ8lb84YK2bUBO+wZW0Pqv9nk4tKu49N45NJC5dMM5tLW5tOg59Jq6NM06dL+abFXwr/RkuvTXJwae1abtE/Dt0/ruksTvs84AZ/BCC4jHnyGVfiM3VBQFANEXEah+Ax18RlP4zNox2dkkM/wI58xTn8yDCXGYCDV3W5RGSajtXyGhG1jbpbjzpwGt/0MJft8jqC7iUbQ/QZaxdnKqcIftwAAAABJRU5ErkJggg==";const Ct=be({name:"z-paging-empty-view",data:()=>({}),props:{emptyViewText:{type:String,default:"没有数据哦~"},emptyViewImg:{type:String,default:""},showEmptyViewReload:{type:Boolean,default:!1},emptyViewReloadText:{type:String,default:"重新加载"},isLoadFailed:{type:Boolean,default:!1},emptyViewStyle:{type:Object,default:function(){return{}}},emptyViewImgStyle:{type:Object,default:function(){return{}}},emptyViewTitleStyle:{type:Object,default:function(){return{}}},emptyViewReloadStyle:{type:Object,default:function(){return{}}},emptyViewZIndex:{type:Number,default:9},emptyViewFixed:{type:Boolean,default:!0},unit:{type:String,default:"rpx"}},computed:{emptyImg(){return this.isLoadFailed?Tt:St},finalEmptyViewStyle(){return this.emptyViewStyle["z-index"]=this.emptyViewZIndex,this.emptyViewStyle}},methods:{reloadClick(){this.$emit("reload")},emptyViewClick(){this.$emit("viewClick")}}},[["render",function(t,o,i,a,n,r){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass({"zp-container":!0,"zp-container-fixed":i.emptyViewFixed}),style:e.normalizeStyle([r.finalEmptyViewStyle]),onClick:o[1]||(o[1]=(...e)=>r.emptyViewClick&&r.emptyViewClick(...e))},[e.createElementVNode("view",{class:"zp-main"},[i.emptyViewImg.length?(e.openBlock(),e.createElementBlock("image",{key:1,class:e.normalizeClass({"zp-main-image-rpx":"rpx"===i.unit,"zp-main-image-px":"px"===i.unit}),mode:"aspectFit",style:e.normalizeStyle([i.emptyViewImgStyle]),src:i.emptyViewImg},null,14,["src"])):(e.openBlock(),e.createElementBlock("image",{key:0,class:e.normalizeClass({"zp-main-image-rpx":"rpx"===i.unit,"zp-main-image-px":"px"===i.unit}),style:e.normalizeStyle([i.emptyViewImgStyle]),src:r.emptyImg},null,14,["src"])),e.createElementVNode("text",{class:e.normalizeClass(["zp-main-title",{"zp-main-title-rpx":"rpx"===i.unit,"zp-main-title-px":"px"===i.unit}]),style:e.normalizeStyle([i.emptyViewTitleStyle])},e.toDisplayString(i.emptyViewText),7),i.showEmptyViewReload?(e.openBlock(),e.createElementBlock("text",{key:2,class:e.normalizeClass({"zp-main-error-btn":!0,"zp-main-error-btn-rpx":"rpx"===i.unit,"zp-main-error-btn-px":"px"===i.unit}),style:e.normalizeStyle([i.emptyViewReloadStyle]),onClick:o[0]||(o[0]=e.withModifiers(((...e)=>r.reloadClick&&r.reloadClick(...e)),["stop"]))},e.toDisplayString(i.emptyViewReloadText),7)):e.createCommentVNode("",!0)])],6)}],["__scopeId","data-v-5b8c527d"]]),kt="2.8.3",xt=100,Nt="z-paging-error-emit",Bt="z-paging-complete-emit",Et="z-paging-cache",It="zp_index",Vt="zp_unique_index",Rt={},_t="Z-PAGING-REFRESHER-TIME-STORAGE-KEY";let Mt=null,zt=!1;const Lt={};function At(){return uni.getStorageSync(_t)}function Dt(e){return uni.upx2px(e)}function Pt(){return(new Date).getTime()}function Ft(e){return 1===(e=e.toString()).length?"0"+e:e}const Ht={gc:function(e,t){return()=>{if(function(){if(zt)return;Rt&&Object.keys(Rt).length&&(Mt=Rt);!Mt&&uni.$zp&&(Mt=uni.$zp.config);Mt=Mt?Object.keys(Mt).reduce(((e,t)=>(e[function(e){return e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase()))}(t)]=Mt[t],e)),{}):null,zt=!0}(),!Mt)return t;const o=Mt[e];return void 0===o?t:o}},setRefesrherTime:function(e,t){const o=At()||{};o[t]=e,uni.setStorageSync(_t,o)},getRefesrherFormatTimeByKey:function(e,t){const o=function(e){const t=At();return t&&t[e]?t[e]:null}(e),i=o?function(e,t){const o=new Date(e),i=new Date,a=new Date(e).setHours(0,0,0,0),n=(new Date).setHours(0,0,0,0),r=a-n;let l="";const s=function(e){const t=e.getHours(),o=e.getMinutes();return`${Ft(t)}:${Ft(o)}`}(o);l=0===r?t.today:-864e5===r?t.yesterday:function(e,t=!0){const o=e.getFullYear(),i=e.getMonth()+1,a=e.getDate();return t?`${o}-${Ft(i)}-${Ft(a)}`:`${Ft(i)}-${Ft(a)}`}(o,o.getFullYear()!==i.getFullYear());return`${l} ${s}`}(o,t):t.none;return`${t.title}${i}`},getTouch:function(e){let t=null;if(e.touches&&e.touches.length)t=e.touches[0];else if(e.changedTouches&&e.changedTouches.length)t=e.changedTouches[0];else{if(!e.datail||e.datail=={})return{touchX:0,touchY:0};t=e.datail}return{touchX:t.clientX,touchY:t.clientY}},getTouchFromZPaging:function e(t){if(t&&t.tagName&&"BODY"!==t.tagName&&"UNI-PAGE-BODY"!==t.tagName){const o=t.classList;return o&&o.contains("z-paging-content")?{isFromZp:!0,isPageScroll:o.contains("z-paging-content-page"),isReachedTop:o.contains("z-paging-reached-top"),isUseChatRecordMode:o.contains("z-paging-use-chat-record-mode")}:e(t.parentNode)}return{isFromZp:!1}},getParent:function e(t){return t?t.$refs.paging?t:e(t.$parent):null},convertToPx:function(e){if("[object Number]"===Object.prototype.toString.call(e))return e;let t=!1;return-1!==e.indexOf("rpx")||-1!==e.indexOf("upx")?(e=e.replace("rpx","").replace("upx",""),t=!0):-1!==e.indexOf("px")&&(e=e.replace("px","")),isNaN(e)?0:Number(t?Dt(e):e)},getTime:Pt,getInstanceId:function(){const e=[];for(let t=0;t<10;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e.join("")+Pt()},consoleErr:function(e){A("error","at uni_modules/z-paging/components/z-paging/js/z-paging-utils.js:76",`[z-paging]${e}`)},delay:function(e,t=xt,o){const i=setTimeout(e,t);return o&&(Lt[o]&&clearTimeout(Lt[o]),Lt[o]=i),i},wait:function(e){return new Promise((t=>{setTimeout(t,e)}))},isPromise:function(e){return"[object Promise]"===Object.prototype.toString.call(e)},addUnit:function(e,t){if("[object String]"===Object.prototype.toString.call(e)){let t=e;t=t.replace("rpx","").replace("upx","").replace("px",""),-1===e.indexOf("rpx")&&-1===e.indexOf("upx")&&-1!==e.indexOf("px")&&(t=2*parseFloat(t)),e=t}return"rpx"===t?e+"rpx":e/2+"px"},deepCopy:function e(t){if("object"!=typeof t||null===t)return t;let o=Array.isArray(t)?[]:{};for(let i in t)t.hasOwnProperty(i)&&(o[i]=e(t[i]));return o},rpx2px:Dt},Ot={LoadingType:{Refresher:"refresher",LoadMore:"load-more"},Refresher:{Default:"default",ReleaseToRefresh:"release-to-refresh",Refreshing:"refreshing",Complete:"complete",GoF2:"go-f2"},More:{Default:"default",Loading:"loading",NoMore:"no-more",Fail:"fail"},QueryFrom:{UserPullDown:"user-pull-down",Reload:"reload",Refresh:"refresh",LoadMore:"load-more"},CellHeightMode:{Fixed:"fixed",Dynamic:"dynamic"},CacheMode:{Default:"default",Always:"always"}};const jt=be({name:"z-paging-refresh",data:()=>({R:Ot.Refresher,isIos:"ios"===uni.getSystemInfoSync().platform,refresherTimeText:"",zTheme:{title:{white:"#efefef",black:"#555555"},arrow:{white:gt,black:pt},flower:{white:yt,black:ft},success:{white:wt,black:vt},indicator:{white:"#eeeeee",black:"#777777"}}}),props:["status","defaultThemeStyle","defaultText","pullingText","refreshingText","completeText","goF2Text","defaultImg","pullingImg","refreshingImg","completeImg","refreshingAnimated","showUpdateTime","updateTimeKey","imgStyle","titleStyle","updateTimeStyle","updateTimeTextMap","unit"],computed:{ts(){return this.defaultThemeStyle},statusTextMap(){this.updateTime();const{R:e,defaultText:t,pullingText:o,refreshingText:i,completeText:a,goF2Text:n}=this;return{[e.Default]:t,[e.ReleaseToRefresh]:o,[e.Refreshing]:i,[e.Complete]:a,[e.GoF2]:n}},currentTitle(){return this.statusTextMap[this.status]||this.defaultText},leftImageClass(){const e=`zp-r-left-image-pre-size-${this.unit}`;return this.status===this.R.Complete?e:`zp-r-left-image ${e} ${this.status===this.R.Default?"zp-r-arrow-down":"zp-r-arrow-top"}`},leftImageStyle(){const e=this.showUpdateTime,t=e?Ht.addUnit(36,this.unit):Ht.addUnit(34,this.unit);return{width:t,height:t,"margin-right":e?Ht.addUnit(20,this.unit):Ht.addUnit(9,this.unit)}},leftImageSrc(){const e=this.R,t=this.status;return t===e.Default?this.defaultImg?this.defaultImg:this.zTheme.arrow[this.ts]:t===e.ReleaseToRefresh?this.pullingImg?this.pullingImg:this.defaultImg?this.defaultImg:this.zTheme.arrow[this.ts]:t===e.Refreshing?this.refreshingImg?this.refreshingImg:this.zTheme.flower[this.ts]:t===e.Complete?this.completeImg?this.completeImg:this.zTheme.success[this.ts]:t===e.GoF2?this.zTheme.arrow[this.ts]:""},rightTextStyle(){let e={};return e.color=this.zTheme.title[this.ts],e["font-size"]=Ht.addUnit(30,this.unit),e}},methods:{addUnit:(e,t)=>Ht.addUnit(e,t),updateTime(){this.showUpdateTime&&(this.refresherTimeText=Ht.getRefesrherFormatTimeByKey(this.updateTimeKey,this.updateTimeTextMap))}}},[["render",function(t,o,i,a,n,r){return e.openBlock(),e.createElementBlock("view",{style:{height:"100%"}},[e.createElementVNode("view",{class:e.normalizeClass(i.showUpdateTime?"zp-r-container zp-r-container-padding":"zp-r-container")},[e.createElementVNode("view",{class:"zp-r-left"},[i.status!==n.R.Refreshing?(e.openBlock(),e.createElementBlock("image",{key:0,class:e.normalizeClass(r.leftImageClass),style:e.normalizeStyle([r.leftImageStyle,i.imgStyle]),src:r.leftImageSrc},null,14,["src"])):(e.openBlock(),e.createElementBlock("image",{key:1,class:e.normalizeClass({"zp-line-loading-image":i.refreshingAnimated,"zp-r-left-image":!0,"zp-r-left-image-pre-size-rpx":"rpx"===i.unit,"zp-r-left-image-pre-size-px":"px"===i.unit}),style:e.normalizeStyle([r.leftImageStyle,i.imgStyle]),src:r.leftImageSrc},null,14,["src"]))]),e.createElementVNode("view",{class:"zp-r-right"},[e.createElementVNode("text",{class:"zp-r-right-text",style:e.normalizeStyle([r.rightTextStyle,i.titleStyle])},e.toDisplayString(r.currentTitle),5),i.showUpdateTime&&n.refresherTimeText.length?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(["zp-r-right-text",{"zp-r-right-time-text-rpx":"rpx"===i.unit,"zp-r-right-time-text-px":"px"===i.unit}]),style:e.normalizeStyle([{color:n.zTheme.title[r.ts]},i.updateTimeStyle])},e.toDisplayString(n.refresherTimeText),7)):e.createCommentVNode("",!0)])],2)])}],["__scopeId","data-v-7e1d23cb"]]);const $t=be({name:"z-paging-load-more",data:()=>({M:Ot.More,zTheme:{title:{white:"#efefef",black:"#a4a4a4"},line:{white:"#efefef",black:"#eeeeee"},circleBorder:{white:"#aaaaaa",black:"#c8c8c8"},circleBorderTop:{white:"#ffffff",black:"#444444"},flower:{white:yt,black:ft},indicator:{white:"#eeeeee",black:"#777777"}}}),props:["zConfig"],computed:{ts(){return this.c.defaultThemeStyle},c(){return this.zConfig||{}},ownLoadingMoreText(){return{[this.M.Default]:this.c.defaultText,[this.M.Loading]:this.c.loadingText,[this.M.NoMore]:this.c.noMoreText,[this.M.Fail]:this.c.failText}[this.finalStatus]},finalStatus(){return this.c.defaultAsLoading&&this.c.status===this.M.Default?this.M.Loading:this.c.status},finalLoadingIconType(){return this.c.loadingIconType}},methods:{doClick(){this.$emit("doClick")}}},[["render",function(t,o,i,a,n,r){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["zp-l-container",{"zp-l-container-rpx":"rpx"===r.c.unit,"zp-l-container-px":"px"===r.c.unit}]),style:e.normalizeStyle([r.c.customStyle]),onClick:o[0]||(o[0]=(...e)=>r.doClick&&r.doClick(...e))},[r.c.hideContent?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[r.c.showNoMoreLine&&r.finalStatus===n.M.NoMore?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass({"zp-l-line-rpx":"rpx"===r.c.unit,"zp-l-line-px":"px"===r.c.unit}),style:e.normalizeStyle([{backgroundColor:n.zTheme.line[r.ts]},r.c.noMoreLineCustomStyle])},null,6)):e.createCommentVNode("",!0),r.finalStatus===n.M.Loading&&r.c.loadingIconCustomImage?(e.openBlock(),e.createElementBlock("image",{key:1,src:r.c.loadingIconCustomImage,style:e.normalizeStyle([r.c.iconCustomStyle]),class:e.normalizeClass({"zp-l-line-loading-custom-image":!0,"zp-l-line-loading-custom-image-animated":r.c.loadingAnimated,"zp-l-line-loading-custom-image-rpx":"rpx"===r.c.unit,"zp-l-line-loading-custom-image-px":"px"===r.c.unit})},null,14,["src"])):e.createCommentVNode("",!0),r.finalStatus!==n.M.Loading||"flower"!==r.finalLoadingIconType||r.c.loadingIconCustomImage.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("image",{key:2,class:e.normalizeClass({"zp-line-loading-image":!0,"zp-line-loading-image-rpx":"rpx"===r.c.unit,"zp-line-loading-image-px":"px"===r.c.unit}),style:e.normalizeStyle([r.c.iconCustomStyle]),src:n.zTheme.flower[r.ts]},null,14,["src"])),r.finalStatus!==n.M.Loading||"circle"!==r.finalLoadingIconType||r.c.loadingIconCustomImage.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("text",{key:3,class:e.normalizeClass(["zp-l-circle-loading-view",{"zp-l-circle-loading-view-rpx":"rpx"===r.c.unit,"zp-l-circle-loading-view-px":"px"===r.c.unit}]),style:e.normalizeStyle([{borderColor:n.zTheme.circleBorder[r.ts],borderTopColor:n.zTheme.circleBorderTop[r.ts]},r.c.iconCustomStyle])},null,6)),!r.c.isChat||!r.c.chatDefaultAsLoading&&r.finalStatus===n.M.Default||r.finalStatus===n.M.Fail?(e.openBlock(),e.createElementBlock("text",{key:4,class:e.normalizeClass({"zp-l-text-rpx":"rpx"===r.c.unit,"zp-l-text-px":"px"===r.c.unit}),style:e.normalizeStyle([{color:n.zTheme.title[r.ts]},r.c.titleCustomStyle])},e.toDisplayString(r.ownLoadingMoreText),7)):e.createCommentVNode("",!0),r.c.showNoMoreLine&&r.finalStatus===n.M.NoMore?(e.openBlock(),e.createElementBlock("text",{key:5,class:e.normalizeClass({"zp-l-line-rpx":"rpx"===r.c.unit,"zp-l-line-px":"px"===r.c.unit}),style:e.normalizeStyle([{backgroundColor:n.zTheme.line[r.ts]},r.c.noMoreLineCustomStyle])},null,6)):e.createCommentVNode("",!0)],64))],6)}],["__scopeId","data-v-80237b32"]]),Ut={data:()=>({systemInfo:null,cssSafeAreaInsetBottom:-1,isReadyDestroy:!1}),computed:{windowTop(){return this.systemInfo&&this.systemInfo.windowTop||0},safeAreaBottom(){if(!this.systemInfo)return 0;let e=0;return e=this.systemInfo.safeAreaInsets.bottom||0,e},isOldWebView(){try{const e=uni.getSystemInfoSync().system.split(" "),t=e[0],o=parseInt(e[1]);if("iOS"===t&&o<=10||"Android"===t&&o<=6)return!0}catch(e){return!1}return!1},zSlots(){return this.$slots}},beforeDestroy(){this.isReadyDestroy=!0},unmounted(){this.isReadyDestroy=!0},methods:{updateFixedLayout(){this.fixed&&this.$nextTick((()=>{this.systemInfo=uni.getSystemInfoSync()}))},_getNodeClientRect(e,t=!0,o=!1,i=!1){if(this.isReadyDestroy)return Promise.resolve(!1);const a=i?this.$parent:this;let n=t||i?uni.createSelectorQuery().in(a):uni.createSelectorQuery();return o?n.select(e).scrollOffset():n.select(e).boundingClientRect(),new Promise(((e,t)=>{n.exec((t=>{e(!(!t||""==t||null==t||!t.length)&&t)}))}))},_updateLeftAndRightWidth(e,t){this.$nextTick((()=>{setTimeout((()=>{["left","right"].map((o=>{this._getNodeClientRect(`.${t}-${o}`).then((t=>{this.$set(e,o,t?t[0].width+"px":"0px")}))}))}),0)}))},_getCssSafeAreaInsetBottom(e){this._getNodeClientRect(".zp-safe-area-inset-bottom").then((t=>{this.cssSafeAreaInsetBottom=t?t[0].height:-1,t&&e&&e()}))}}},Wt="Query",Zt="FetchParams",Gt="FetchResult",Yt="Language2Local";function Qt(){return getApp()}function Jt(){return Qt()&&Qt().globalData}function Kt(e,t){try{setTimeout((function(){Jt()&&(Qt().globalData[`zp_handle${e}Callback`]=t)}),1)}catch(o){}}function Xt(e){return Jt()?Qt().globalData[`zp_handle${e}Callback`]:null}const qt={handleQuery:function(e){return Kt(Wt,e),this},_handleQuery:function(e,t,o,i){const a=Xt(Wt);return a?a(e,t,o,i):[e,t,o]},handleFetchParams:function(e){return Kt(Zt,e),this},_handleFetchParams:function(e,t){const o=Xt(Zt);return o?o(e,t||{}):{pageNo:e.pageNo,pageSize:e.pageSize,...t||{}}},handleFetchResult:function(e){return Kt(Gt,e),this},_handleFetchResult:function(e,t,o){const i=Xt(Gt);return i&&i(e,t,o),!!i},handleLanguage2Local:function(e){return Kt(Yt,e),this},_handleLanguage2Local:function(e,t){const o=Xt(Yt);return o?o(e,t):t}},eo={props:{defaultPageNo:{type:[Number,String],default:Ht.gc("defaultPageNo",1),observer:function(e){this.pageNo=e}},defaultPageSize:{type:[Number,String],default:Ht.gc("defaultPageSize",10),validator:e=>(e<=0&&Ht.consoleErr("default-page-size必须大于0！"),e>0)},dataKey:{type:[Number,String,Object],default:Ht.gc("dataKey",null)},useCache:{type:Boolean,default:Ht.gc("useCache",!1)},cacheKey:{type:String,default:Ht.gc("cacheKey",null)},cacheMode:{type:String,default:Ht.gc("cacheMode",Ot.CacheMode.Default)},autowireListName:{type:String,default:Ht.gc("autowireListName","")},autowireQueryName:{type:String,default:Ht.gc("autowireQueryName","")},fetch:{type:Function,default:null},fetchParams:{type:Object,default:Ht.gc("fetchParams",null)},auto:{type:Boolean,default:Ht.gc("auto",!0)},reloadWhenRefresh:{type:Boolean,default:Ht.gc("reloadWhenRefresh",!0)},autoScrollToTopWhenReload:{type:Boolean,default:Ht.gc("autoScrollToTopWhenReload",!0)},autoCleanListWhenReload:{type:Boolean,default:Ht.gc("autoCleanListWhenReload",!0)},showRefresherWhenReload:{type:Boolean,default:Ht.gc("showRefresherWhenReload",!1)},showLoadingMoreWhenReload:{type:Boolean,default:Ht.gc("showLoadingMoreWhenReload",!1)},createdReload:{type:Boolean,default:Ht.gc("createdReload",!1)},localPagingLoadingTime:{type:[Number,String],default:Ht.gc("localPagingLoadingTime",200)},concat:{type:Boolean,default:Ht.gc("concat",!0)},callNetworkReject:{type:Boolean,default:Ht.gc("callNetworkReject",!0)},value:{type:Array,default:function(){return[]}},modelValue:{type:Array,default:function(){return[]}}},data:()=>({currentData:[],totalData:[],realTotalData:[],totalLocalPagingList:[],dataPromiseResultMap:{reload:null,complete:null,localPaging:null},isSettingCacheList:!1,pageNo:1,currentRefreshPageSize:0,isLocalPaging:!1,isAddedData:!1,isTotalChangeFromAddData:!1,privateConcat:!0,myParentQuery:-1,firstPageLoaded:!1,pagingLoaded:!1,loaded:!1,isUserReload:!0,fromEmptyViewReload:!1,queryFrom:"",listRendering:!1,isHandlingRefreshToPage:!1,isFirstPageAndNoMore:!1,totalDataChangeThrow:!0}),computed:{pageSize(){return this.defaultPageSize},finalConcat(){return this.concat&&this.privateConcat},finalUseCache(){return this.useCache&&!this.cacheKey&&Ht.consoleErr("use-cache为true时，必须设置cache-key，否则缓存无效！"),this.useCache&&!!this.cacheKey},finalCacheKey(){return this.cacheKey?`${Et}-${this.cacheKey}`:null},isFirstPage(){return this.pageNo===this.defaultPageNo}},watch:{totalData(e,t){this._totalDataChange(e,t,this.totalDataChangeThrow),this.totalDataChangeThrow=!0},currentData(e,t){this._currentDataChange(e,t)},useChatRecordMode(e,t){e&&(this.nLoadingMoreFixedHeight=!1)},value:{handler(e){e!==this.totalData&&(this.totalDataChangeThrow=!1,this.totalData=e)},immediate:!0},modelValue:{handler(e){e!==this.totalData&&(this.totalDataChangeThrow=!1,this.totalData=e)},immediate:!0}},methods:{complete(e,t=!0){return this.customNoMore=-1,this.addData(e,t)},completeByKey(e,t=null,o=!0){return null!==t&&null!==this.dataKey&&t!==this.dataKey?(this.isFirstPage&&this.endRefresh(),new Promise((e=>e()))):(this.customNoMore=-1,this.addData(e,o))},completeByTotal(e,t,o=!0){if("undefined"==t)this.customNoMore=-1;else{const i=this._checkDataType(e,o,!1);if(e=i.data,o=i.success,t>=0&&o)return new Promise(((i,a)=>{this.$nextTick((()=>{let n=!1;let r=(this.pageNo==this.defaultPageNo?0:this.realTotalData.length)+(this.privateConcat?e.length:0)-t;r>=0&&(n=!0,r=this.defaultPageSize-r,this.privateConcat&&r>0&&r<e.length&&(e=e.splice(0,r))),this.completeByNoMore(e,n,o).then((e=>i(e))).catch((()=>a()))}))}))}return this.addData(e,o)},completeByNoMore(e,t,o=!0){return"undefined"!=t&&(this.customNoMore=1==t?1:0),this.addData(e,o)},completeByError(e){return this.customerEmptyViewErrorText=e,this.complete(!1)},addData(e,t=!0){this.fromCompleteEmit||(this.disabledCompleteEmit=!0,this.fromCompleteEmit=!1);const o=Ht.getTime()-this.requestTimeStamp;let i=this.minDelay;this.isFirstPage&&this.finalShowRefresherWhenReload&&(i=Math.max(400,i));const a=this.requestTimeStamp>0&&o<i?i-o:0;return this.$nextTick((()=>{Ht.delay((()=>{this._addData(e,t,!1)}),this.delay>0?this.delay:a)})),new Promise(((e,t)=>{this.dataPromiseResultMap.complete={resolve:e,reject:t}}))},addDataFromTop(e,t=!0,o=!0){let i=!this.isChatRecordModeAndNotInversion;e="[object Array]"!==Object.prototype.toString.call(e)?[e]:i?e.reverse():e,this.finalUseVirtualList&&this._setCellIndex(e,"top"),this.totalData=i?[...e,...this.totalData]:[...this.totalData,...e],t&&Ht.delay((()=>this.useChatRecordMode?this.scrollToBottom(o):this.scrollToTop(o)))},resetTotalData(e){this.isTotalChangeFromAddData=!0,e="[object Array]"!==Object.prototype.toString.call(e)?[e]:e,this.totalData=e},setLocalPaging(e,t=!0){return this.isLocalPaging=!0,this.$nextTick((()=>{this._addData(e,t,!0)})),new Promise(((e,t)=>{this.dataPromiseResultMap.localPaging={resolve:e,reject:t}}))},reload(e=this.showRefresherWhenReload){return e&&(this.privateShowRefresherWhenReload=e,this.isUserPullDown=!0),this.showLoadingMoreWhenReload||(this.listRendering=!0),this.$nextTick((()=>{this._preReload(e,!1)})),new Promise(((e,t)=>{this.dataPromiseResultMap.reload={resolve:e,reject:t}}))},refresh(){return this._handleRefreshWithDisPageNo(this.pageNo-this.defaultPageNo+1)},refreshToPage(e){return this.isHandlingRefreshToPage=!0,this._handleRefreshWithDisPageNo(e+this.defaultPageNo-1)},updateCache(){this.finalUseCache&&this.totalData.length&&this._saveLocalCache(this.totalData.slice(0,Math.min(this.totalData.length,this.pageSize)))},clean(){this._reload(!0),this._addData([],!0,!1)},clear(){this.clean()},_preReload(e=this.showRefresherWhenReload,t=!0,o=0){const i=this.finalRefresherEnabled&&this.useCustomRefresher;-1===this.customRefresherHeight&&i?Ht.delay((()=>{++o%10==0&&this._updateCustomRefresherHeight(),this._preReload(e,t,o)}),xt/2):(this.isUserReload=!0,this.loadingType=Ot.LoadingType.Refresher,e?(this.privateShowRefresherWhenReload=e,this.useCustomRefresher?this._doRefresherRefreshAnimate():this.refresherTriggered=!0):this._refresherEnd(!1,!1,!1,!1),this._reload(!1,t))},_reload(e=!1,t=!1,o=!1){if(this.isAddedData=!1,this.insideOfPaging=-1,this.cacheScrollNodeHeight=-1,this.pageNo=this.defaultPageNo,this._cleanRefresherEndTimeout(),!this.privateShowRefresherWhenReload&&!e&&this._startLoading(!0),this.firstPageLoaded=!0,this.isTotalChangeFromAddData=!1,this.isSettingCacheList||(this.totalData=[]),!e){this._emitQuery(this.pageNo,this.defaultPageSize,o?Ot.QueryFrom.UserPullDown:Ot.QueryFrom.Reload);let e=0;Ht.delay(this._callMyParentQuery,e),!t&&this.autoScrollToTopWhenReload&&this._scrollToTop(!1)}},_addData(e,t,o){this.isAddedData=!0,this.fromEmptyViewReload=!1,this.isTotalChangeFromAddData=!0,this.refresherTriggered=!1,this._endSystemLoadingAndRefresh();const i=this.isUserPullDown;this.showRefresherUpdateTime&&this.isFirstPage&&(Ht.setRefesrherTime(Ht.getTime(),this.refresherUpdateTimeKey),this.$refs.refresh&&this.$refs.refresh.updateTime()),!o&&i&&this.isFirstPage&&(this.isUserPullDown=!1),this.isFirstPage?this.listRendering=!1:(this.listRendering=!0,this.$nextTick((()=>{Ht.delay((()=>this.listRendering=!1))})));let a=this._checkDataType(e,t,o);e=a.data,t=a.success;let n=xt;if(this.useChatRecordMode&&(n=0),this.loadingForNow=!1,Ht.delay((()=>{this.pagingLoaded=!0,this.$nextTick((()=>{!o&&this._refresherEnd(n>0,!0,i)}))})),this.isFirstPage&&(this.isLoadFailed=!t,this.$emit("isLoadFailedChange",this.isLoadFailed),this.finalUseCache&&t&&(this.cacheMode===Ot.CacheMode.Always||this.isSettingCacheList)&&this._saveLocalCache(e)),this.isSettingCacheList=!1,t){if((!1!==this.privateConcat||this.isHandlingRefreshToPage||this.loadingStatus!==Ot.More.NoMore)&&(this.loadingStatus=Ot.More.Default),o){this.totalLocalPagingList=e;const t=this.defaultPageNo,o=this.queryFrom!==Ot.QueryFrom.Refresh?this.defaultPageSize:this.currentRefreshPageSize;this._localPagingQueryList(t,o,0,(e=>{Ht.delay((()=>{this.completeByTotal(e,this.totalLocalPagingList.length)}),0)}))}else{let t=0;Ht.delay((()=>{this._currentDataChange(e,this.currentData),this._callDataPromise(!0,this.totalData)}),t)}this.isHandlingRefreshToPage&&(this.isHandlingRefreshToPage=!1,this.pageNo=this.defaultPageNo+Math.ceil(e.length/this.pageSize)-1,e.length%this.pageSize!=0&&(this.customNoMore=1))}else this._currentDataChange(e,this.currentData),this._callDataPromise(!1),this.loadingStatus=Ot.More.Fail,this.isHandlingRefreshToPage=!1,this.loadingType===Ot.LoadingType.LoadMore&&this.pageNo--},_totalDataChange(e,t,o=!0){(this.isUserReload&&this.autoCleanListWhenReload||!this.firstPageLoaded||e.length||!t.length)&&(this._doCheckScrollViewShouldFullHeight(e),this.realTotalData.length||e.length||(o=!1),this.realTotalData=e,o&&(this.$emit("input",e),this.$emit("update:modelValue",e),this.$emit("update:list",e),this.$emit("listChange",e),this._callMyParentList(e)),this.firstPageLoaded=!1,this.isTotalChangeFromAddData=!1,this.$nextTick((()=>{Ht.delay((()=>{this._getNodeClientRect(".zp-paging-container-content").then((e=>{e&&this.$emit("contentHeightChanged",e[0].height)}))}),xt*(this.isIos?1:3))})))},_currentDataChange(e,t){e=[...e],this.finalUseVirtualList&&this._setCellIndex(e,"bottom"),this.isFirstPage&&this.finalConcat&&(this.totalData=[]),-1!==this.customNoMore?(1===this.customNoMore||0!==this.customNoMore&&!e.length)&&(this.loadingStatus=Ot.More.NoMore):(!e.length||e.length&&e.length<this.defaultPageSize)&&(this.loadingStatus=Ot.More.NoMore),this.totalData.length&&this.finalConcat?(this.oldScrollTop,this.totalData=[...this.totalData,...e]):this.totalData=e,this.privateConcat=!0},_handleRefreshWithDisPageNo(e){if(!this.isHandlingRefreshToPage&&!this.realTotalData.length)return this.reload();if(e>=1){this.loading=!0,this.privateConcat=!1;const t=e*this.pageSize;this.currentRefreshPageSize=t,this.isLocalPaging&&this.isHandlingRefreshToPage?this._localPagingQueryList(this.defaultPageNo,t,0,(e=>{this.complete(e)})):(this._emitQuery(this.defaultPageNo,t,Ot.QueryFrom.Refresh),this._callMyParentQuery(this.defaultPageNo,t))}return new Promise(((e,t)=>{this.dataPromiseResultMap.reload={resolve:e,reject:t}}))},_localPagingQueryList(e,t,o,i){e=Math.max(1,e),t=Math.max(1,t);const a=[...this.totalLocalPagingList],n=(e-1)*t,r=Math.min(a.length,n+t),l=a.splice(n,r-n);Ht.delay((()=>i(l)),o)},_saveLocalCache(e){uni.setStorageSync(this.finalCacheKey,e)},_setListByLocalCache(){this.totalData=uni.getStorageSync(this.finalCacheKey)||[],this.isSettingCacheList=!0},_callMyParentList(e){if(this.autowireListName.length){const t=Ht.getParent(this.$parent);t&&t[this.autowireListName]&&(t[this.autowireListName]=e)}},_callMyParentQuery(e=0,t=0){if(this.autowireQueryName){if(-1===this.myParentQuery){const e=Ht.getParent(this.$parent);e&&e[this.autowireQueryName]&&(this.myParentQuery=e[this.autowireQueryName])}-1!==this.myParentQuery&&(t>0?this.myParentQuery(e,t):this.myParentQuery(this.pageNo,this.defaultPageSize))}},_emitQuery(e,t,o){this.queryFrom=o,this.requestTimeStamp=Ht.getTime();const[i]=this.realTotalData.slice(-1);if(this.fetch){const a=qt._handleFetchParams({pageNo:e,pageSize:t,from:o,lastItem:i||null},this.fetchParams),n=this.fetch(a);qt._handleFetchResult(n,this,a)||(Ht.isPromise(n)?n.then((e=>{this.complete(e)})).catch((e=>{this.complete(!1)})):this.complete(n))}else this.$emit("query",...qt._handleQuery(e,t,o,i||null))},_callDataPromise(e,t){for(const o in this.dataPromiseResultMap){const i=this.dataPromiseResultMap[o];i&&(e?i.resolve({totalList:t,noMore:this.loadingStatus===Ot.More.NoMore}):this.callNetworkReject&&i.reject(`z-paging-${o}-error`))}},_checkDataType(e,t,o){const i=Object.prototype.toString.call(e);return"[object Boolean]"===i?(t=e,e=[]):"[object Array]"!==i&&(e=[],"[object Undefined]"!==i&&"[object Null]"!==i&&Ht.consoleErr((o?"setLocalPaging":"complete")+"参数类型不正确，第一个参数类型必须为Array!")),{data:e,success:t}}}},to=["{","}"];const oo=/^(?:\d)+/,io=/^(?:\w)+/;const ao="zh-Hans",no="zh-Hant",ro="en",lo=Object.prototype.hasOwnProperty,so=(e,t)=>lo.call(e,t),co=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,o=to){if(!t)return[e];let i=this._caches[e];return i||(i=function(e,[t,o]){const i=[];let a=0,n="";for(;a<e.length;){let r=e[a++];if(r===t){n&&i.push({type:"text",value:n}),n="";let t="";for(r=e[a++];void 0!==r&&r!==o;)t+=r,r=e[a++];const l=r===o,s=oo.test(t)?"list":l&&io.test(t)?"named":"unknown";i.push({value:t,type:s})}else n+=r}return n&&i.push({type:"text",value:n}),i}(e,o),this._caches[e]=i),function(e,t){const o=[];let i=0;const a=Array.isArray(t)?"list":(n=t,null!==n&&"object"==typeof n?"named":"unknown");var n;if("unknown"===a)return o;for(;i<e.length;){const n=e[i];switch(n.type){case"text":o.push(n.value);break;case"list":o.push(t[parseInt(n.value,10)]);break;case"named":"named"===a&&o.push(t[n.value])}i++}return o}(i,t)}};function ho(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return ao;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?ao:e.indexOf("-hant")>-1?no:(o=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==o.indexOf(e)))?no:ao);var o;let i=[ro,"fr","es"];t&&Object.keys(t).length>0&&(i=Object.keys(t));const a=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,i);return a||void 0}class uo{constructor({locale:e,fallbackLocale:t,messages:o,watcher:i,formater:a}){this.locale=ro,this.fallbackLocale=ro,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=a||co,this.messages=o||{},this.setLocale(e||ro),i&&this.watchLocale(i)}setLocale(e){const t=this.locale;this.locale=ho(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,o=!0){const i=this.messages[e];i?o?Object.assign(i,t):Object.keys(t).forEach((e=>{so(i,e)||(i[e]=t[e])})):this.messages[e]=t}f(e,t,o){return this.formater.interpolate(e,t,o).join("")}t(e,t,o){let i=this.message;return"string"==typeof t?(t=ho(t,this.messages))&&(i=this.messages[t]):o=t,so(i,e)?this.formater.interpolate(i[e],o).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}const mo={en:{"zp.refresher.default":"Pull down to refresh","zp.refresher.pulling":"Release to refresh","zp.refresher.refreshing":"Refreshing...","zp.refresher.complete":"Refresh succeeded","zp.refresher.f2":"Refresh to enter 2f","zp.loadingMore.default":"Click to load more","zp.loadingMore.loading":"Loading...","zp.loadingMore.noMore":"No more data","zp.loadingMore.fail":"Load failed,click to reload","zp.emptyView.title":"No data","zp.emptyView.reload":"Reload","zp.emptyView.error":"Sorry,load failed","zp.refresherUpdateTime.title":"Last update: ","zp.refresherUpdateTime.none":"None","zp.refresherUpdateTime.today":"Today","zp.refresherUpdateTime.yesterday":"Yesterday","zp.systemLoading.title":"Loading..."},"zh-Hans":{"zp.refresher.default":"继续下拉刷新","zp.refresher.pulling":"松开立即刷新","zp.refresher.refreshing":"正在刷新...","zp.refresher.complete":"刷新成功","zp.refresher.f2":"松手进入二楼","zp.loadingMore.default":"点击加载更多","zp.loadingMore.loading":"正在加载...","zp.loadingMore.noMore":"没有更多了","zp.loadingMore.fail":"加载失败，点击重新加载","zp.emptyView.title":"没有数据哦~","zp.emptyView.reload":"重新加载","zp.emptyView.error":"很抱歉，加载失败","zp.refresherUpdateTime.title":"最后更新：","zp.refresherUpdateTime.none":"无","zp.refresherUpdateTime.today":"今天","zp.refresherUpdateTime.yesterday":"昨天","zp.systemLoading.title":"加载中..."},"zh-Hant":{"zp.refresher.default":"繼續下拉重繪","zp.refresher.pulling":"鬆開立即重繪","zp.refresher.refreshing":"正在重繪...","zp.refresher.complete":"重繪成功","zp.refresher.f2":"鬆手進入二樓","zp.loadingMore.default":"點擊加載更多","zp.loadingMore.loading":"正在加載...","zp.loadingMore.noMore":"沒有更多了","zp.loadingMore.fail":"加載失敗，點擊重新加載","zp.emptyView.title":"沒有數據哦~","zp.emptyView.reload":"重新加載","zp.emptyView.error":"很抱歉，加載失敗","zp.refresherUpdateTime.title":"最後更新：","zp.refresherUpdateTime.none":"無","zp.refresherUpdateTime.today":"今天","zp.refresherUpdateTime.yesterday":"昨天","zp.systemLoading.title":"加載中..."}},{t:po}=function(e,t={},o,i){if("string"!=typeof e){const o=[t,e];e=o[0],t=o[1]}"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():ro),"string"!=typeof o&&(o="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||ro);const a=new uo({locale:e,fallbackLocale:o,messages:t,watcher:i});let n=(e,t)=>{if("function"!=typeof getApp)n=function(e,t){return a.t(e,t)};else{let e=!1;n=function(t,o){const i=getApp().$vm;return i&&(i.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(i,a))),a.t(t,o)}}return n(e,t)};return{i18n:a,f:(e,t,o)=>a.f(e,t,o),t:(e,t)=>n(e,t),add:(e,t,o=!0)=>a.add(e,t,o),watch:e=>a.watchLocale(e),getLocale:()=>a.getLocale(),setLocale:e=>a.setLocale(e)}}(mo),go=uni.getSystemInfoSync().language,fo={data:()=>({language:go}),computed:{finalLanguage(){try{const e=uni.getLocale(),t=this.language;return"auto"===e?qt._handleLanguage2Local(t,this._language2Local(t)):e}catch(e){return"zh-Hans"}},finalRefresherDefaultText(){return this._getI18nText("zp.refresher.default",this.refresherDefaultText)},finalRefresherPullingText(){return this._getI18nText("zp.refresher.pulling",this.refresherPullingText)},finalRefresherRefreshingText(){return this._getI18nText("zp.refresher.refreshing",this.refresherRefreshingText)},finalRefresherCompleteText(){return this._getI18nText("zp.refresher.complete",this.refresherCompleteText)},finalRefresherUpdateTimeTextMap:()=>({title:po("zp.refresherUpdateTime.title"),none:po("zp.refresherUpdateTime.none"),today:po("zp.refresherUpdateTime.today"),yesterday:po("zp.refresherUpdateTime.yesterday")}),finalRefresherGoF2Text(){return this._getI18nText("zp.refresher.f2",this.refresherGoF2Text)},finalLoadingMoreDefaultText(){return this._getI18nText("zp.loadingMore.default",this.loadingMoreDefaultText)},finalLoadingMoreLoadingText(){return this._getI18nText("zp.loadingMore.loading",this.loadingMoreLoadingText)},finalLoadingMoreNoMoreText(){return this._getI18nText("zp.loadingMore.noMore",this.loadingMoreNoMoreText)},finalLoadingMoreFailText(){return this._getI18nText("zp.loadingMore.fail",this.loadingMoreFailText)},finalEmptyViewText(){return this.isLoadFailed?this.finalEmptyViewErrorText:this._getI18nText("zp.emptyView.title",this.emptyViewText)},finalEmptyViewReloadText(){return this._getI18nText("zp.emptyView.reload",this.emptyViewReloadText)},finalEmptyViewErrorText(){return this.customerEmptyViewErrorText||this._getI18nText("zp.emptyView.error",this.emptyViewErrorText)},finalSystemLoadingText(){return this._getI18nText("zp.systemLoading.title",this.systemLoadingText)}},methods:{getLanguage(){return this.finalLanguage},_getI18nText(e,t){const o=Object.prototype.toString.call(t);if("[object Object]"===o){const e=t[this.finalLanguage];if(e)return e}else if("[object String]"===o)return t;return po(e)},_language2Local(e){const t=e.toLowerCase().replace(new RegExp("_",""),"-");return-1!==t.indexOf("zh")?"zh"===t||"zh-cn"===t||-1!==t.indexOf("zh-hans")?"zh-Hans":"zh-Hant":-1!==t.indexOf("en")?"en":e}}},yo={props:{},data:()=>({nRefresherLoading:!1,nListIsDragging:!1,nShowBottom:!0,nFixFreezing:!1,nShowRefresherReveal:!1,nLoadingMoreFixedHeight:!1,nShowRefresherRevealHeight:0,nOldShowRefresherRevealHeight:-1,nRefresherWidth:Ht.rpx2px(750),nF2Opacity:0}),computed:{},mounted(){},methods:{}},vo={props:{hideEmptyView:{type:Boolean,default:Ht.gc("hideEmptyView",!1)},emptyViewText:{type:[String,Object],default:Ht.gc("emptyViewText",null)},showEmptyViewReload:{type:Boolean,default:Ht.gc("showEmptyViewReload",!1)},showEmptyViewReloadWhenError:{type:Boolean,default:Ht.gc("showEmptyViewReloadWhenError",!0)},emptyViewReloadText:{type:[String,Object],default:Ht.gc("emptyViewReloadText",null)},emptyViewImg:{type:String,default:Ht.gc("emptyViewImg","")},emptyViewErrorText:{type:[String,Object],default:Ht.gc("emptyViewErrorText",null)},emptyViewErrorImg:{type:String,default:Ht.gc("emptyViewErrorImg","")},emptyViewStyle:{type:Object,default:Ht.gc("emptyViewStyle",{})},emptyViewSuperStyle:{type:Object,default:Ht.gc("emptyViewSuperStyle",{})},emptyViewImgStyle:{type:Object,default:Ht.gc("emptyViewImgStyle",{})},emptyViewTitleStyle:{type:Object,default:Ht.gc("emptyViewTitleStyle",{})},emptyViewReloadStyle:{type:Object,default:Ht.gc("emptyViewReloadStyle",{})},emptyViewFixed:{type:Boolean,default:Ht.gc("emptyViewFixed",!1)},emptyViewCenter:{type:Boolean,default:Ht.gc("emptyViewCenter",!0)},autoHideEmptyViewWhenLoading:{type:Boolean,default:Ht.gc("autoHideEmptyViewWhenLoading",!0)},autoHideEmptyViewWhenPull:{type:Boolean,default:Ht.gc("autoHideEmptyViewWhenPull",!0)},emptyViewZIndex:{type:Number,default:Ht.gc("emptyViewZIndex",9)}},data:()=>({customerEmptyViewErrorText:""}),computed:{finalEmptyViewImg(){return this.isLoadFailed?this.emptyViewErrorImg:this.emptyViewImg},finalShowEmptyViewReload(){return this.isLoadFailed?this.showEmptyViewReloadWhenError:this.showEmptyViewReload},showEmpty(){return!(this.refresherOnly||this.hideEmptyView||this.realTotalData.length)&&(!this.autoHideEmptyViewWhenLoading||(!(!this.isAddedData||this.firstPageLoaded||this.loading)||!this.autoHideEmptyViewWhenPull&&!this.isUserReload))}},methods:{_emptyViewReload(){let e=!1;this.$emit("emptyViewReload",(t=>{void 0!==t&&!0!==t||(this.fromEmptyViewReload=!0,this.reload().catch((()=>{}))),e=!0})),this.$nextTick((()=>{e||(this.fromEmptyViewReload=!0,this.reload().catch((()=>{})))}))},_emptyViewClick(){this.$emit("emptyViewClick")}}},wo={props:{refresherThemeStyle:{type:String,default:Ht.gc("refresherThemeStyle","")},refresherImgStyle:{type:Object,default:Ht.gc("refresherImgStyle",{})},refresherTitleStyle:{type:Object,default:Ht.gc("refresherTitleStyle",{})},refresherUpdateTimeStyle:{type:Object,default:Ht.gc("refresherUpdateTimeStyle",{})},watchRefresherTouchmove:{type:Boolean,default:Ht.gc("watchRefresherTouchmove",!1)},loadingMoreThemeStyle:{type:String,default:Ht.gc("loadingMoreThemeStyle","")},refresherOnly:{type:Boolean,default:Ht.gc("refresherOnly",!1)},refresherDefaultDuration:{type:[Number,String],default:Ht.gc("refresherDefaultDuration",100)},refresherCompleteDelay:{type:[Number,String],default:Ht.gc("refresherCompleteDelay",0)},refresherCompleteDuration:{type:[Number,String],default:Ht.gc("refresherCompleteDuration",300)},refresherRefreshingScrollable:{type:Boolean,default:Ht.gc("refresherRefreshingScrollable",!0)},refresherCompleteScrollable:{type:Boolean,default:Ht.gc("refresherCompleteScrollable",!1)},useCustomRefresher:{type:Boolean,default:Ht.gc("useCustomRefresher",!0)},refresherFps:{type:[Number,String],default:Ht.gc("refresherFps",40)},refresherMaxAngle:{type:[Number,String],default:Ht.gc("refresherMaxAngle",40)},refresherAngleEnableChangeContinued:{type:Boolean,default:Ht.gc("refresherAngleEnableChangeContinued",!1)},refresherDefaultText:{type:[String,Object],default:Ht.gc("refresherDefaultText",null)},refresherPullingText:{type:[String,Object],default:Ht.gc("refresherPullingText",null)},refresherRefreshingText:{type:[String,Object],default:Ht.gc("refresherRefreshingText",null)},refresherCompleteText:{type:[String,Object],default:Ht.gc("refresherCompleteText",null)},refresherGoF2Text:{type:[String,Object],default:Ht.gc("refresherGoF2Text",null)},refresherDefaultImg:{type:String,default:Ht.gc("refresherDefaultImg",null)},refresherPullingImg:{type:String,default:Ht.gc("refresherPullingImg",null)},refresherRefreshingImg:{type:String,default:Ht.gc("refresherRefreshingImg",null)},refresherCompleteImg:{type:String,default:Ht.gc("refresherCompleteImg",null)},refresherRefreshingAnimated:{type:Boolean,default:Ht.gc("refresherRefreshingAnimated",!0)},refresherEndBounceEnabled:{type:Boolean,default:Ht.gc("refresherEndBounceEnabled",!0)},refresherEnabled:{type:Boolean,default:Ht.gc("refresherEnabled",!0)},refresherThreshold:{type:[Number,String],default:Ht.gc("refresherThreshold","80rpx")},refresherDefaultStyle:{type:String,default:Ht.gc("refresherDefaultStyle","black")},refresherBackground:{type:String,default:Ht.gc("refresherBackground","transparent")},refresherFixedBackground:{type:String,default:Ht.gc("refresherFixedBackground","transparent")},refresherFixedBacHeight:{type:[Number,String],default:Ht.gc("refresherFixedBacHeight",0)},refresherOutRate:{type:Number,default:Ht.gc("refresherOutRate",.65)},refresherF2Enabled:{type:Boolean,default:Ht.gc("refresherF2Enabled",!1)},refresherF2Threshold:{type:[Number,String],default:Ht.gc("refresherF2Threshold","200rpx")},refresherF2Duration:{type:[Number,String],default:Ht.gc("refresherF2Duration",200)},showRefresherF2:{type:Boolean,default:Ht.gc("showRefresherF2",!0)},refresherPullRate:{type:Number,default:Ht.gc("refresherPullRate",.75)},showRefresherUpdateTime:{type:Boolean,default:Ht.gc("showRefresherUpdateTime",!1)},refresherUpdateTimeKey:{type:String,default:Ht.gc("refresherUpdateTimeKey","default")},refresherVibrate:{type:Boolean,default:Ht.gc("refresherVibrate",!1)},refresherNoTransform:{type:Boolean,default:Ht.gc("refresherNoTransform",!1)},useRefresherStatusBarPlaceholder:{type:Boolean,default:Ht.gc("useRefresherStatusBarPlaceholder",!1)}},data:()=>({R:Ot.Refresher,refresherStatus:Ot.Refresher.Default,refresherTouchstartY:0,lastRefresherTouchmove:null,refresherReachMaxAngle:!0,refresherTransform:"translateY(0px)",refresherTransition:"",finalRefresherDefaultStyle:"black",refresherRevealStackCount:0,refresherCompleteTimeout:null,refresherCompleteSubTimeout:null,refresherEndTimeout:null,isTouchmovingTimeout:null,refresherTriggered:!1,isTouchmoving:!1,isTouchEnded:!1,isUserPullDown:!1,privateRefresherEnabled:-1,privateShowRefresherWhenReload:!1,customRefresherHeight:-1,showCustomRefresher:!1,doRefreshAnimateAfter:!1,isRefresherInComplete:!1,showF2:!1,f2Transform:"",pullDownTimeStamp:0,moveDis:0,oldMoveDis:0,currentDis:0,oldCurrentMoveDis:0,oldRefresherTouchmoveY:0,oldTouchDirection:"",oldEmitedTouchDirection:"",oldPullingDistance:-1,refresherThresholdUpdateTag:0}),watch:{refresherDefaultStyle:{handler(e){e.length&&(this.finalRefresherDefaultStyle=e)},immediate:!0},refresherStatus(e){e===Ot.Refresher.Refreshing&&this._cleanRefresherEndTimeout(),this.refresherVibrate&&(e===Ot.Refresher.ReleaseToRefresh||e===Ot.Refresher.GoF2)&&this._doVibrateShort(),this.$emit("refresherStatusChange",e),this.$emit("update:refresherStatus",e)},refresherEnabled(e){!e&&this.endRefresh()}},computed:{pullDownDisTimeStamp(){return 1e3/this.refresherFps},refresherThresholdUnitConverted(){return Ht.addUnit(this.refresherThreshold,this.unit)},finalRefresherEnabled(){return!this.useChatRecordMode&&(-1===this.privateRefresherEnabled?this.refresherEnabled:1===this.privateRefresherEnabled)},finalRefresherThreshold(){let e=this.refresherThresholdUnitConverted,t=!1;return e===Ht.addUnit(80,this.unit)&&(t=!0,this.showRefresherUpdateTime&&(e=Ht.addUnit(120,this.unit))),t&&this.customRefresherHeight>0?this.customRefresherHeight+this.finalRefresherThresholdPlaceholder:Ht.convertToPx(e)+this.finalRefresherThresholdPlaceholder},finalRefresherF2Threshold(){return Ht.convertToPx(Ht.addUnit(this.refresherF2Threshold,this.unit))},finalRefresherThresholdPlaceholder(){return this.useRefresherStatusBarPlaceholder?this.statusBarHeight:0},finalRefresherFixedBacHeight(){return Ht.convertToPx(this.refresherFixedBacHeight)},finalRefresherThemeStyle(){return this.refresherThemeStyle.length?this.refresherThemeStyle:this.defaultThemeStyle},finalRefresherOutRate(){let e=this.refresherOutRate;return e=Math.max(0,e),e=Math.min(1,e),e},finalRefresherPullRate(){let e=this.refresherPullRate;return e=Math.max(0,e),e},finalRefresherTransform(){return this.refresherNoTransform||"translateY(0px)"===this.refresherTransform?"none":this.refresherTransform},finalShowRefresherWhenReload(){return this.showRefresherWhenReload||this.privateShowRefresherWhenReload},finalRefresherTriggered(){return!(!this.finalRefresherEnabled||this.useCustomRefresher)&&this.refresherTriggered},showRefresher(){const e=this.finalRefresherEnabled||this.useCustomRefresher&&!this.useChatRecordMode;return this.active&&-1===this.customRefresherHeight&&e&&this.updateCustomRefresherHeight(),e},hasTouchmove(){return this.watchRefresherTouchmove}},methods:{endRefresh(){this.totalData=this.realTotalData,this._refresherEnd(),this._endSystemLoadingAndRefresh(),this._handleScrollViewBounce({bounce:!0}),this.$nextTick((()=>{this.refresherTriggered=!1}))},updateCustomRefresherHeight(){Ht.delay((()=>this.$nextTick(this._updateCustomRefresherHeight)))},closeF2(){this._handleCloseF2()},_onRefresh(e=!1,t=!0){(!e||this.finalRefresherEnabled&&!this.useCustomRefresher)&&(this.$emit("onRefresh"),this.$emit("Refresh"),this.loading||this.isRefresherInComplete||(this.loadingType=Ot.LoadingType.Refresher,this.nShowRefresherReveal||(this.isUserPullDown=t,this.isUserReload=!t,this._startLoading(!0),this.refresherTriggered=!0,this.reloadWhenRefresh&&t&&(this.useChatRecordMode?this._onLoadingMore("click"):this._reload(!1,!1,t)))))},_onRestore(){this.refresherTriggered="restore",this.$emit("onRestore"),this.$emit("Restore")},_handleRefresherTouchstart(e){!this.loading&&this.isTouchEnded&&(this.isTouchmoving=!1),this.loadingType=Ot.LoadingType.Refresher,this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this.isTouchEnded=!1,this.refresherTransition="",this.refresherTouchstartY=e.touchY,this.$emit("refresherTouchstart",this.refresherTouchstartY),this.lastRefresherTouchmove=e,this._cleanRefresherCompleteTimeout(),this._cleanRefresherEndTimeout()},_refresherTouchmove(e){const t=Ht.getTime();let o=null,i=0;if(this.watchTouchDirectionChange){o=Ht.getTouch(e),i=o.touchY;const t=i>this.oldRefresherTouchmoveY?"top":"bottom";t===this.oldTouchDirection&&t!==this.oldEmitedTouchDirection&&(this._handleTouchDirectionChange({direction:t}),this.oldEmitedTouchDirection=t),this.oldTouchDirection=t,this.oldRefresherTouchmoveY=i}if(this.pullDownTimeStamp&&t-this.pullDownTimeStamp<=this.pullDownDisTimeStamp)return;if(this._touchDisabled())return;this.pullDownTimeStamp=Number(t),o=Ht.getTouch(e),i=o.touchY;let a=i-this.refresherTouchstartY;if(!(a<0)){if(this.refresherMaxAngle>=0&&this.refresherMaxAngle<=90&&this.lastRefresherTouchmove&&this.lastRefresherTouchmove.touchY<=i){if(!a&&!this.refresherAngleEnableChangeContinued&&this.moveDis<1&&!this.refresherReachMaxAngle)return;const e=Math.abs(o.touchX-this.lastRefresherTouchmove.touchX),t=Math.abs(i-this.lastRefresherTouchmove.touchY),n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2));if((e||t)&&e>1){if(Math.asin(t/n)/Math.PI*180<this.refresherMaxAngle)return this.lastRefresherTouchmove=o,void(this.refresherReachMaxAngle=!1)}}a=this._getFinalRefresherMoveDis(a),this._handleRefresherTouchmove(a,o),this.disabledBounce||(this._handleScrollViewBounce({bounce:!1}),this.disabledBounce=!0),this._emitTouchmove({pullingDistance:a,dy:this.moveDis-this.oldMoveDis})}},_handleRefresherTouchmove(e,t){this.refresherReachMaxAngle=!0,this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this.isTouchmoving=!0,this.isTouchEnded=!1,e>=this.finalRefresherThreshold?this.refresherStatus=this.refresherF2Enabled&&e>=this.finalRefresherF2Threshold?Ot.Refresher.GoF2:Ot.Refresher.ReleaseToRefresh:this.refresherStatus=Ot.Refresher.Default,this.moveDis=e},_handleRefresherTouchend(e){this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this.refresherReachMaxAngle=!0,this.isTouchEnded=!0;const t=this.finalRefresherThreshold;e>=t&&(this.refresherStatus===Ot.Refresher.ReleaseToRefresh||this.refresherStatus===Ot.Refresher.GoF2)?this.refresherStatus===Ot.Refresher.GoF2?(this._handleGoF2(),this._refresherEnd()):(Ht.delay((()=>{this._emitTouchmove({pullingDistance:t,dy:this.moveDis-t})}),.1),this.moveDis=t,this.refresherStatus=Ot.Refresher.Refreshing,this._doRefresherLoad()):(this._refresherEnd(),this.isTouchmovingTimeout=Ht.delay((()=>{this.isTouchmoving=!1}),this.refresherDefaultDuration)),this.scrollEnable=!0,this.$emit("refresherTouchend",e)},_handleListTouchstart(){this.useChatRecordMode&&this.autoHideKeyboardWhenChat&&(uni.hideKeyboard(),this.$emit("hidedKeyboard"))},_handleScrollViewBounce({bounce:e}){this.usePageScroll||this.scrollToTopBounceEnabled||(this.wxsScrollTop<=5?(this.refresherTransition="",this.scrollEnable=e):e&&(this.scrollEnable=e))},_handleWxsPullingDownStatusChange(e){this.wxsOnPullingDown=e,e&&!this.useChatRecordMode&&(this.renderPropScrollTop=0)},_handleWxsPullingDown({moveDis:e,diffDis:t}){this._emitTouchmove({pullingDistance:e,dy:t})},_handleTouchDirectionChange({direction:e}){this.$emit("touchDirectionChange",e)},_handlePropUpdate(){this.wxsPropType=Ht.getTime().toString()},_refresherEnd(e=!0,t=!1,o=!1,i=!0){if(this.loadingType===Ot.LoadingType.Refresher){const e=t&&(o||this.showRefresherWhenReload)?this.refresherCompleteDelay:0,i=e>0?Ot.Refresher.Complete:Ot.Refresher.Default;if(this.finalShowRefresherWhenReload){const e=this.refresherRevealStackCount;if(this.refresherRevealStackCount--,e>1)return}this._cleanRefresherEndTimeout(),this.refresherEndTimeout=Ht.delay((()=>{this.refresherStatus=i,i!==Ot.Refresher.Complete&&(this.isRefresherInComplete=!1)}),this.refresherStatus!==Ot.Refresher.Default&&i===Ot.Refresher.Default?this.refresherCompleteDuration:0),e>0&&(this.isRefresherInComplete=!0),this._cleanRefresherCompleteTimeout(),this.refresherCompleteTimeout=Ht.delay((()=>{let e=1;const o=this.refresherEndBounceEnabled&&t?"cubic-bezier(0.19,1.64,0.42,0.72)":"linear";t&&(e=this.refresherEndBounceEnabled?this.refresherCompleteDuration/1e3:this.refresherCompleteDuration/3e3),this.refresherTransition=`transform ${t?e:this.refresherDefaultDuration/1e3}s ${o}`,this.wxsPropType=this.refresherTransition+"end"+Ht.getTime(),this.moveDis=0,i===Ot.Refresher.Complete&&(this.refresherCompleteSubTimeout&&(clearTimeout(this.refresherCompleteSubTimeout),this.refresherCompleteSubTimeout=null),this.refresherCompleteSubTimeout=Ht.delay((()=>{this.$nextTick((()=>{this.refresherStatus=Ot.Refresher.Default,this.isRefresherInComplete=!1}))}),800*e)),this._emitTouchmove({pullingDistance:0,dy:this.moveDis})}),e)}i&&(Ht.delay((()=>this.loading=!1),e?10:0),o&&this._onRestore())},_handleGoF2(){!this.showF2&&this.refresherF2Enabled&&(this.$emit("refresherF2Change","go"),this.showRefresherF2&&(this.f2Transform=`translateY(${-this.superContentHeight}px)`,this.showF2=!0,Ht.delay((()=>{this.f2Transform="translateY(0px)"}),100,"f2ShowDelay")))},_handleCloseF2(){this.showF2&&this.refresherF2Enabled&&(this.$emit("refresherF2Change","close"),this.showRefresherF2&&(this.f2Transform=`translateY(${-this.superContentHeight}px)`,Ht.delay((()=>{this.showF2=!1,this.nF2Opacity=0}),this.refresherF2Duration,"f2CloseDelay")))},_doRefresherRefreshAnimate(){this._cleanRefresherCompleteTimeout();!this.doRefreshAnimateAfter&&this.finalShowRefresherWhenReload&&-1===this.customRefresherHeight&&this.refresherThreshold===Ht.addUnit(80,this.unit)?this.doRefreshAnimateAfter=!0:(this.refresherRevealStackCount++,this.wxsPropType="begin"+Ht.getTime(),this.moveDis=this.finalRefresherThreshold,this.refresherStatus=Ot.Refresher.Refreshing,this.isTouchmoving=!0,this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this._doRefresherLoad(!1))},_doRefresherLoad(e=!0){this._onRefresh(!1,e),this.loading=!0},_updateCustomRefresherHeight(){this._getNodeClientRect(".zp-custom-refresher-slot-view").then((e=>{this.customRefresherHeight=e?e[0].height:0,this.showCustomRefresher=this.customRefresherHeight>0,this.doRefreshAnimateAfter&&(this.doRefreshAnimateAfter=!1,this._doRefresherRefreshAnimate())}))},_emitTouchmove(e){e.viewHeight=this.finalRefresherThreshold,e.rate=e.viewHeight>0?e.pullingDistance/e.viewHeight:0,this.hasTouchmove&&this.oldPullingDistance!==e.pullingDistance&&this.$emit("refresherTouchmove",e),this.oldPullingDistance=e.pullingDistance},_cleanRefresherCompleteTimeout(){this.refresherCompleteTimeout=this._cleanTimeout(this.refresherCompleteTimeout)},_cleanRefresherEndTimeout(){this.refresherEndTimeout=this._cleanTimeout(this.refresherEndTimeout)}}},So={props:{loadingMoreCustomStyle:{type:Object,default:Ht.gc("loadingMoreCustomStyle",{})},loadingMoreTitleCustomStyle:{type:Object,default:Ht.gc("loadingMoreTitleCustomStyle",{})},loadingMoreLoadingIconCustomStyle:{type:Object,default:Ht.gc("loadingMoreLoadingIconCustomStyle",{})},loadingMoreLoadingIconType:{type:String,default:Ht.gc("loadingMoreLoadingIconType","flower")},loadingMoreLoadingIconCustomImage:{type:String,default:Ht.gc("loadingMoreLoadingIconCustomImage","")},loadingMoreLoadingAnimated:{type:Boolean,default:Ht.gc("loadingMoreLoadingAnimated",!0)},loadingMoreEnabled:{type:Boolean,default:Ht.gc("loadingMoreEnabled",!0)},toBottomLoadingMoreEnabled:{type:Boolean,default:Ht.gc("toBottomLoadingMoreEnabled",!0)},loadingMoreDefaultAsLoading:{type:Boolean,default:Ht.gc("loadingMoreDefaultAsLoading",!1)},loadingMoreDefaultText:{type:[String,Object],default:Ht.gc("loadingMoreDefaultText",null)},loadingMoreLoadingText:{type:[String,Object],default:Ht.gc("loadingMoreLoadingText",null)},loadingMoreNoMoreText:{type:[String,Object],default:Ht.gc("loadingMoreNoMoreText",null)},loadingMoreFailText:{type:[String,Object],default:Ht.gc("loadingMoreFailText",null)},hideNoMoreInside:{type:Boolean,default:Ht.gc("hideNoMoreInside",!1)},hideNoMoreByLimit:{type:Number,default:Ht.gc("hideNoMoreByLimit",0)},showDefaultLoadingMoreText:{type:Boolean,default:Ht.gc("showDefaultLoadingMoreText",!0)},showLoadingMoreNoMoreView:{type:Boolean,default:Ht.gc("showLoadingMoreNoMoreView",!0)},showLoadingMoreNoMoreLine:{type:Boolean,default:Ht.gc("showLoadingMoreNoMoreLine",!0)},loadingMoreNoMoreLineCustomStyle:{type:Object,default:Ht.gc("loadingMoreNoMoreLineCustomStyle",{})},insideMore:{type:Boolean,default:Ht.gc("insideMore",!1)},lowerThreshold:{type:[Number,String],default:Ht.gc("lowerThreshold","100rpx")}},data:()=>({M:Ot.More,loadingStatus:Ot.More.Default,loadingStatusAfterRender:Ot.More.Default,loadingMoreTimeStamp:0,loadingMoreDefaultSlot:null,showLoadingMore:!1,customNoMore:-1}),computed:{zLoadMoreConfig(){return{status:this.loadingStatusAfterRender,defaultAsLoading:this.loadingMoreDefaultAsLoading||this.useChatRecordMode&&this.chatLoadingMoreDefaultAsLoading,defaultThemeStyle:this.finalLoadingMoreThemeStyle,customStyle:this.loadingMoreCustomStyle,titleCustomStyle:this.loadingMoreTitleCustomStyle,iconCustomStyle:this.loadingMoreLoadingIconCustomStyle,loadingIconType:this.loadingMoreLoadingIconType,loadingIconCustomImage:this.loadingMoreLoadingIconCustomImage,loadingAnimated:this.loadingMoreLoadingAnimated,showNoMoreLine:this.showLoadingMoreNoMoreLine,noMoreLineCustomStyle:this.loadingMoreNoMoreLineCustomStyle,defaultText:this.finalLoadingMoreDefaultText,loadingText:this.finalLoadingMoreLoadingText,noMoreText:this.finalLoadingMoreNoMoreText,failText:this.finalLoadingMoreFailText,hideContent:!this.loadingMoreDefaultAsLoading&&this.listRendering,unit:this.unit,isChat:this.useChatRecordMode,chatDefaultAsLoading:this.chatLoadingMoreDefaultAsLoading}},finalLoadingMoreThemeStyle(){return this.loadingMoreThemeStyle.length?this.loadingMoreThemeStyle:this.defaultThemeStyle},finalLowerThreshold(){return Ht.convertToPx(this.lowerThreshold)},showLoadingMoreDefault(){return this._showLoadingMore("Default")},showLoadingMoreLoading(){return this._showLoadingMore("Loading")},showLoadingMoreNoMore(){return this._showLoadingMore("NoMore")},showLoadingMoreFail(){return this._showLoadingMore("Fail")},showLoadingMoreCustom(){return this._showLoadingMore("Custom")},loadingMoreFixedHeight(){return Ht.addUnit("80rpx",this.unit)}},methods:{pageReachBottom(){!this.useChatRecordMode&&this.toBottomLoadingMoreEnabled&&this._onLoadingMore("toBottom")},doLoadMore(e){this._onLoadingMore(e)},_checkScrolledToBottom(e,t=!1){-1===this.cacheScrollNodeHeight?this._getNodeClientRect(".zp-scroll-view").then((t=>{if(t){const o=t[0].height;this.cacheScrollNodeHeight=o,e-o<=this.finalLowerThreshold&&this._onLoadingMore("toBottom")}})):(e-this.cacheScrollNodeHeight<=this.finalLowerThreshold?this._onLoadingMore("toBottom"):e-this.cacheScrollNodeHeight<=500&&!t&&Ht.delay((()=>{this._getNodeClientRect(".zp-scroll-view",!0,!0).then((e=>{if(e){this.oldScrollTop=e[0].scrollTop;const t=e[0].scrollHeight-this.oldScrollTop;this._checkScrolledToBottom(t,!0)}}))}),150,"checkScrolledToBottomDelay"),this.oldScrollTop<=150&&0!==this.oldScrollTop&&Ht.delay((()=>{0!==this.oldScrollTop&&this._getNodeClientRect(".zp-scroll-view",!0,!0).then((e=>{e&&0===e[0].scrollTop&&0!==this.oldScrollTop&&this._onScrollToUpper()}))}),150,"checkScrolledToTopDelay"))},_onLoadingMore(e="click"){this.isIos&&"toBottom"===e&&!this.scrollToBottomBounceEnabled&&this.scrollEnable&&(this.scrollEnable=!1,this.$nextTick((()=>{this.scrollEnable=!0}))),this.$emit("scrolltolower",e),this.refresherOnly||!this.loadingMoreEnabled||this.loadingStatus!==Ot.More.Default&&this.loadingStatus!==Ot.More.Fail||this.loading||this.showEmpty||this._doLoadingMore()},_doLoadingMore(){this.pageNo>=this.defaultPageNo&&this.loadingStatus!==Ot.More.NoMore&&(this.pageNo++,this._startLoading(!1),this.isLocalPaging?this._localPagingQueryList(this.pageNo,this.defaultPageSize,this.localPagingLoadingTime,(e=>{this.completeByTotal(e,this.totalLocalPagingList.length),this.queryFrom=Ot.QueryFrom.LoadMore})):(this._emitQuery(this.pageNo,this.defaultPageSize,Ot.QueryFrom.LoadMore),this._callMyParentQuery()),this.loadingType=Ot.LoadingType.LoadMore)},_preCheckShowNoMoreInside(e,t,o){this.loadingStatus===Ot.More.NoMore&&this.hideNoMoreByLimit>0&&e.length?this.showLoadingMore=e.length>this.hideNoMoreByLimit:this.loadingStatus===Ot.More.NoMore&&this.hideNoMoreInside&&e.length||this.insideMore&&!1!==this.insideOfPaging&&e.length?(this.$nextTick((()=>{this._checkShowNoMoreInside(e,t,o)})),this.insideMore&&!1!==this.insideOfPaging&&e.length&&(this.showLoadingMore=e.length)):this.showLoadingMore=e.length},async _checkShowNoMoreInside(e,t,o){try{const e=t||await this._getNodeClientRect(".zp-scroll-view");if(this.usePageScroll){if(e){const t=e[0].top+e[0].height;this.insideOfPaging=t<this.windowHeight,this.hideNoMoreInside&&(this.showLoadingMore=!this.insideOfPaging),this._updateInsideOfPaging()}}else{const t=o||await this._getNodeClientRect(".zp-paging-container-content"),i=t?t[0].height:0,a=e?e[0].height:0;this.insideOfPaging=i<a,this.hideNoMoreInside&&(this.showLoadingMore=!this.insideOfPaging),this._updateInsideOfPaging()}}catch(i){this.insideOfPaging=!e.length,this.hideNoMoreInside&&(this.showLoadingMore=!this.insideOfPaging),this._updateInsideOfPaging()}},_showLoadingMore(e){if(!this.showLoadingMoreWhenReload&&(this.loadingStatus===Ot.More.Default&&!this.nShowBottom||!this.realTotalData.length))return!1;if((!this.showLoadingMoreWhenReload||this.isUserPullDown||this.loadingStatus!==Ot.More.Loading)&&!this.showLoadingMore||!this.loadingMoreEnabled&&(!this.showLoadingMoreWhenReload||this.isUserPullDown||this.loadingStatus!==Ot.More.Loading)||this.refresherOnly)return!1;if(this.useChatRecordMode&&"Loading"!==e)return!1;if(!this.zSlots)return!1;if("Custom"===e)return this.showDefaultLoadingMoreText&&!(this.loadingStatus===Ot.More.NoMore&&!this.showLoadingMoreNoMoreView);return this.loadingStatus===Ot.More[e]&&this.zSlots[`loadingMore${e}`]&&("NoMore"!==e||this.showLoadingMoreNoMoreView)}}},To={props:{autoHideLoadingAfterFirstLoaded:{type:Boolean,default:Ht.gc("autoHideLoadingAfterFirstLoaded",!0)},loadingFullFixed:{type:Boolean,default:Ht.gc("loadingFullFixed",!1)},autoShowSystemLoading:{type:Boolean,default:Ht.gc("autoShowSystemLoading",!1)},systemLoadingMask:{type:Boolean,default:Ht.gc("systemLoadingMask",!0)},systemLoadingText:{type:[String,Object],default:Ht.gc("systemLoadingText",null)}},data:()=>({loading:!1,loadingForNow:!1}),watch:{loadingStatus(e){this.$emit("loadingStatusChange",e),this.$nextTick((()=>{this.loadingStatusAfterRender=e})),!this.useChatRecordMode||!this.isFirstPage||e!==Ot.More.NoMore&&e!==Ot.More.Fail?this.isFirstPageAndNoMore=!1:this.isFirstPageAndNoMore=!0},loading(e){e&&(this.loadingForNow=e)}},computed:{showLoading(){return!(this.firstPageLoaded||!this.loading||!this.loadingForNow)&&(this.finalShowSystemLoading&&uni.showLoading({title:this.finalSystemLoadingText,mask:this.systemLoadingMask}),this.autoHideLoadingAfterFirstLoaded?!!this.fromEmptyViewReload||!this.pagingLoaded:this.loadingType===Ot.LoadingType.Refresher)},finalShowSystemLoading(){return this.autoShowSystemLoading&&this.loadingType===Ot.LoadingType.Refresher}},methods:{_startLoading(e=!1){(this.showLoadingMoreWhenReload&&!this.isUserPullDown||!e)&&(this.loadingStatus=Ot.More.Loading),this.loading=!0},_endSystemLoadingAndRefresh(){this.finalShowSystemLoading&&uni.hideLoading(),!this.useCustomRefresher&&uni.stopPullDownRefresh()}}},bo={props:{useChatRecordMode:{type:Boolean,default:Ht.gc("useChatRecordMode",!1)},chatRecordMoreOffset:{type:[Number,String],default:Ht.gc("chatRecordMoreOffset","0rpx")},autoHideKeyboardWhenChat:{type:Boolean,default:Ht.gc("autoHideKeyboardWhenChat",!0)},autoAdjustPositionWhenChat:{type:Boolean,default:Ht.gc("autoAdjustPositionWhenChat",!0)},chatAdjustPositionOffset:{type:[Number,String],default:Ht.gc("chatAdjustPositionOffset","0rpx")},autoToBottomWhenChat:{type:Boolean,default:Ht.gc("autoToBottomWhenChat",!1)},showChatLoadingWhenReload:{type:Boolean,default:Ht.gc("showChatLoadingWhenReload",!1)},chatLoadingMoreDefaultAsLoading:{type:Boolean,default:Ht.gc("chatLoadingMoreDefaultAsLoading",!0)}},data:()=>({keyboardHeight:0,isKeyboardHeightChanged:!1}),computed:{finalChatRecordMoreOffset(){return Ht.convertToPx(this.chatRecordMoreOffset)},finalChatAdjustPositionOffset(){return Ht.convertToPx(this.chatAdjustPositionOffset)},chatRecordRotateStyle(){let e;return e=this.useChatRecordMode?{transform:"scaleY(-1)"}:{},this.$emit("update:cellStyle",e),this.$emit("cellStyleChange",e),this.$nextTick((()=>{this.isFirstPage&&this.isChatRecordModeAndNotInversion&&this.$nextTick((()=>{this._scrollToBottom(!1),Ht.delay((()=>{this._scrollToBottom(!1),Ht.delay((()=>{this._scrollToBottom(!1)}),50)}),50)}))})),e},isChatRecordModeHasTransform(){return this.useChatRecordMode&&this.chatRecordRotateStyle&&this.chatRecordRotateStyle.transform},isChatRecordModeAndNotInversion(){return this.isChatRecordModeHasTransform&&"scaleY(1)"===this.chatRecordRotateStyle.transform},isChatRecordModeAndInversion(){return this.isChatRecordModeHasTransform&&"scaleY(-1)"===this.chatRecordRotateStyle.transform},chatRecordModeSafeAreaBottom(){return this.safeAreaInsetBottom&&!this.keyboardHeight?this.safeAreaBottom:0}},mounted(){this.useChatRecordMode&&uni.onKeyboardHeightChange(this._handleKeyboardHeightChange)},methods:{addChatRecordData(e,t=!0,o=!0){this.useChatRecordMode&&(this.isTotalChangeFromAddData=!0,this.addDataFromTop(e,t,o))},doChatRecordLoadMore(){this.useChatRecordMode&&this._onLoadingMore("click")},_handleKeyboardHeightChange(e){this.$emit("keyboardHeightChange",e),this.autoAdjustPositionWhenChat&&(this.isKeyboardHeightChanged=!0,this.keyboardHeight=e.height>0?e.height+this.finalChatAdjustPositionOffset:e.height),this.autoToBottomWhenChat&&this.keyboardHeight>0&&Ht.delay((()=>{this.scrollToBottom(!1),Ht.delay((()=>{this.scrollToBottom(!1)}))}))}}},Co={props:{usePageScroll:{type:Boolean,default:Ht.gc("usePageScroll",!1)},scrollable:{type:Boolean,default:Ht.gc("scrollable",!0)},showScrollbar:{type:Boolean,default:Ht.gc("showScrollbar",!0)},scrollX:{type:Boolean,default:Ht.gc("scrollX",!1)},scrollToTopBounceEnabled:{type:Boolean,default:Ht.gc("scrollToTopBounceEnabled",!1)},scrollToBottomBounceEnabled:{type:Boolean,default:Ht.gc("scrollToBottomBounceEnabled",!0)},scrollWithAnimation:{type:Boolean,default:Ht.gc("scrollWithAnimation",!1)},scrollIntoView:{type:String,default:Ht.gc("scrollIntoView","")}},data:()=>({scrollTop:0,oldScrollTop:0,scrollViewStyle:{},scrollViewContainerStyle:{},scrollViewInStyle:{},pageScrollTop:-1,scrollEnable:!0,privateScrollWithAnimation:-1,cacheScrollNodeHeight:-1,superContentHeight:0}),watch:{oldScrollTop(e){!this.usePageScroll&&this._scrollTopChange(e,!1)},pageScrollTop(e){this.usePageScroll&&this._scrollTopChange(e,!0)},usePageScroll:{handler(e){this.loaded&&this.autoHeight&&this._setAutoHeight(!e)},immediate:!0},finalScrollTop(e){this.renderPropScrollTop=e<6?0:10}},computed:{finalScrollWithAnimation(){return-1!==this.privateScrollWithAnimation?1===this.privateScrollWithAnimation:this.scrollWithAnimation},finalScrollViewStyle(){return 1!=this.superContentZIndex&&(this.scrollViewStyle["z-index"]=this.superContentZIndex,this.scrollViewStyle.position="relative"),this.scrollViewStyle},finalScrollTop(){return this.usePageScroll?this.pageScrollTop:this.oldScrollTop},finalIsOldWebView(){return this.isOldWebView&&!this.usePageScroll},finalScrollable(){return this.scrollable&&!this.usePageScroll&&this.scrollEnable&&(!!this.refresherCompleteScrollable||this.refresherStatus!==Ot.Refresher.Complete)&&(!!this.refresherRefreshingScrollable||this.refresherStatus!==Ot.Refresher.Refreshing)}},methods:{scrollToTop(e,t=!0){this.useChatRecordMode&&t&&!this.isChatRecordModeAndNotInversion?this.scrollToBottom(e,!1):this.$nextTick((()=>{this._scrollToTop(e,!1)}))},scrollToBottom(e,t=!0){this.useChatRecordMode&&t&&!this.isChatRecordModeAndNotInversion?this.scrollToTop(e,!1):this.$nextTick((()=>{this._scrollToBottom(e)}))},scrollIntoViewById(e,t,o){this._scrollIntoView(e,t,o)},scrollIntoViewByNodeTop(e,t,o){this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this._scrollIntoViewByNodeTop(e,t,o)}))},scrollToY(e,t,o){this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this._scrollToY(e,t,o)}))},scrollIntoViewByIndex(e,t,o){e>=this.realTotalData.length?Ht.consoleErr("当前滚动的index超出已渲染列表长度，请先通过refreshToPage加载到对应index页并等待渲染成功后再调用此方法！"):this.$nextTick((()=>{if(this.finalUseVirtualList){const i=this.cellHeightMode===Ot.CellHeightMode.Fixed;Ht.delay((()=>{if(this.finalUseVirtualList){const a=i?this.virtualCellHeight*e:this.virtualHeightCacheList[e].lastTotalHeight;this.scrollToY(a,t,o)}}),i?0:100)}}))},scrollIntoViewByView(e,t,o){this._scrollIntoView(e,t,o)},updatePageScrollTop(e){this.pageScrollTop=e},updatePageScrollTopHeight(){this._updatePageScrollTopOrBottomHeight("top")},updatePageScrollBottomHeight(){this._updatePageScrollTopOrBottomHeight("bottom")},updateLeftAndRightWidth(){this.finalIsOldWebView&&this.$nextTick((()=>this._updateLeftAndRightWidth(this.scrollViewContainerStyle,"zp-page")))},updateScrollViewScrollTop(e,t=!0){this._updatePrivateScrollWithAnimation(t),this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this.scrollTop=e,this.oldScrollTop=this.scrollTop}))},_onScrollToUpper(){this.$emit("scrolltoupper"),this.$emit("scrollTopChange",0),this.$nextTick((()=>{this.oldScrollTop=0}))},_onScrollToLower(e){(!e.detail||!e.detail.direction||"bottom"===e.detail.direction)&&this.toBottomLoadingMoreEnabled&&this._onLoadingMore(this.useChatRecordMode?"click":"toBottom")},_scrollToTop(e=!0,t=!0){this.usePageScroll?this.$nextTick((()=>{uni.pageScrollTo({scrollTop:0,duration:e?100:0})})):(this._updatePrivateScrollWithAnimation(e),this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this.scrollTop=0,this.oldScrollTop=this.scrollTop})))},async _scrollToBottom(e=!0){if(this.usePageScroll)this.$nextTick((()=>{uni.pageScrollTo({scrollTop:Number.MAX_VALUE,duration:e?100:0})}));else try{this._updatePrivateScrollWithAnimation(e);const t=await this._getNodeClientRect(".zp-paging-container"),o=await this._getNodeClientRect(".zp-scroll-view"),i=t?t[0].height:0,a=o?o[0].height:0;i>a&&(this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this.scrollTop=i-a+this.virtualPlaceholderTopHeight,this.oldScrollTop=this.scrollTop})))}catch(t){}},_scrollIntoView(e,t=0,o=!1,i){try{this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this._getNodeClientRect("#"+e.replace("#",""),this.$parent).then((e=>{if(e){let a=e[0].top;this._scrollIntoViewByNodeTop(a,t,o),i&&i()}}))}))}catch(a){}},_scrollIntoViewByNodeTop(e,t=0,o=!1){this.isChatRecordModeAndInversion?this._getNodeClientRect(".zp-scroll-view").then((i=>{i&&this._scrollToY(i[0].height-e,t,o,!0)})):this._scrollToY(e,t,o,!0)},_scrollToY(e,t=0,o=!1,i=!1){this._updatePrivateScrollWithAnimation(o),Ht.delay((()=>{if(this.usePageScroll){i&&-1!==this.pageScrollTop&&(e+=this.pageScrollTop);const a=e-t;uni.pageScrollTo({scrollTop:a,duration:o?100:0})}else i&&(e+=this.oldScrollTop),this.scrollTop=e-t}),10)},_scroll(e){this.$emit("scroll",e);const t=e.detail.scrollTop;this.finalUseVirtualList&&this._updateVirtualScroll(t,this.oldScrollTop-t),this.oldScrollTop=t;const o=e.detail.scrollHeight-this.oldScrollTop;!this.isIos&&this._checkScrolledToBottom(o)},_updatePrivateScrollWithAnimation(e){this.privateScrollWithAnimation=e?1:0,Ht.delay((()=>this.$nextTick((()=>{this.privateScrollWithAnimation=-1}))),100,"updateScrollWithAnimationDelay")},_doCheckScrollViewShouldFullHeight(e){this.autoFullHeight&&this.usePageScroll&&this.isTotalChangeFromAddData?this.$nextTick((()=>{this._checkScrollViewShouldFullHeight(((t,o)=>{this._preCheckShowNoMoreInside(e,t,o)}))})):this._preCheckShowNoMoreInside(e)},async _checkScrollViewShouldFullHeight(e){try{const t=await this._getNodeClientRect(".zp-scroll-view"),o=await this._getNodeClientRect(".zp-paging-container-content");if(!t||!o)return;const i=o[0].height,a=t[0].top;this.isAddedData&&i+a<=this.windowHeight?(this._setAutoHeight(!0,t),e(t,o)):(this._setAutoHeight(!1),e(null,null))}catch(t){e(null,null)}},async _updateCachedSuperContentHeight(){const e=await this._getNodeClientRect(".z-paging-content");e&&(this.superContentHeight=e[0].height)},_scrollTopChange(e,t){this.$emit("scrollTopChange",e),this.$emit("update:scrollTop",e),this._checkShouldShowBackToTop(e);const o=e>5?6:0;t&&this.wxsPageScrollTop!==o?this.wxsPageScrollTop=o:t||this.wxsScrollTop===o||(this.wxsScrollTop=o,o>6&&(this.scrollEnable=!0))},_updatePageScrollTopOrBottomHeight(e){if(!this.usePageScroll)return;this._doCheckScrollViewShouldFullHeight(this.realTotalData);const t=`.zp-page-${e}`,o=`margin${e.slice(0,1).toUpperCase()+e.slice(1)}`;let i=this.safeAreaInsetBottom;this.$nextTick((()=>{Ht.delay((()=>{this._getNodeClientRect(t).then((t=>{if(t){let a=t[0].height;"bottom"===e?i&&(a+=this.safeAreaBottom):this.cacheTopHeight=a,this.$set(this.scrollViewStyle,o,`${a}px`)}else i&&this.$set(this.scrollViewStyle,o,`${this.safeAreaBottom}px`)}))}),0)}))}}},ko={props:{autoShowBackToTop:{type:Boolean,default:Ht.gc("autoShowBackToTop",!1)},backToTopThreshold:{type:[Number,String],default:Ht.gc("backToTopThreshold","400rpx")},backToTopImg:{type:String,default:Ht.gc("backToTopImg","")},backToTopWithAnimate:{type:Boolean,default:Ht.gc("backToTopWithAnimate",!0)},backToTopBottom:{type:[Number,String],default:Ht.gc("backToTopBottom","160rpx")},backToTopStyle:{type:Object,default:Ht.gc("backToTopStyle",{})},enableBackToTop:{type:Boolean,default:Ht.gc("enableBackToTop",!0)}},data:()=>({backToTopClass:"zp-back-to-top zp-back-to-top-hide",lastBackToTopShowTime:0,showBackToTopClass:!1}),computed:{backToTopThresholdUnitConverted(){return Ht.addUnit(this.backToTopThreshold,this.unit)},backToTopBottomUnitConverted(){return Ht.addUnit(this.backToTopBottom,this.unit)},finalEnableBackToTop(){return!this.usePageScroll&&this.enableBackToTop},finalBackToTopThreshold(){return Ht.convertToPx(this.backToTopThresholdUnitConverted)},finalBackToTopStyle(){const e=this.backToTopStyle;return e.bottom||(e.bottom=this.windowBottom+Ht.convertToPx(this.backToTopBottomUnitConverted)+"px"),e.position||(e.position=this.usePageScroll?"fixed":"absolute"),e},finalBackToTopClass(){return`${this.backToTopClass} zp-back-to-top-${this.unit}`}},methods:{_backToTopClick(){let e=!1;this.$emit("backToTopClick",(t=>{(void 0===t||!0===t)&&this._handleToTop(),e=!0})),this.$nextTick((()=>{!e&&this._handleToTop()}))},_handleToTop(){!this.backToTopWithAnimate&&this._checkShouldShowBackToTop(0),this.useChatRecordMode?this.scrollToBottom(this.backToTopWithAnimate):this.scrollToTop(this.backToTopWithAnimate)},_checkShouldShowBackToTop(e){this.autoShowBackToTop?e>this.finalBackToTopThreshold?this.showBackToTopClass||(this.showBackToTopClass=!0,this.lastBackToTopShowTime=(new Date).getTime(),Ht.delay((()=>{this.backToTopClass="zp-back-to-top zp-back-to-top-show"}),300)):this.showBackToTopClass&&(this.backToTopClass="zp-back-to-top zp-back-to-top-hide",Ht.delay((()=>{this.showBackToTopClass=!1}),(new Date).getTime()-this.lastBackToTopShowTime<500?0:300)):this.showBackToTopClass=!1}}},xo={props:{useVirtualList:{type:Boolean,default:Ht.gc("useVirtualList",!1)},useCompatibilityMode:{type:Boolean,default:Ht.gc("useCompatibilityMode",!1)},extraData:{type:Object,default:Ht.gc("extraData",{})},useInnerList:{type:Boolean,default:Ht.gc("useInnerList",!1)},forceCloseInnerList:{type:Boolean,default:Ht.gc("forceCloseInnerList",!1)},cellKeyName:{type:String,default:Ht.gc("cellKeyName","")},innerListStyle:{type:Object,default:Ht.gc("innerListStyle",{})},innerCellStyle:{type:Object,default:Ht.gc("innerCellStyle",{})},preloadPage:{type:[Number,String],default:Ht.gc("preloadPage",12),validator:e=>(e<=0&&Ht.consoleErr("preload-page必须大于0！"),e>0)},cellHeightMode:{type:String,default:Ht.gc("cellHeightMode",Ot.CellHeightMode.Fixed)},fixedCellHeight:{type:[Number,String],default:Ht.gc("fixedCellHeight",0)},virtualListCol:{type:[Number,String],default:Ht.gc("virtualListCol",1)},virtualScrollFps:{type:[Number,String],default:Ht.gc("virtualScrollFps",80)},virtualCellIdPrefix:{type:String,default:Ht.gc("virtualCellIdPrefix","")}},data:()=>({virtualListKey:Ht.getInstanceId(),virtualPageHeight:0,virtualCellHeight:0,virtualScrollTimeStamp:0,virtualList:[],virtualPlaceholderTopHeight:0,virtualPlaceholderBottomHeight:0,virtualTopRangeIndex:0,virtualBottomRangeIndex:0,lastVirtualTopRangeIndex:0,lastVirtualBottomRangeIndex:0,virtualItemInsertedCount:0,virtualHeightCacheList:[],getCellHeightRetryCount:{fixed:0,dynamic:0},pagingOrgTop:-1,updateVirtualListFromDataChange:!1}),watch:{realTotalData(){this.updateVirtualListRender()},virtualList(e){this.$emit("update:virtualList",e),this.$emit("virtualListChange",e)},virtualPlaceholderTopHeight(e){this.$emit("virtualTopHeightChange",e)}},computed:{virtualCellIndexKey:()=>It,finalUseVirtualList(){return this.useVirtualList&&this.usePageScroll&&Ht.consoleErr("使用页面滚动时，开启虚拟列表无效！"),this.useVirtualList&&!this.usePageScroll},finalUseInnerList(){return this.useInnerList||this.finalUseVirtualList&&!this.forceCloseInnerList},finalCellKeyName(){return this.cellKeyName},finalVirtualPageHeight(){return this.virtualPageHeight>0?this.virtualPageHeight:this.windowHeight},finalFixedCellHeight(){return Ht.convertToPx(this.fixedCellHeight)},fianlVirtualCellIdPrefix(){return(this.virtualCellIdPrefix?this.virtualCellIdPrefix+"-":"")+"zp-id"},virtualRangePageHeight(){return this.finalVirtualPageHeight*this.preloadPage},virtualScrollDisTimeStamp(){return 1e3/this.virtualScrollFps}},methods:{doInsertVirtualListItem(e,t){if(this.cellHeightMode!==Ot.CellHeightMode.Dynamic)return;this.realTotalData.splice(t,0,e),this.realTotalData=[...this.realTotalData],this.virtualItemInsertedCount++,e&&"[object Object]"===Object.prototype.toString.call(e)||(e={item:e});const o=this.virtualCellIndexKey;e[o]=`custom-${this.virtualItemInsertedCount}`,e[Vt]=`${this.virtualListKey}-${e[o]}`,this.$nextTick((async()=>{let i=0;for(;i<=10;){await Ht.wait(xt);const a=await this._getVirtualCellNodeByIndex(e[o]);if(!a){i++;continue}const n=a?a[0].height:0,r=this.virtualHeightCacheList[t-1],l=r?r.totalHeight:0;this.virtualHeightCacheList.splice(t,0,{height:n,lastTotalHeight:l,totalHeight:l+n});for(let e=t+1;e<this.virtualHeightCacheList.length;e++){const t=this.virtualHeightCacheList[e];t.lastTotalHeight+=n,t.totalHeight+=n}this._updateVirtualScroll(this.oldScrollTop);break}}))},didUpdateVirtualListCell(e){if(this.cellHeightMode!==Ot.CellHeightMode.Dynamic)return;const t=this.virtualHeightCacheList[e];this.$nextTick((()=>{this._getVirtualCellNodeByIndex(e).then((o=>{const i=o?o[0].height:0,a=i-t.height;t.height=i,t.totalHeight=t.lastTotalHeight+i;for(let t=e+1;t<this.virtualHeightCacheList.length;t++){const e=this.virtualHeightCacheList[t];e.totalHeight+=a,e.lastTotalHeight+=a}}))}))},didDeleteVirtualListCell(e){if(this.cellHeightMode!==Ot.CellHeightMode.Dynamic)return;const t=this.virtualHeightCacheList[e];for(let o=e+1;o<this.virtualHeightCacheList.length;o++){const e=this.virtualHeightCacheList[o];e.totalHeight-=t.height,e.lastTotalHeight-=t.height}this.virtualHeightCacheList.splice(e,1)},updateVirtualListRender(){this.finalUseVirtualList&&(this.updateVirtualListFromDataChange=!0,this.$nextTick((()=>{this.getCellHeightRetryCount.fixed=0,this.realTotalData.length?this.cellHeightMode===Ot.CellHeightMode.Fixed&&this.isFirstPage&&this._updateFixedCellHeight():this._resetDynamicListState(!this.isUserPullDown),this._updateVirtualScroll(this.oldScrollTop)})))},_virtualListInit(){this.$nextTick((()=>{Ht.delay((()=>{this._getNodeClientRect(".zp-scroll-view").then((e=>{e&&(this.pagingOrgTop=e[0].top,this.virtualPageHeight=e[0].height)}))}))}))},_updateFixedCellHeight(){this.finalFixedCellHeight?this.virtualCellHeight=this.finalFixedCellHeight:this.$nextTick((()=>{Ht.delay((()=>{this._getVirtualCellNodeByIndex(0).then((e=>{if(e)this.virtualCellHeight=e[0].height,this._updateVirtualScroll(this.oldScrollTop);else{if(this.getCellHeightRetryCount.fixed>10)return;this.getCellHeightRetryCount.fixed++,this._updateFixedCellHeight()}}))}),xt,"updateFixedCellHeightDelay")}))},_updateDynamicCellHeight(e,t="bottom"){const o="top"===t,i=this.virtualHeightCacheList,a=o?[]:i;let n=0;this.$nextTick((()=>{Ht.delay((async()=>{for(let r=0;r<e.length;r++){const l=await this._getVirtualCellNodeByIndex(e[r][this.virtualCellIndexKey]),s=l?l[0].height:0;if(!l)return void(this.getCellHeightRetryCount.dynamic<=10&&(i.splice(i.length-r,r),this.getCellHeightRetryCount.dynamic++,this._updateDynamicCellHeight(e,t)));const c=a.length?a.slice(-1)[0]:null,h=c?c.totalHeight:0;a.push({height:s,lastTotalHeight:h,totalHeight:h+s}),o&&(n+=s)}if(o&&e.length){for(let e=0;e<i.length;e++){const t=i[e];t.lastTotalHeight+=n,t.totalHeight+=n}this.virtualHeightCacheList=a.concat(i)}this._updateVirtualScroll(this.oldScrollTop)}),xt,"updateDynamicCellHeightDelay")}))},_setCellIndex(e,t="bottom"){let o=0;const i=this.virtualCellIndexKey;if("bottom"===t&&[Ot.QueryFrom.Refresh,Ot.QueryFrom.Reload].indexOf(this.queryFrom)>=0&&this._resetDynamicListState(),this.totalData.length&&this.queryFrom!==Ot.QueryFrom.Refresh){if("bottom"===t){o=this.realTotalData.length;const e=this.realTotalData.length?this.realTotalData.slice(-1)[0]:null;e&&void 0!==e[i]&&(o=e[i]+1)}else if("top"===t){const t=this.realTotalData.length?this.realTotalData[0]:null;t&&void 0!==t[i]&&(o=t[i]-e.length)}}else this._resetDynamicListState();for(let a=0;a<e.length;a++){let t=e[a];t&&"[object Object]"===Object.prototype.toString.call(t)||(t={item:t}),t[Vt]&&(t=Ht.deepCopy(t)),t[i]=o+a,t[Vt]=`${this.virtualListKey}-${t[i]}`,e[a]=t}this.getCellHeightRetryCount.dynamic=0,this.cellHeightMode===Ot.CellHeightMode.Dynamic&&this._updateDynamicCellHeight(e,t)},_updateVirtualScroll(e,t=0){const o=Ht.getTime();if(0===e&&this._resetTopRange(),0!==e&&this.virtualScrollTimeStamp&&o-this.virtualScrollTimeStamp<=this.virtualScrollDisTimeStamp)return;this.virtualScrollTimeStamp=o;let i=0;const a=this.cellHeightMode;if(a===Ot.CellHeightMode.Fixed)i=parseInt(e/this.virtualCellHeight)||0,this._updateFixedTopRangeIndex(i),this._updateFixedBottomRangeIndex(i);else if(a===Ot.CellHeightMode.Dynamic){const o=t>0?"top":"bottom",i=this.virtualRangePageHeight,a=e-i,n=e+this.finalVirtualPageHeight+i;let r=0,l=0,s=!1;const c=this.virtualHeightCacheList,h=c?c.slice(-1)[0]:null;let u=this.virtualTopRangeIndex;if("bottom"===o)for(let e=u;e<c.length;e++){const t=c[e];if(t&&t.totalHeight>a){this.virtualTopRangeIndex=e,this.virtualPlaceholderTopHeight=t.lastTotalHeight;break}}else{let e=!1;for(let t=u;t>=0;t--){const o=c[t];if(o&&o.totalHeight<a){this.virtualTopRangeIndex=t,this.virtualPlaceholderTopHeight=o.lastTotalHeight,e=!0;break}}!e&&this._resetTopRange()}for(let e=this.virtualTopRangeIndex;e<c.length;e++){const t=c[e];if(t&&t.totalHeight>n){r=e,l=h.totalHeight-t.totalHeight,s=!0;break}}s&&0!==this.virtualBottomRangeIndex?(this.virtualBottomRangeIndex=r,this.virtualPlaceholderBottomHeight=l):(this.virtualBottomRangeIndex=this.realTotalData.length?this.realTotalData.length-1:this.pageSize,this.virtualPlaceholderBottomHeight=0),this._updateVirtualList()}},_updateFixedTopRangeIndex(e){let t=0===this.virtualCellHeight?0:e-(parseInt(this.finalVirtualPageHeight/this.virtualCellHeight)||1)*this.preloadPage;t*=this.virtualListCol,t=Math.max(0,t),this.virtualTopRangeIndex=t,this.virtualPlaceholderTopHeight=t/this.virtualListCol*this.virtualCellHeight},_updateFixedBottomRangeIndex(e){let t=0===this.virtualCellHeight?this.pageSize:e+(parseInt(this.finalVirtualPageHeight/this.virtualCellHeight)||1)*(this.preloadPage+1);t*=this.virtualListCol,t=Math.min(this.realTotalData.length,t),this.virtualBottomRangeIndex=t,this.virtualPlaceholderBottomHeight=(this.realTotalData.length-t)*this.virtualCellHeight/this.virtualListCol,this._updateVirtualList()},_updateVirtualList(){(this.updateVirtualListFromDataChange||this.lastVirtualTopRangeIndex!==this.virtualTopRangeIndex||this.lastVirtualBottomRangeIndex!==this.virtualBottomRangeIndex)&&(this.updateVirtualListFromDataChange=!1,this.lastVirtualTopRangeIndex=this.virtualTopRangeIndex,this.lastVirtualBottomRangeIndex=this.virtualBottomRangeIndex,this.virtualList=this.realTotalData.slice(this.virtualTopRangeIndex,this.virtualBottomRangeIndex+1))},_resetDynamicListState(e=!1){this.virtualHeightCacheList=[],e&&(this.virtualList=[]),this.virtualTopRangeIndex=0,this.virtualPlaceholderTopHeight=0},_resetTopRange(){this.virtualTopRangeIndex=0,this.virtualPlaceholderTopHeight=0,this._updateVirtualList()},_checkVirtualListScroll(){this.finalUseVirtualList&&this.$nextTick((()=>{this._getNodeClientRect(".zp-paging-touch-view").then((e=>{const t=e?e[0].top:0;(!e||t===this.pagingOrgTop&&0!==this.virtualPlaceholderTopHeight)&&this._updateVirtualScroll(0)}))}))},_getVirtualCellNodeByIndex(e){return this._getNodeClientRect(`#${this.fianlVirtualCellIdPrefix}-${e}`,this.finalUseInnerList,!1,!1)},_innerCellClick(e,t){this.$emit("innerCellClick",e,t)}}},No=uni.getSystemInfoSync(),Bo={name:"z-paging",components:{zPagingRefresh:jt,zPagingLoadMore:$t,zPagingEmptyView:Ct},mixins:[Ut,eo,fo,yo,vo,wo,So,To,bo,Co,ko,xo],data:()=>({base64BackToTop:bt,loadingType:Ot.LoadingType.Refresher,requestTimeStamp:0,wxsPropType:"",renderPropScrollTop:-1,checkScrolledToBottomTimeOut:null,cacheTopHeight:-1,statusBarHeight:No.statusBarHeight,insideOfPaging:-1,isLoadFailed:!1,isIos:"ios"===No.platform,disabledBounce:!1,fromCompleteEmit:!1,disabledCompleteEmit:!1,pageLaunched:!1,active:!1,wxsIsScrollTopInTopRange:!0,wxsScrollTop:0,wxsPageScrollTop:0,wxsOnPullingDown:!1}),props:{delay:{type:[Number,String],default:Ht.gc("delay",0)},minDelay:{type:[Number,String],default:Ht.gc("minDelay",0)},pagingStyle:{type:Object,default:Ht.gc("pagingStyle",{})},height:{type:String,default:Ht.gc("height","")},width:{type:String,default:Ht.gc("width","")},maxWidth:{type:String,default:Ht.gc("maxWidth","")},bgColor:{type:String,default:Ht.gc("bgColor","")},pagingContentStyle:{type:Object,default:Ht.gc("pagingContentStyle",{})},autoHeight:{type:Boolean,default:Ht.gc("autoHeight",!1)},autoHeightAddition:{type:[Number,String],default:Ht.gc("autoHeightAddition","0px")},defaultThemeStyle:{type:String,default:Ht.gc("defaultThemeStyle","black")},fixed:{type:Boolean,default:Ht.gc("fixed",!0)},safeAreaInsetBottom:{type:Boolean,default:Ht.gc("safeAreaInsetBottom",!1)},useSafeAreaPlaceholder:{type:Boolean,default:Ht.gc("useSafeAreaPlaceholder",!1)},bottomBgColor:{type:String,default:Ht.gc("bottomBgColor","")},topZIndex:{type:Number,default:Ht.gc("topZIndex",99)},superContentZIndex:{type:Number,default:Ht.gc("superContentZIndex",1)},contentZIndex:{type:Number,default:Ht.gc("contentZIndex",1)},f2ZIndex:{type:Number,default:Ht.gc("f2ZIndex",100)},autoFullHeight:{type:Boolean,default:Ht.gc("autoFullHeight",!0)},watchTouchDirectionChange:{type:Boolean,default:Ht.gc("watchTouchDirectionChange",!1)},unit:{type:String,default:Ht.gc("unit","rpx")}},created(){this.createdReload&&!this.refresherOnly&&this.auto&&(this._startLoading(),this.$nextTick(this._preReload))},mounted(){this.active=!0,this.wxsPropType=Ht.getTime().toString(),this.renderJsIgnore,this.createdReload||this.refresherOnly||!this.auto||Ht.delay((()=>this.$nextTick(this._preReload)),0),this.finalUseCache&&this._setListByLocalCache(),this.$nextTick((()=>{this.systemInfo=uni.getSystemInfoSync(),!this.usePageScroll&&this.autoHeight&&this._setAutoHeight(),this.loaded=!0,Ht.delay((()=>{this.updateFixedLayout(),this._updateCachedSuperContentHeight()}))})),this.updatePageScrollTopHeight(),this.updatePageScrollBottomHeight(),this.updateLeftAndRightWidth(),this.finalRefresherEnabled&&this.useCustomRefresher&&this.$nextTick((()=>{this.isTouchmoving=!0})),this._onEmit(),this.finalUseVirtualList&&this._virtualListInit()},destroyed(){this._handleUnmounted()},unmounted(){this._handleUnmounted()},watch:{defaultThemeStyle:{handler(e){e.length&&(this.finalRefresherDefaultStyle=e)},immediate:!0},autoHeight(e){this.loaded&&!this.usePageScroll&&this._setAutoHeight(e)},autoHeightAddition(e){this.loaded&&!this.usePageScroll&&this.autoHeight&&this._setAutoHeight(e)}},computed:{finalPagingStyle(){const e={...this.pagingStyle};if(!this.systemInfo)return e;const{windowTop:t,windowBottom:o}=this;return!this.usePageScroll&&this.fixed&&(t&&!e.top&&(e.top=t+"px"),o&&!e.bottom&&(e.bottom=o+"px")),this.bgColor.length&&!e.background&&(e.background=this.bgColor),this.height.length&&!e.height&&(e.height=this.height),this.width.length&&!e.width&&(e.width=this.width),this.maxWidth.length&&!e["max-width"]&&(e["max-width"]=this.maxWidth,e.margin="0 auto"),e},finalPagingContentStyle(){return 1!=this.contentZIndex&&(this.pagingContentStyle["z-index"]=this.contentZIndex,this.pagingContentStyle.position="relative"),this.pagingContentStyle},renderJsIgnore(){return(this.usePageScroll&&this.useChatRecordMode||!this.refresherEnabled&&this.scrollable||!this.useCustomRefresher)&&this.$nextTick((()=>{this.renderPropScrollTop=10})),0},windowHeight(){return this.systemInfo&&this.systemInfo.windowHeight||0},windowBottom(){if(!this.systemInfo)return 0;let e=this.systemInfo.windowBottom||0;return!this.safeAreaInsetBottom||this.useSafeAreaPlaceholder||this.useChatRecordMode||(e+=this.safeAreaBottom),e},isIosAndH5:()=>!1},methods:{getVersion:()=>`z-paging v${kt}`,setSpecialEffects(e){this.setListSpecialEffects(e)},setListSpecialEffects(e){this.nFixFreezing=e&&Object.keys(e).length,this.isIos&&(this.privateRefresherEnabled=0),!this.usePageScroll&&this.$refs["zp-n-list"].setSpecialEffects(e)},_handlePageLaunch(){this.pageLaunched&&(this.refresherThresholdUpdateTag=1,this.$nextTick((()=>{this.refresherThresholdUpdateTag=0})),this._checkVirtualListScroll()),this.pageLaunched=!0},_doVibrateShort(){if(this.isIos){const e=new(plus.ios.importClass("UISelectionFeedbackGenerator"));e.init(),setTimeout((()=>{e.selectionChanged()}),0)}else plus.device.vibrate(15)},async _setAutoHeight(e=!0,t=null){const o="min-height";try{if(e){let e=t||await this._getNodeClientRect(".zp-scroll-view"),i=await this._getNodeClientRect(".zp-page-bottom");if(e){const t=e[0].top;let a=this.windowHeight-t;a-=i?i[0].height:0;const n=a+Ht.convertToPx(this.autoHeightAddition)-(this.insideMore?1:0)+"px !important";this.$set(this.scrollViewStyle,o,n),this.$set(this.scrollViewInStyle,o,n)}}else this.$delete(this.scrollViewStyle,o),this.$delete(this.scrollViewInStyle,o)}catch(i){}},_handleUnmounted(){this.active=!1,this._offEmit(),this.useChatRecordMode&&uni.offKeyboardHeightChange(this._handleKeyboardHeightChange)},_updateInsideOfPaging(){this.insideMore&&!0===this.insideOfPaging&&setTimeout(this.doLoadMore,200)},_cleanTimeout:e=>(e&&(clearTimeout(e),e=null),e),_onEmit(){uni.$on(Nt,(e=>{this.loading&&(e&&(this.customerEmptyViewErrorText=e),this.complete(!1).catch((()=>{})))})),uni.$on(Bt,(e=>{setTimeout((()=>{if(this.loading)if(this.disabledCompleteEmit)this.disabledCompleteEmit=!1;else{const t=e.type||"normal",o=e.list||e,i=e.rule;switch(this.fromCompleteEmit=!0,t){case"normal":this.complete(o);break;case"total":this.completeByTotal(o,i);break;case"nomore":this.completeByNoMore(o,i);break;case"key":this.completeByKey(o,i)}}}),1)}))},_offEmit(){uni.$off(Nt),uni.$off(Bt)}}},Eo=e=>{(e.$wxs||(e.$wxs=[])).push("pagingWxs"),(e.$wxsModules||(e.$wxsModules={})).pagingWxs="bca0bb86"},Io=e=>{(e.$renderjs||(e.$renderjs=[])).push("pagingRenderjs"),(e.$renderjsModules||(e.$renderjsModules={})).pagingRenderjs="a5d206f8"};Eo(Bo),Io(Bo);const Vo=be(Bo,[["render",function(t,o,i,a,n,r){const l=e.resolveComponent("z-paging-refresh"),s=e.resolveComponent("z-paging-load-more"),c=D(e.resolveDynamicComponent("z-paging-empty-view"),Ct);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass({"z-paging-content":!0,"z-paging-content-full":!t.usePageScroll,"z-paging-content-fixed":!t.usePageScroll&&t.fixed,"z-paging-content-page":t.usePageScroll,"z-paging-reached-top":t.renderPropScrollTop<1,"z-paging-use-chat-record-mode":t.useChatRecordMode}),style:e.normalizeStyle([t.finalPagingStyle])},[t.showF2&&t.showRefresherF2?(e.openBlock(),e.createElementBlock("view",{key:0,onTouchmove:o[0]||(o[0]=e.withModifiers((()=>{}),["stop","prevent"])),class:"zp-f2-content",style:e.normalizeStyle([{transform:t.f2Transform,transition:"transform .2s linear",height:t.superContentHeight+"px","z-index":t.f2ZIndex}])},[e.renderSlot(t.$slots,"f2",{},void 0,!0)],36)):e.createCommentVNode("",!0),!t.usePageScroll&&t.zSlots.top?e.renderSlot(t.$slots,"top",{key:1},void 0,!0):t.usePageScroll&&t.zSlots.top?(e.openBlock(),e.createElementBlock("view",{key:2,class:"zp-page-top",onTouchmove:o[1]||(o[1]=e.withModifiers((()=>{}),["stop","prevent"])),style:e.normalizeStyle([{top:`${t.windowTop}px`,"z-index":t.topZIndex}])},[e.renderSlot(t.$slots,"top",{},void 0,!0)],36)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass({"zp-view-super":!0,"zp-scroll-view-super":!t.usePageScroll}),style:e.normalizeStyle([t.finalScrollViewStyle])},[t.zSlots.left?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass({"zp-page-left":!0,"zp-absoulte":t.finalIsOldWebView})},[e.renderSlot(t.$slots,"left",{},void 0,!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass({"zp-scroll-view-container":!0,"zp-absoulte":t.finalIsOldWebView}),style:e.normalizeStyle([t.scrollViewContainerStyle])},[e.createElementVNode("scroll-view",{ref:"zp-scroll-view",class:e.normalizeClass({"zp-scroll-view":!0,"zp-scroll-view-absolute":!t.usePageScroll,"zp-scroll-view-hide-scrollbar":!t.showScrollbar}),style:e.normalizeStyle([t.chatRecordRotateStyle]),"scroll-top":t.scrollTop,"scroll-x":t.scrollX,"scroll-y":t.finalScrollable,"enable-back-to-top":t.finalEnableBackToTop,"show-scrollbar":t.showScrollbar,"scroll-with-animation":t.finalScrollWithAnimation,"scroll-into-view":t.scrollIntoView,"lower-threshold":t.finalLowerThreshold,"upper-threshold":5,"refresher-enabled":t.finalRefresherEnabled&&!t.useCustomRefresher,"refresher-threshold":t.finalRefresherThreshold,"refresher-default-style":t.finalRefresherDefaultStyle,"refresher-background":t.refresherBackground,"refresher-triggered":t.finalRefresherTriggered,onScroll:o[12]||(o[12]=(...e)=>t._scroll&&t._scroll(...e)),onScrolltolower:o[13]||(o[13]=(...e)=>t._onScrollToLower&&t._onScrollToLower(...e)),onScrolltoupper:o[14]||(o[14]=(...e)=>t._onScrollToUpper&&t._onScrollToUpper(...e)),onRefresherrestore:o[15]||(o[15]=(...e)=>t._onRestore&&t._onRestore(...e)),onRefresherrefresh:o[16]||(o[16]=e=>t._onRefresh(!0))},[e.createElementVNode("view",{class:"zp-paging-touch-view",onTouchstart:o[4]||(o[4]=(...e)=>t.pagingWxs.touchstart&&t.pagingWxs.touchstart(...e)),onTouchmove:o[5]||(o[5]=(...e)=>t.pagingWxs.touchmove&&t.pagingWxs.touchmove(...e)),onTouchend:o[6]||(o[6]=(...e)=>t.pagingWxs.touchend&&t.pagingWxs.touchend(...e)),onTouchcancel:o[7]||(o[7]=(...e)=>t.pagingWxs.touchend&&t.pagingWxs.touchend(...e)),onMousedown:o[8]||(o[8]=(...e)=>t.pagingWxs.mousedown&&t.pagingWxs.mousedown(...e)),onMousemove:o[9]||(o[9]=(...e)=>t.pagingWxs.mousemove&&t.pagingWxs.mousemove(...e)),onMouseup:o[10]||(o[10]=(...e)=>t.pagingWxs.mouseup&&t.pagingWxs.mouseup(...e)),onMouseleave:o[11]||(o[11]=(...e)=>t.pagingWxs.mouseleave&&t.pagingWxs.mouseleave(...e))},[t.finalRefresherFixedBacHeight>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"zp-fixed-bac-view",style:e.normalizeStyle([{background:t.refresherFixedBackground,height:`${t.finalRefresherFixedBacHeight}px`}])},null,4)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"zp-paging-main",style:e.normalizeStyle([t.scrollViewInStyle,{transform:t.finalRefresherTransform,transition:t.refresherTransition}]),"change:prop":t.pagingWxs.propObserver,prop:e.wp(t.wxsPropType),"data-refresherThreshold":t.finalRefresherThreshold,"data-refresherF2Enabled":t.refresherF2Enabled,"data-refresherF2Threshold":t.finalRefresherF2Threshold,"data-isIos":t.isIos,"data-loading":t.loading||t.isRefresherInComplete,"data-useChatRecordMode":t.useChatRecordMode,"data-refresherEnabled":t.refresherEnabled,"data-useCustomRefresher":t.useCustomRefresher,"data-pageScrollTop":t.wxsPageScrollTop,"data-scrollTop":t.wxsScrollTop,"data-refresherMaxAngle":t.refresherMaxAngle,"data-refresherNoTransform":t.refresherNoTransform,"data-refresherAecc":t.refresherAngleEnableChangeContinued,"data-usePageScroll":t.usePageScroll,"data-watchTouchDirectionChange":t.watchTouchDirectionChange,"data-oldIsTouchmoving":t.isTouchmoving,"data-refresherOutRate":t.finalRefresherOutRate,"data-refresherPullRate":t.finalRefresherPullRate,"data-hasTouchmove":t.hasTouchmove,"change:renderPropIsIosAndH5":t.pagingRenderjs.renderPropIsIosAndH5Change,renderPropIsIosAndH5:e.wp(t.isIosAndH5)},[t.showRefresher?(e.openBlock(),e.createElementBlock("view",{key:0,class:"zp-custom-refresher-view",style:e.normalizeStyle([{"margin-top":`-${t.finalRefresherThreshold+t.refresherThresholdUpdateTag}px`,background:t.refresherBackground,opacity:t.isTouchmoving?1:0}])},[e.createElementVNode("view",{class:"zp-custom-refresher-container",style:e.normalizeStyle([{height:`${t.finalRefresherThreshold}px`,background:t.refresherBackground}])},[t.useRefresherStatusBarPlaceholder?(e.openBlock(),e.createElementBlock("view",{key:0,class:"zp-custom-refresher-status-bar-placeholder",style:e.normalizeStyle([{height:`${t.statusBarHeight}px`}])},null,4)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"zp-custom-refresher-slot-view"},[t.zSlots.refresherComplete&&t.refresherStatus===t.R.Complete||t.zSlots.refresherF2&&t.refresherStatus===t.R.GoF2?e.createCommentVNode("",!0):e.renderSlot(t.$slots,"refresher",{key:0,refresherStatus:t.refresherStatus},void 0,!0)]),t.zSlots.refresherComplete&&t.refresherStatus===t.R.Complete?e.renderSlot(t.$slots,"refresherComplete",{key:1},void 0,!0):t.zSlots.refresherF2&&t.refresherStatus===t.R.GoF2?e.renderSlot(t.$slots,"refresherF2",{key:2},void 0,!0):t.showCustomRefresher?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(l,{key:3,ref:"refresh",class:"zp-custom-refresher-refresh",style:e.normalizeStyle([{height:t.finalRefresherThreshold-t.finalRefresherThresholdPlaceholder+"px"}]),status:t.refresherStatus,defaultThemeStyle:t.finalRefresherThemeStyle,defaultText:t.finalRefresherDefaultText,pullingText:t.finalRefresherPullingText,refreshingText:t.finalRefresherRefreshingText,completeText:t.finalRefresherCompleteText,goF2Text:t.finalRefresherGoF2Text,defaultImg:t.refresherDefaultImg,pullingImg:t.refresherPullingImg,refreshingImg:t.refresherRefreshingImg,completeImg:t.refresherCompleteImg,refreshingAnimated:t.refresherRefreshingAnimated,showUpdateTime:t.showRefresherUpdateTime,updateTimeKey:t.refresherUpdateTimeKey,updateTimeTextMap:t.finalRefresherUpdateTimeTextMap,imgStyle:t.refresherImgStyle,titleStyle:t.refresherTitleStyle,updateTimeStyle:t.refresherUpdateTimeStyle,unit:t.unit},null,8,["style","status","defaultThemeStyle","defaultText","pullingText","refreshingText","completeText","goF2Text","defaultImg","pullingImg","refreshingImg","completeImg","refreshingAnimated","showUpdateTime","updateTimeKey","updateTimeTextMap","imgStyle","titleStyle","updateTimeStyle","unit"]))],4)],4)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"zp-paging-container",style:e.normalizeStyle([{justifyContent:t.useChatRecordMode?"flex-end":"flex-start"}])},[t.showLoading&&t.zSlots.loading&&!t.loadingFullFixed?e.renderSlot(t.$slots,"loading",{key:0},void 0,!0):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"zp-paging-container-content",style:e.normalizeStyle([t.finalPagingContentStyle])},[t.useVirtualList?(e.openBlock(),e.createElementBlock("view",{key:0,class:"zp-virtual-placeholder",style:e.normalizeStyle([{height:t.virtualPlaceholderTopHeight+"px"}])},null,4)):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"default",{},void 0,!0),t.finalUseInnerList?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.renderSlot(t.$slots,"header",{},void 0,!0),e.createElementVNode("view",{class:"zp-list-container",style:e.normalizeStyle([t.innerListStyle])},[t.finalUseVirtualList?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(t.virtualList,((o,i)=>(e.openBlock(),e.createElementBlock("view",{class:"zp-list-cell",style:e.normalizeStyle([t.innerCellStyle]),id:`${t.fianlVirtualCellIdPrefix}-${o[t.virtualCellIndexKey]}`,key:o.zp_unique_index,onClick:e=>t._innerCellClick(o,t.virtualTopRangeIndex+i)},[t.useCompatibilityMode?(e.openBlock(),e.createElementBlock("view",{key:0},"使用兼容模式请在组件源码z-paging.vue第101行中注释这一行，并打开下面一行注释")):e.renderSlot(t.$slots,"cell",{key:1,item:o,index:t.virtualTopRangeIndex+i},void 0,!0)],12,["id","onClick"])))),128)):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(t.realTotalData,((o,i)=>(e.openBlock(),e.createElementBlock("view",{class:"zp-list-cell",key:i,onClick:e=>t._innerCellClick(o,i)},[e.renderSlot(t.$slots,"cell",{item:o,index:i},void 0,!0)],8,["onClick"])))),128))],4),e.renderSlot(t.$slots,"footer",{},void 0,!0)],64)):e.createCommentVNode("",!0),t.useChatRecordMode&&t.realTotalData.length>=t.defaultPageSize&&(t.loadingStatus!==t.M.NoMore||t.zSlots.chatNoMore)&&(t.realTotalData.length||t.showChatLoadingWhenReload&&t.showLoading)&&!t.isFirstPageAndNoMore?(e.openBlock(),e.createElementBlock("view",{key:2,style:e.normalizeStyle([t.chatRecordRotateStyle])},[t.loadingStatus===t.M.NoMore&&t.zSlots.chatNoMore?e.renderSlot(t.$slots,"chatNoMore",{key:0},void 0,!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.zSlots.chatLoading?e.renderSlot(t.$slots,"chatLoading",{key:0,loadingMoreStatus:t.loadingStatus},void 0,!0):(e.openBlock(),e.createBlock(s,{key:1,onDoClick:o[2]||(o[2]=e=>t._onLoadingMore("click")),zConfig:t.zLoadMoreConfig},null,8,["zConfig"]))],64))],4)):e.createCommentVNode("",!0),t.useVirtualList?(e.openBlock(),e.createElementBlock("view",{key:3,class:"zp-virtual-placeholder",style:e.normalizeStyle([{height:t.virtualPlaceholderBottomHeight+"px"}])},null,4)):e.createCommentVNode("",!0),t.showLoadingMoreDefault?e.renderSlot(t.$slots,"loadingMoreDefault",{key:4},void 0,!0):t.showLoadingMoreLoading?e.renderSlot(t.$slots,"loadingMoreLoading",{key:5},void 0,!0):t.showLoadingMoreNoMore?e.renderSlot(t.$slots,"loadingMoreNoMore",{key:6},void 0,!0):t.showLoadingMoreFail?e.renderSlot(t.$slots,"loadingMoreFail",{key:7},void 0,!0):t.showLoadingMoreCustom?(e.openBlock(),e.createBlock(s,{key:8,onDoClick:o[3]||(o[3]=e=>t._onLoadingMore("click")),zConfig:t.zLoadMoreConfig},null,8,["zConfig"])):e.createCommentVNode("",!0),t.safeAreaInsetBottom&&t.useSafeAreaPlaceholder&&!t.useChatRecordMode?(e.openBlock(),e.createElementBlock("view",{key:9,class:"zp-safe-area-placeholder",style:e.normalizeStyle([{height:t.safeAreaBottom+"px"}])},null,4)):e.createCommentVNode("",!0)],4),t.showEmpty?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass({"zp-empty-view":!0,"zp-empty-view-center":t.emptyViewCenter}),style:e.normalizeStyle([t.emptyViewSuperStyle,t.chatRecordRotateStyle])},[t.zSlots.empty?e.renderSlot(t.$slots,"empty",{key:0,isLoadFailed:t.isLoadFailed},void 0,!0):(e.openBlock(),e.createBlock(c,{key:1,emptyViewImg:t.finalEmptyViewImg,emptyViewText:t.finalEmptyViewText,showEmptyViewReload:t.finalShowEmptyViewReload,emptyViewReloadText:t.finalEmptyViewReloadText,isLoadFailed:t.isLoadFailed,emptyViewStyle:t.emptyViewStyle,emptyViewTitleStyle:t.emptyViewTitleStyle,emptyViewImgStyle:t.emptyViewImgStyle,emptyViewReloadStyle:t.emptyViewReloadStyle,emptyViewZIndex:t.emptyViewZIndex,emptyViewFixed:t.emptyViewFixed,unit:t.unit,onReload:t._emptyViewReload,onViewClick:t._emptyViewClick},null,8,["emptyViewImg","emptyViewText","showEmptyViewReload","emptyViewReloadText","isLoadFailed","emptyViewStyle","emptyViewTitleStyle","emptyViewImgStyle","emptyViewReloadStyle","emptyViewZIndex","emptyViewFixed","unit","onReload","onViewClick"]))],6)):e.createCommentVNode("",!0)],4)],12,["change:prop","prop","data-refresherThreshold","data-refresherF2Enabled","data-refresherF2Threshold","data-isIos","data-loading","data-useChatRecordMode","data-refresherEnabled","data-useCustomRefresher","data-pageScrollTop","data-scrollTop","data-refresherMaxAngle","data-refresherNoTransform","data-refresherAecc","data-usePageScroll","data-watchTouchDirectionChange","data-oldIsTouchmoving","data-refresherOutRate","data-refresherPullRate","data-hasTouchmove","change:renderPropIsIosAndH5","renderPropIsIosAndH5"])],32)],46,["scroll-top","scroll-x","scroll-y","enable-back-to-top","show-scrollbar","scroll-with-animation","scroll-into-view","lower-threshold","refresher-enabled","refresher-threshold","refresher-default-style","refresher-background","refresher-triggered"])],6),t.zSlots.right?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass({"zp-page-right":!0,"zp-absoulte zp-right":t.finalIsOldWebView})},[e.renderSlot(t.$slots,"right",{},void 0,!0)],2)):e.createCommentVNode("",!0)],6),e.createElementVNode("view",{class:"zp-page-bottom-container",style:e.normalizeStyle({background:t.bottomBgColor})},[!t.usePageScroll&&t.zSlots.bottom?e.renderSlot(t.$slots,"bottom",{key:0},void 0,!0):t.usePageScroll&&t.zSlots.bottom?(e.openBlock(),e.createElementBlock("view",{key:1,class:"zp-page-bottom",onTouchmove:o[17]||(o[17]=e.withModifiers((()=>{}),["stop","prevent"])),style:e.normalizeStyle([{bottom:`${t.windowBottom}px`}])},[e.renderSlot(t.$slots,"bottom",{},void 0,!0)],36)):e.createCommentVNode("",!0),t.useChatRecordMode&&t.autoAdjustPositionWhenChat?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("view",{style:e.normalizeStyle([{height:t.chatRecordModeSafeAreaBottom+"px"}])},null,4),e.createElementVNode("view",{class:"zp-page-bottom-keyboard-placeholder-animate",style:e.normalizeStyle([{height:t.keyboardHeight+"px"}])},null,4)],64)):e.createCommentVNode("",!0)],4),t.showBackToTopClass?(e.openBlock(),e.createElementBlock("view",{key:3,class:e.normalizeClass(t.finalBackToTopClass),style:e.normalizeStyle([t.finalBackToTopStyle]),onClick:o[18]||(o[18]=e.withModifiers(((...e)=>t._backToTopClick&&t._backToTopClick(...e)),["stop"]))},[t.zSlots.backToTop?e.renderSlot(t.$slots,"backToTop",{key:0},void 0,!0):(e.openBlock(),e.createElementBlock("image",{key:1,class:e.normalizeClass(["zp-back-to-top-img",{"zp-back-to-top-img-inversion":t.useChatRecordMode&&!t.backToTopImg.length}]),src:t.backToTopImg.length?t.backToTopImg:t.base64BackToTop},null,10,["src"]))],6)):e.createCommentVNode("",!0),t.showLoading&&t.zSlots.loading&&t.loadingFullFixed?(e.openBlock(),e.createElementBlock("view",{key:4,class:"zp-loading-fixed"},[e.renderSlot(t.$slots,"loading",{},void 0,!0)])):e.createCommentVNode("",!0)],6)}],["__scopeId","data-v-99734d6e"]]),Ro=be({__name:"mid-area-item",props:{pageName:{type:String,default:""},refresh:{type:Boolean,default:!0}},emits:["onRefresh","onScrollToLower"],setup(t,{expose:o,emit:i}){const a=i,n=e.ref(null),r=()=>{a("onRefresh")},l=()=>{a("onScrollToLower")};return o({endRefresh:()=>{n.value.endRefresh()}}),(o,i)=>{const a=D(e.resolveDynamicComponent("uv-load-more"),mt),s=D(e.resolveDynamicComponent("z-paging"),Vo);return e.openBlock(),e.createElementBlock("view",{class:"item"},[e.createVNode(s,{ref_key:"page",ref:n,"refresher-enabled":t.refresh,fixed:!1,width:"100%",height:"100%","refresher-only":"",onOnRefresh:r,onScrolltolower:l},{refresher:e.withCtx((()=>[e.createElementVNode("view",{class:"loading"},[e.createVNode(rt,{type:"pulldown"})])])),loadingMoreDefault:e.withCtx((()=>[e.createVNode(a,{status:"loading","loading-text":"努力加载中..."})])),default:e.withCtx((()=>[e.createElementVNode("view",{class:"scroll-box"},[e.createElementVNode("view",{class:"container"},[e.renderSlot(o.$slots,"default",{},void 0,!0)])])])),_:3},8,["refresher-enabled"])])}}},[["__scopeId","data-v-2bf7c67c"]]);class _o{constructor(e,t){this.options=e,this.animation=uni.createAnimation({...e}),this.currentStepAnimates={},this.next=0,this.$=t}_nvuePushAnimates(e,t){let o=this.currentStepAnimates[this.next],i={};if(i=o||{styles:{},config:{}},Mo.includes(e)){i.styles.transform||(i.styles.transform="");let o="";"rotate"===e&&(o="deg"),i.styles.transform+=`${e}(${t+o}) `}else i.styles[e]=`${t}`;this.currentStepAnimates[this.next]=i}_animateRun(e={},t={}){let o=this.$.$refs.ani.ref;if(o)return new Promise(((i,a)=>{nvueAnimation.transition(o,{styles:e,...t},(e=>{i()}))}))}_nvueNextAnimate(e,t=0,o){let i=e[t];if(i){let{styles:a,config:n}=i;this._animateRun(a,n).then((()=>{t+=1,this._nvueNextAnimate(e,t,o)}))}else this.currentStepAnimates={},"function"==typeof o&&o(),this.isEnd=!0}step(e={}){return this.animation.step(e),this}run(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof e&&e()}),this.$.durationTime)}}const Mo=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function zo(e,t){if(t)return clearTimeout(t.timer),new _o(e,t)}Mo.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((e=>{_o.prototype[e]=function(...t){return this.animation[e](...t),this}}));const Lo=be({name:"uv-transition",mixins:[L,Se],emits:["click","change"],props:{show:{type:Boolean,default:!1},mode:{type:[Array,String,null],default:()=>"fade"},duration:{type:[String,Number],default:300},timingFunction:{type:String,default:"ease-out"},customClass:{type:String,default:""},cellChild:{type:Boolean,default:!1}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{transformStyles(){const e={transform:this.transform,opacity:this.opacity,...this.$uv.addStyle(this.customStyle),"transition-duration":this.duration/1e3+"s"};return this.$uv.addStyle(e,"string")}},created(){this.config={duration:this.duration,timingFunction:this.timingFunction,transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=zo(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let t in e)try{"object"==typeof e[t]?this.animation[t](...e[t]):this.animation[t](e[t])}catch(o){A("error","at uni_modules/uv-transition/components/uv-transition/uv-transition.vue:166",`方法 ${t} 不存在`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);void 0!==e&&(this.opacity=e),this.transform=t,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=zo(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})}),20)}))},close(e){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:e,transform:t}=this.styleInit(!1);this.opacity=e||1,this.transform=t,this.$emit("change",{detail:this.isShow})}))},styleInit(e){let t={transform:""},o=(e,o)=>{"fade"===o?t.opacity=this.animationType(e)[o]:t.transform+=this.animationType(e)[o]+" "};return"string"==typeof this.mode?o(e,this.mode):this.mode.forEach((t=>{o(e,t)})),t},tranfromInit(e){let t=(e,t)=>{let o=null;"fade"===t?o=e?0:1:(o=e?"-100%":"0","zoom-in"===t&&(o=e?.8:1),"zoom-out"===t&&(o=e?1.2:1),"slide-right"===t&&(o=e?"100%":"0"),"slide-bottom"===t&&(o=e?"100%":"0")),this.animation[this.animationMode()[t]](o)};return"string"==typeof this.mode?t(e,this.mode):this.mode.forEach((o=>{t(e,o)})),this.animation},animationType:e=>({fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,o,i,a,n,r){return n.isShow?(e.openBlock(),e.createElementBlock("view",{key:0,ref:"ani",animation:n.animationData,class:e.normalizeClass(i.customClass),style:e.normalizeStyle(r.transformStyles),onClick:o[0]||(o[0]=(...e)=>r.onClick&&r.onClick(...e))},[e.renderSlot(t.$slots,"default")],14,["animation"])):e.createCommentVNode("",!0)}]]);const Ao=be({name:"uv-image",emits:["click","load","error"],mixins:[L,Se,{props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},width:{type:[String,Number],default:"300"},height:{type:[String,Number],default:"225"},shape:{type:String,default:"square"},radius:{type:[String,Number],default:0},lazyLoad:{type:Boolean,default:!0},observeLazyLoad:{type:Boolean,default:!1},showMenuByLongpress:{type:Boolean,default:!0},loadingIcon:{type:String,default:"photo"},errorIcon:{type:String,default:"error-circle"},showLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!0},fade:{type:Boolean,default:!0},webp:{type:Boolean,default:!1},duration:{type:[String,Number],default:500},bgColor:{type:String,default:"#f3f4f6"},cellChild:{type:Boolean,default:!1},...null==(f=null==(g=uni.$uv)?void 0:g.props)?void 0:f.image}}],data(){return{isError:!1,loading:!0,backgroundStyle:{},show:!1,observeShow:!this.observeLazyLoad,elIndex:"",imgWidth:this.width,imgHeight:this.height,thresholdValue:50}},watch:{src:{immediate:!0,handler(e){e?(this.isError=!1,this.loading=!0):this.isError=!0}},width(e){this.show=!1,this.$uv.sleep(2).then((e=>{this.show=!0})),this.imgWidth=e},height(e){this.show=!1,this.$uv.sleep(2).then((e=>{this.show=!0})),this.imgHeight=e}},computed:{wrapStyle(){let e={};return"heightFix"!==this.mode&&(e.width=this.$uv.addUnit(this.imgWidth)),"widthFix"!==this.mode&&(e.height=this.$uv.addUnit(this.imgHeight)),e.borderRadius="circle"==this.shape?"10000px":this.$uv.addUnit(this.radius),e.overflow=this.radius>0?"hidden":"visible",this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))},imageStyle(){let e={};return e.borderRadius="circle"==this.shape?"10000px":this.$uv.addUnit(this.radius),e}},created(){this.elIndex=this.$uv.guid(),this.observer={},this.observerName="lazyLoadContentObserver"},mounted(){this.show=!0,this.$nextTick((()=>{this.observeLazyLoad&&this.observerFn()}))},methods:{onClick(){this.$emit("click")},onErrorHandler(e){this.loading=!1,this.isError=!0,this.$emit("error",e)},onLoadHandler(e){"widthFix"==this.mode&&(this.imgHeight="auto"),"heightFix"==this.mode&&(this.imgWidth="auto"),this.loading=!1,this.isError=!1,this.$emit("load",e),this.removeBgColor()},removeBgColor(){this.backgroundStyle={backgroundColor:"transparent"}},observerFn(){this.$nextTick((()=>{uni.$once("onLazyLoadReachBottom",(()=>{this.observeShow||(this.observeShow=!0)}))})),setTimeout((()=>{this.disconnectObserver(this.observerName);const e=uni.createIntersectionObserver(this);e.relativeToViewport({bottom:this.thresholdValue}).observe(`.uv-image--${this.elIndex}`,(e=>{e.intersectionRatio>0&&(this.observeShow=!0,this.disconnectObserver(this.observerName))})),this[this.observerName]=e}),50)},disconnectObserver(e){const t=this[e];t&&t.disconnect()}}},[["render",function(t,o,i,a,n,r){const l=D(e.resolveDynamicComponent("uv-icon"),Ce),s=D(e.resolveDynamicComponent("uv-transition"),Lo);return n.show?(e.openBlock(),e.createBlock(s,{key:0,show:n.show,mode:"fade",duration:t.fade?t.duration:0,"cell-child":t.cellChild,"custom-style":r.wrapStyle},{default:e.withCtx((()=>[e.createElementVNode("view",{class:e.normalizeClass(["uv-image",[`uv-image--${n.elIndex}`]]),onClick:o[2]||(o[2]=(...e)=>r.onClick&&r.onClick(...e)),style:e.normalizeStyle([r.wrapStyle,n.backgroundStyle])},[!n.isError&&n.observeShow?(e.openBlock(),e.createElementBlock("image",{key:0,src:t.src,mode:t.mode,onError:o[0]||(o[0]=(...e)=>r.onErrorHandler&&r.onErrorHandler(...e)),onLoad:o[1]||(o[1]=(...e)=>r.onLoadHandler&&r.onLoadHandler(...e)),"show-menu-by-longpress":t.showMenuByLongpress,"lazy-load":t.lazyLoad,class:"uv-image__image",style:e.normalizeStyle([r.imageStyle]),webp:t.webp},null,44,["src","mode","show-menu-by-longpress","lazy-load","webp"])):e.createCommentVNode("",!0),t.showLoading&&n.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uv-image__loading",style:e.normalizeStyle({borderRadius:"circle"==t.shape?"50%":t.$uv.addUnit(t.radius),backgroundColor:t.bgColor,width:t.$uv.addUnit(t.width),height:t.$uv.addUnit(t.height)})},[e.renderSlot(t.$slots,"loading",{},(()=>[e.createVNode(l,{name:t.loadingIcon,width:t.width,height:t.height},null,8,["name","width","height"])]),!0)],4)):e.createCommentVNode("",!0),t.showError&&n.isError&&!n.loading?(e.openBlock(),e.createElementBlock("view",{key:2,class:"uv-image__error",style:e.normalizeStyle({borderRadius:"circle"==t.shape?"50%":t.$uv.addUnit(t.radius),width:t.$uv.addUnit(t.width),height:t.$uv.addUnit(t.height)})},[e.renderSlot(t.$slots,"error",{},(()=>[e.createVNode(l,{name:t.errorIcon,width:t.width,height:t.height},null,8,["name","width","height"])]),!0)],4)):e.createCommentVNode("",!0)],6)])),_:3},8,["show","duration","cell-child","custom-style"])):e.createCommentVNode("",!0)}],["__scopeId","data-v-7d4ce7f7"]]),Do=be({__name:"recommed",props:{isLoaded:{default:!1,type:Boolean},novelList:{default:()=>[],type:Array},current:{type:Number,default:0}},emits:["changeRank"],setup(t,{emit:o}){const i=_e(),a=o,n=e.ref(["推荐榜","点击榜","完本榜"]);return(o,r)=>{const l=D(e.resolveDynamicComponent("uv-image"),Ao);return e.openBlock(),e.createElementBlock("view",{class:"recommend"},[e.createElementVNode("view",{class:"title"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((o,i)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass([t.current==i?"active":""]),key:i,onClick:e=>(e=>{a("changeRank",e)})(i)},e.toDisplayString(o),11,["onClick"])))),128))]),e.createElementVNode("view",{class:"list"},[e.withDirectives(e.createVNode(rt,null,null,512),[[e.vShow,!t.isLoaded]]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.novelList,((o,a)=>e.withDirectives((e.openBlock(),e.createElementBlock("view",{class:"list-item",onClick:e=>{return t=o,i.commit("setCurrentNovelDetail",t),void uni.navigateTo({url:"/pages/nove-detail/index",animationType:"slide-in-right"});var t},key:o.id},[e.createElementVNode("view",{class:"l"},[e.createVNode(l,{src:o.cover,"lazy-load":"",observeLazyLoad:"",fade:"",loadingIcon:"photo-fill",duration:"450",radius:"5",width:"50",height:"60"},null,8,["src"])]),e.createElementVNode("view",{class:"r"},[e.createElementVNode("view",{class:"name"},[e.createElementVNode("text",{class:e.normalizeClass(["num",a<3?"advanced":""])},e.toDisplayString(a+1),3),e.createTextVNode(" "+e.toDisplayString(o.name),1)]),e.createElementVNode("view",{class:"info"},[e.createTextVNode(e.toDisplayString(o.genre)+" ",1),e.createElementVNode("text",null,e.toDisplayString(o.author),1),e.createElementVNode("text",null,e.toDisplayString(o.words_count),1)])])],8,["onClick"])),[[e.vShow,t.isLoaded]]))),128))])])}}},[["__scopeId","data-v-7ea67116"]]),Po=be({__name:"novel-list",props:{novelList:{type:Array,default:()=>[]}},setup(t){const o=_e();return(i,a)=>{const n=D(e.resolveDynamicComponent("uv-image"),Ao);return e.openBlock(),e.createElementBlock("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.novelList,(t=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.id,onClick:e=>{return i=t,o.commit("setCurrentNovelDetail",{...i,name:(a=i.name,a.replace(/<[^>]+>/g,""))}),void uni.navigateTo({url:"/pages/nove-detail/index",animationType:"slide-in-right"});var i,a}},[e.createElementVNode("view",{class:"l"},[e.createVNode(n,{src:t.cover,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"90",height:"120"},null,8,["src"])]),e.createElementVNode("view",{class:"r"},[e.createElementVNode("view",{class:"name",innerHTML:t.name},null,8,["innerHTML"]),e.createElementVNode("view",{class:"info"},e.toDisplayString(t.intro),1),e.createElementVNode("view",{class:"b"},[e.createElementVNode("text",{class:"status"},e.toDisplayString(t.status),1),e.createTextVNode(" "+e.toDisplayString(t.words_count),1)])])],8,["onClick"])))),128))])}}},[["__scopeId","data-v-d90bc5bd"]]),Fo=be({__name:"guessyoulike",props:{novelList:{default:()=>[],type:Array}},setup:t=>(o,i)=>(e.openBlock(),e.createElementBlock("view",{class:"guess-like-container"},[e.createElementVNode("view",{class:"title"},"猜你喜欢"),e.createVNode(Po,{novelList:t.novelList},null,8,["novelList"])]))},[["__scopeId","data-v-44d21c2c"]]),Ho=e.reactive({events:{}}),Oo={on(e,t){Ho.events[e]?A("warn","at utiles/eventBus.js:16",`${e}事件已存在`):Ho.events[e]=t},emit(e,t){if(Ho.events[e])return Ho.events[e](t)},off(e){Ho.events[e]&&delete Ho.events[e]}},jo=(e,t="get",o={})=>new Promise(((i,a)=>{uni.request({url:"http://192.168.0.100"+e,data:o,method:t,timeout:1e4,success(e){i(e)},fail(e){throw a(e),new Error("网络请求失败")}})}));const $o=e=>jo(`/novel/chapters?novel_id=${e}`),Uo=(e,t)=>jo(`/novel/chapter/content?novel_id=${e}&content_id=${t}`),Wo=()=>jo("/novel/hotnovels"),Zo=(e,t,o,i=10)=>jo(`/novel/search?novel_name=${e}&author=${t}&offset=${o}&size=${i}`),Go=e=>jo(`/comic/rank?gender=${e}`),Yo=(e,t=10)=>jo(`/comic/category?className=${e}&size=${t}`),Qo=(e,t,o=375)=>jo(`/comic/content?name=${e}&chapter_n=${t}&device_width=${o}`),Jo=new class{constructor(){this.name="_localStorage_novel",this.path="_doc/novel_app.db",this.init()}async init(){try{this.isDatabaseOpen()||await this.openDatabase(),await this.select("SELECT datetime('now', '+8 hours');"),await this.createChaptersTable(),await this.createHistoryTable(),await this.createBookShellTable();await this.select("select * from history")}catch(e){A("error","at api/localstorage.js:20","数据库初始化失败:",e.message)}}async insertChapter(e){if(!e||3!==e.length)return void A("error","at api/localstorage.js:26","参数无效");const[t,o,i]=e;return new Promise(((e,a)=>{plus.sqlite.executeSql({name:this.name,sql:`INSERT INTO chapters (chapter_name, novel_id, chapter_n) VALUES ("${t}", ${o}, ${i})`,success(t){A("log","at api/localstorage.js:35","插入成功"),e()},fail(e){A("error","at api/localstorage.js:39","插入失败:"+e.message),a()}})}))}async openDatabase(){try{await plus.sqlite.openDatabase({name:this.name,path:this.path}),A("log","at api/localstorage.js:51","数据库打开成功")}catch(e){A("error","at api/localstorage.js:53","数据库打开失败:",e.message)}}async createChaptersTable(){try{await plus.sqlite.executeSql({name:this.name,sql:"CREATE TABLE IF NOT EXISTS chapters (\n\t\t\t\t\tid INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\n\t\t\t\t\tchapter_name TEXT DEFAULT NULL, \n\t\t\t\t\tnovel_id INTEGER NOT NULL, \n\t\t\t\t\tchapter_n INTEGER NOT NULL);"}),A("log","at api/localstorage.js:67","章节表创建成功或已存在")}catch(e){A("error","at api/localstorage.js:69","创建章节表失败:",e.message)}}async createHistoryTable(){try{await plus.sqlite.executeSql({name:this.name,sql:"\n\t\t\t\t\tCREATE TABLE IF NOT EXISTS history (\n\t\t\t\t\t    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\n\t\t\t\t\t    novel_id INTEGER NOT NULL, \n\t\t\t\t\t    offsetY INTEGER DEFAULT 0,\n\t\t\t\t\t    chapter_n INTEGER NOT NULL,\n\t\t\t\t\t    chapter_name TEXT NOT NULL,\n\t\t\t\t\t\tread_time DATETIME DEFAULT CURRENT_TIMESTAMP\n\t\t\t\t\t);\n\t\t\t\t"}),A("log","at api/localstorage.js:88","历史记录表创建成功或已存在")}catch(e){A("error","at api/localstorage.js:90","创建历史记录表失败:",e.message)}}async isExistHistory(e){return await this.select(`select * from history where novel_id=${e}`)}insterBookShell({id:e,name:t,author:o,intro:i,cover:a,genre:n,status:r,words_count:l}){return new Promise(((s,c)=>{plus.sqlite.executeSql({name:this.name,sql:`INSERT INTO bookshell (novel_id, name, author, intro, cover, genre, status, words_count) \n\t\t\t          VALUES (${e}, '${t}', '${o}', '${i}', '${a}', '${n}', '${r}', '${l}')`,success(e){A("log","at api/localstorage.js:114",`《${t}》添加到书架成功`),s()},fail(e){A("error","at api/localstorage.js:118",`《${t}》添加到书架失败`),A("log","at api/localstorage.js:119",e),c()}})}))}insertHistory(e){if(!e||4!==e.length)return void A("error","at api/localstorage.js:128","参数无效");const[t,o,i,a]=e;return new Promise(((e,n)=>{plus.sqlite.executeSql({name:this.name,sql:`\n\t\t\tINSERT INTO history(novel_id, offsetY, chapter_n,chapter_name) VALUES(${t}, ${o}, ${i},'${a}')`,success(t){A("log","at api/localstorage.js:138","插入历史成功"),e()},fail(e){A("error","at api/localstorage.js:142","插入历史失败:"+e.message),n()}})}))}isDatabaseOpen(){return plus.sqlite.isOpenDatabase({name:this.name,path:this.path})}async select(e){return new Promise(((t,o)=>{plus.sqlite.selectSql({name:this.name,sql:e,success(e){A("log","at api/localstorage.js:161","查询成功"),t(e)},fail(e){A("log","at api/localstorage.js:165","查询失败:"+e.message),o()}})}))}async createBookShellTable(){try{await plus.sqlite.executeSql({name:this.name,sql:"\n                CREATE TABLE IF NOT EXISTS bookshell (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,  -- 自动递增的主键 \n                    novel_id INTEGER NOT NULL UNIQUE,  -- 小说id\n                    name TEXT NOT NULL,  -- 小说名称 \n                    author TEXT,  -- 小说作者 \n                    intro TEXT NOT NULL,  -- 小说简介 \n                    cover TEXT,  -- 小说封面 \n                    genre TEXT NOT NULL,  -- 小说题材 \n                    status TEXT NOT NULL DEFAULT '连载中',  -- 小说状态(使用TEXT代替ENUM) \n                    words_count INTEGER NOT NULL  -- 小说字数 (改为 INTEGER)\n                );\n            "}),A("log","at api/localstorage.js:191","书架表创建成功或已存在")}catch(e){A("error","at api/localstorage.js:193","创建书架表失败:",e.message)}}executeSql(e){return new Promise(((t,o)=>{plus.sqlite.executeSql({name:this.name,sql:e,success(e){t(e)},fail(e){A("error","at api/localstorage.js:206",e.message),reject()}})}))}async closeDatabase(){try{await plus.sqlite.closeDatabase({name:this.name,path:this.path}),A("log","at api/localstorage.js:219","数据库关闭成功！")}catch(e){A("error","at api/localstorage.js:221","数据库关闭失败:",e.message)}}},Ko=e=>Jo.isExistHistory(e),Xo=e=>Jo.insterBookShell(e),qo=async e=>(await Jo.select(`select * from bookshell where novel_id=${e}`)).length>0,ei=e=>Jo.executeSql(`delete from bookshell where novel_id=${e}`),ti=be({__name:"novel",setup(t){const o=e.ref(null),i=e.ref([]),a=e.ref([]),n=e.ref(0),r=e.ref(!1),l=e.ref([]);e.onMounted((async()=>{c(0),h()}));const s=()=>{h()},c=async(e=0)=>{r.value=!1,n.value=e;try{if(a.value[e])i.value=a.value[e];else if(0==e||1==e){const{data:t}=await jo("/rank/recommend");a.value[e]=t,i.value=t}else{const{data:t}=await jo("/rank/finished");a.value[e]=t,i.value=t}r.value=!0}catch(t){A("log","at components/home/novel.vue:69",t.message)}},h=async()=>{const{data:e}=await jo("/guessyoulike");l.value=[...l.value,...e]},u=async()=>{a.value=[],await c(0),l.value=[],await h(),o.value.endRefresh()};return(t,a)=>{const h=D(e.resolveDynamicComponent("uv-load-more"),mt);return e.openBlock(),e.createBlock(Ro,{ref_key:"novelPage",ref:o,pageName:"novel",onOnRefresh:u,onOnScrollToLower:s},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"novel-page"},[e.createVNode(Do,{current:n.value,novelList:i.value,isLoaded:r.value,onChangeRank:c},null,8,["current","novelList","isLoaded"]),e.createVNode(Fo,{novelList:l.value},null,8,["novelList"]),e.createVNode(h,{status:"loading","loading-text":"努力加载中..."})])])),_:1},512)}}},[["__scopeId","data-v-84a46820"]]),oi=be({__name:"comic-gender-recommend",props:{rankList:{type:Array,default:()=>[]}},emits:["changeRank","changeAchange"],setup(t,{emit:o}){const i=["男生精选","女生精选"],a=e.ref(0),n=o,r=()=>{n("changeAchange")};return(o,l)=>{const s=D(e.resolveDynamicComponent("uv-icon"),Ce),c=D(e.resolveDynamicComponent("uv-image"),Ao);return e.openBlock(),e.createElementBlock("view",{class:"gender-recommend"},[e.createElementVNode("view",{class:"recommend-top"},[e.createElementVNode("view",{class:"title-list"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(i,((t,o)=>e.createElementVNode("view",{class:e.normalizeClass(a.value==o?"active":""),onClick:e=>(async e=>{a.value=e,n("changeRank",e)})(o),key:o},e.toDisplayString(t),11,["onClick"]))),64))]),e.createElementVNode("view",{class:"more",onClick:r},[e.createElementVNode("view",null,"换一换"),e.createVNode(s,{name:"reload",color:"#000",size:"14",bold:""})])]),e.createElementVNode("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.rankList,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.id},[e.createVNode(c,{src:`http://192.168.0.100/comic/cover/${t.name}.png`,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"100%",height:"200rpx"},null,8,["src"]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1)])))),128))])])}}},[["__scopeId","data-v-dd05fb3a"]]),ii=be({__name:"comic-hot-recommend",props:{comicList:{type:Array,default:()=>[]},title:{type:String,default:" "}},setup:t=>(o,i)=>{const a=D(e.resolveDynamicComponent("uv-icon"),Ce),n=D(e.resolveDynamicComponent("uv-image"),Ao);return e.openBlock(),e.createElementBlock("view",{class:"hot"},[e.createElementVNode("view",{class:"hot-top"},[e.createElementVNode("view",{class:"l"},[e.createVNode(a,{name:"fire",color:"red","custom-prefix":"custom-icon",size:"16"}),e.createTextVNode(" "+e.toDisplayString(t.title),1)]),e.createElementVNode("view",{class:"r"},[e.createTextVNode(" 更多 "),e.createVNode(a,{name:"arrow-right",color:"#000",size:"12",bold:""})])]),e.createElementVNode("view",{class:"comic-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.comicList,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"comic-item",key:t.id*(o+1)},[e.createVNode(n,{src:`http://192.168.0.100/comic/cover/${t.name}.png`,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"100%",height:"150"},null,8,["src"]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"genre-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.genre.split(",").slice(0,3),((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"genre-item",key:o},e.toDisplayString(t),1)))),128))])])))),128))])])}},[["__scopeId","data-v-06fc1ba3"]]),ai=be({__name:"comic-more-recomend",props:{comicList:{type:Array,default:()=>[]}},setup(t){const o=_e();return(i,a)=>{const n=D(e.resolveDynamicComponent("uv-image"),Ao);return e.openBlock(),e.createElementBlock("view",{class:"more-recomend"},[e.createElementVNode("view",{class:"title"},"专属你的热门推荐"),e.createElementVNode("view",{class:"comic-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.comicList,((t,i)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{return i=t,o.commit("setCurrentNovelDetail",i),void uni.navigateTo({url:"/pages/comic-detail/comic-detail"});var i},class:"comic-item",key:t.id},[e.createVNode(n,{bgColor:"#fff",src:`http://192.168.0.100/comic/cover/${t.name}.png`,"lazy-load":"",observeLazyLoad:"",fade:"",width:"100%",height:"250"},null,8,["src"]),e.createElementVNode("view",{class:"bottom"},[e.createElementVNode("view",{class:"comic-name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"comic-genre"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.genre.split(","),((t,o)=>(e.openBlock(),e.createElementBlock("view",{key:o},e.toDisplayString(t),1)))),128))])])],8,["onClick"])))),128))])])}}},[["__scopeId","data-v-05c5560b"]]),ni=be({__name:"comic",setup(t){const{ranks:o,rankIndex:i,rankList:a,changeRank:n,changeAchange:r,getRankList:l}=(()=>{const t=e.ref([]),o=e.ref(0),i=e.computed((()=>t.value[o.value])),a=async e=>{const i=await Go(0==o.value?"boy":"girl");t.value[e]=i.data.data};return{ranks:t,rankIndex:o,rankList:i,changeRank:async e=>{o.value=e,t.value[e]||await a(e)},changeAchange:async()=>{await a(o.value)},getRankList:a}})(),s=e.ref(null);_e();const c=e.ref(!0),h=e.ref([]),u=e.ref([]),d=e.reactive({offset:0,size:10,list:[]}),m=async()=>{const e=await Yo("国漫",6);h.value=e.data.data},p=async()=>{const e=await Yo("日漫",6);u.value=e.data.data},g=async()=>{const e=await((e=10,t=0)=>jo(`/comic/recommend?size=${e}&offset=${t}`))(d.size,d.offset);d.list=[...d.list,...e.data.data]},f=async()=>{d.offset+=d.size,await g()};e.onMounted((async()=>{Oo.on("comic_show",(async()=>{await l(0),await m(),await p(),await g(),c.value=!1}))}));const y=async()=>{await(async()=>{const e=await Go(0);o.value=[],o.value[0]=e.data.data,i.value=0})(),await m(),await p(),d.list=[],await g(),c.value=!1,s.value.endRefresh()};return(t,o)=>{const i=D(e.resolveDynamicComponent("uv-load-more"),mt);return e.openBlock(),e.createBlock(Ro,{ref_key:"comicPage",ref:s,onOnRefresh:y,onOnScrollToLower:f},{default:e.withCtx((()=>[c.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-box"},[e.createVNode(rt)])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"comic-page"},[e.createVNode(oi,{onChangeAchange:e.unref(r),rankList:e.unref(a),onChangeRank:e.unref(n)},null,8,["onChangeAchange","rankList","onChangeRank"]),e.createVNode(ii,{title:"国漫也精彩",comicList:h.value},null,8,["comicList"]),e.createVNode(ii,{title:"日漫大世界",comicList:u.value},null,8,["comicList"]),e.createVNode(ai,{comicList:d.list},null,8,["comicList"]),e.createVNode(i,{status:"loading","loading-text":"努力加载中..."})]))])),_:1},512)}}},[["__scopeId","data-v-2b88501e"]]),ri=()=>{const t=e.ref(0);return{currentActiveTabbar:t,pageChange:e=>{"l"==e?t.value--:"r"==e&&t.value++},handelTopChange:e=>{t.value=e.index}}},li=be({__name:"index",setup(t){const{currentActiveTabbar:o,pageChange:i,handelTopChange:a}=ri();_e();const n=e.computed((()=>r.value.map((e=>e.alias)))),r=e.ref([{name:"novel",alias:"小说",hasShown:!0},{name:"comic",alias:"漫画",hasShown:!1}]),l=e.ref(0),s=e.computed((()=>r.value[o.value])),c=e.ref(["linear-gradient(45deg, rgba(250, 223, 209,0.5), rgba(205, 254, 209,0.5))","linear-gradient(45deg, rgba(254, 205, 240,0.5), rgba(204, 255, 209,0.5))"]);e.watch(s,(e=>{e.hasShown||(Oo.emit(`${e.name}_show`),r.value[o.value]={...e,hasShown:!0})}));const h=e.ref([]);e.onMounted((async()=>{u();const e=await Wo();h.value=e.data.data,d.value=h.value[0].name}));const u=async()=>{const t=await e.getCurrentInstance(),o=await Ne(),i=await st(t,".home-top");l.value=o.windowHeight-i.height},d=e.ref(""),m=e=>{d.value=h.value[e.detail.current].name},p=()=>{uni.navigateTo({url:`/pages/search/search?novel_name=${d.value}`})};return(t,r)=>{const u=D(e.resolveDynamicComponent("uv-icon"),Ce);return e.openBlock(),e.createElementBlock("view",{class:"home bcg-color-white"},[e.createElementVNode("view",{class:"home-top",style:e.normalizeStyle({background:c.value[e.unref(o)]})},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"search-box bcg-color-white",onClick:p},[e.createVNode(u,{name:"search",color:"#989898",size:"24"}),e.createElementVNode("swiper",{onChange:m,"disable-touch":"","indicator-dots":!1,autoplay:!0,circular:"",vertical:"",interval:3e3,duration:1e3},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,((t,o)=>(e.openBlock(),e.createElementBlock("swiper-item",{key:t.id},e.toDisplayString(t.name),1)))),128))],32)]),e.createVNode(ke,{tabBarList:n.value,value:e.unref(o),onChange:e.unref(a)},null,8,["tabBarList","value","onChange"])],4),e.createVNode(lt,{height:l.value,length:n.value.length,pageName:s.value.name,current:e.unref(o),onPageChange:e.unref(i)},{default:e.withCtx((()=>[e.createVNode(ti),e.createVNode(ni)])),_:1},8,["height","length","pageName","current","onPageChange"])])}}},[["__scopeId","data-v-408625dc"]]);const si=be({name:"uv-link",emits:["click"],mixins:[L,Se,{props:{color:{type:String,default:""},fontSize:{type:[String,Number],default:14},underLine:{type:Boolean,default:!1},href:{type:String,default:""},mpTips:{type:String,default:"链接已复制，请在浏览器打开"},lineColor:{type:String,default:""},text:{type:String,default:""},...null==(v=null==(y=uni.$uv)?void 0:y.props)?void 0:v.link}}],computed:{linkStyle(){return{color:this.color,fontSize:this.$uv.addUnit(this.fontSize),lineHeight:this.$uv.addUnit(this.$uv.getPx(this.fontSize)+2),textDecoration:this.underLine?"underline":"none"}}},methods:{openLink(){plus.runtime.openURL(this.href),this.$emit("click")}}},[["render",function(t,o,i,a,n,r){return e.openBlock(),e.createElementBlock("text",{class:"uv-link",onClick:o[0]||(o[0]=e.withModifiers(((...e)=>r.openLink&&r.openLink(...e)),["stop"])),style:e.normalizeStyle([r.linkStyle,t.$uv.addStyle(t.customStyle)])},e.toDisplayString(t.text),5)}],["__scopeId","data-v-d02f9df8"]]);const ci=be({name:"uv-text",emits:["click"],mixins:[L,Se,{computed:{value(){const{text:e,mode:t,format:o,href:i}=this;return"price"===t?J(o)?o(e):de(e,2):"date"===t?(W(e),J(o)?o(e):ce(e,o||"yyyy-mm-dd")):"phone"===t?J(o)?o(e):"encrypt"===o?`${e.substr(0,3)}****${e.substr(7)}`:e:"name"===t?J(o)?o(e):"encrypt"===o?this.formatName(e):e:e}},methods:{formatName(e){let t="";if(2===e.length)t=e.substr(0,1)+"*";else if(e.length>2){let o="";for(let t=0,i=e.length-2;t<i;t++)o+="*";t=e.substr(0,1)+o+e.substr(-1,1)}else t=e;return t}}},{props:{type:{type:String,default:""},show:{type:Boolean,default:!0},text:{type:[String,Number],default:""},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},mode:{type:String,default:""},href:{type:String,default:""},format:{type:[String,Function],default:""},call:{type:Boolean,default:!0},openType:{type:String,default:""},bold:{type:Boolean,default:!1},block:{type:Boolean,default:!1},lines:{type:[String,Number],default:""},color:{type:String,default:"#303133"},size:{type:[String,Number],default:15},iconStyle:{type:[Object,String],default:()=>({fontSize:"15px"})},decoration:{type:String,default:"none"},margin:{type:[Object,String,Number],default:0},lineHeight:{type:[String,Number],default:""},align:{type:String,default:"left"},wordWrap:{type:String,default:"normal"},...null==(S=null==(w=uni.$uv)?void 0:w.props)?void 0:S.text}}],computed:{valueStyle(){const e={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:this.$uv.addUnit(this.size)};return!this.type&&(e.color=this.color),this.isNvue&&this.lines&&(e.lines=this.lines),!this.isNvue||"price"==this.mode||this.prefixIcon||this.suffixIcon||(e.flex=1,e.textAlign="left"===this.align?"flex-start":"center"===this.align?"center":"right"),this.lineHeight&&(e.lineHeight=this.$uv.addUnit(this.lineHeight)),!this.isNvue&&this.block&&(e.display="block"),this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))},isNvue:()=>!1,isMp:()=>!1},data:()=>({}),methods:{clickHandler(){this.call&&"phone"===this.mode&&uni.makePhoneCall({phoneNumber:this.text}),this.$emit("click")}}},[["render",function(t,o,i,a,n,r){const l=D(e.resolveDynamicComponent("uv-icon"),Ce),s=D(e.resolveDynamicComponent("uv-link"),si);return t.show?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uv-text",[]]),style:e.normalizeStyle({margin:t.margin,justifyContent:"left"===t.align?"flex-start":"center"===t.align?"center":"flex-end"}),onClick:o[6]||(o[6]=(...e)=>r.clickHandler&&r.clickHandler(...e))},["price"===t.mode?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(["uv-text__price",t.type&&`uv-text__value--${t.type}`]),style:e.normalizeStyle([r.valueStyle])},"￥",6)):e.createCommentVNode("",!0),t.prefixIcon?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uv-text__prefix-icon"},[e.createVNode(l,{name:t.prefixIcon,customStyle:t.$uv.addStyle(t.iconStyle)},null,8,["name","customStyle"])])):e.createCommentVNode("",!0),"link"===t.mode?(e.openBlock(),e.createBlock(s,{key:2,text:t.value,href:t.href,underLine:""},null,8,["text","href"])):t.openType&&r.isMp?(e.openBlock(),e.createElementBlock("button",{key:3,class:"uv-reset-button uv-text__value",style:e.normalizeStyle([r.valueStyle]),openType:t.openType,onGetuserinfo:o[0]||(o[0]=(...e)=>t.onGetUserInfo&&t.onGetUserInfo(...e)),onContact:o[1]||(o[1]=(...e)=>t.onContact&&t.onContact(...e)),onGetphonenumber:o[2]||(o[2]=(...e)=>t.onGetPhoneNumber&&t.onGetPhoneNumber(...e)),onError:o[3]||(o[3]=(...e)=>t.onError&&t.onError(...e)),onLaunchapp:o[4]||(o[4]=(...e)=>t.onLaunchApp&&t.onLaunchApp(...e)),onOpensetting:o[5]||(o[5]=(...e)=>t.onOpenSetting&&t.onOpenSetting(...e)),lang:t.lang,"session-from":t.sessionFrom,"send-message-title":t.sendMessageTitle,"send-message-path":t.sendMessagePath,"send-message-img":t.sendMessageImg,"show-message-card":t.showMessageCard,"app-parameter":t.appParameter},e.toDisplayString(t.value),45,["openType","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter"])):(e.openBlock(),e.createElementBlock("text",{key:4,class:e.normalizeClass(["uv-text__value",[t.type&&`uv-text__value--${t.type}`,t.lines&&`uv-line-${t.lines}`]]),style:e.normalizeStyle([r.valueStyle])},e.toDisplayString(t.value),7)),t.suffixIcon?(e.openBlock(),e.createElementBlock("view",{key:5,class:"uv-text__suffix-icon"},[e.createVNode(l,{name:t.suffixIcon,customStyle:t.$uv.addStyle(t.iconStyle)},null,8,["name","customStyle"])])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)}],["__scopeId","data-v-4c65a453"]]);const hi=be({name:"uv-read-more",mixins:[L,Se,{props:{showHeight:{type:[String,Number],default:400},toggle:{type:Boolean,default:!1},closeText:{type:String,default:"展开阅读全文"},openText:{type:String,default:"收起"},color:{type:String,default:"#2979ff"},fontSize:{type:[String,Number],default:14},shadowStyle:{type:Object,default:()=>({backgroundImage:"linear-gradient(-180deg, rgba(255, 255, 255, 0) 0%, #fff 80%)",paddingTop:"100px",marginTop:"-100px"})},textIndent:{type:String,default:"2em"},name:{type:[String,Number],default:""},...null==(b=null==(T=uni.$uv)?void 0:T.props)?void 0:b.readMore}}],data:()=>({isLongContent:!1,status:"close",elId:"",contentHeight:100}),computed:{innerShadowStyle(){return"open"===this.status?{}:this.shadowStyle}},created(){this.elId=this.$uv.guid()},mounted(){this.init()},methods:{async init(){this.getContentHeight().then((e=>{this.contentHeight=e,e>this.$uv.getPx(this.showHeight)&&(this.isLongContent=!0,this.status="close")}))},async getContentHeight(){return await this.$uv.sleep(30),new Promise((e=>{this.$uvGetRect("."+this.elId).then((t=>{e(t.height)}))}))},toggleReadMore(){this.status="close"===this.status?"open":"close",0==this.toggle&&(this.isLongContent=!1),this.$emit(this.status,this.name)}}},[["render",function(t,o,i,a,n,r){const l=D(e.resolveDynamicComponent("uv-text"),ci),s=D(e.resolveDynamicComponent("uv-icon"),Ce);return e.openBlock(),e.createElementBlock("view",{class:"uv-read-more"},[e.createElementVNode("view",{class:"uv-read-more__content",style:e.normalizeStyle({height:n.isLongContent&&"close"===n.status?t.$uv.addUnit(t.showHeight):t.$uv.addUnit(n.contentHeight,"px"),textIndent:t.textIndent})},[e.createElementVNode("view",{class:e.normalizeClass(["uv-read-more__content__inner",[n.elId]]),ref:"uv-read-more__content__inner"},[e.renderSlot(t.$slots,"default",{},void 0,!0)],2)],4),n.isLongContent?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uv-read-more__toggle",style:e.normalizeStyle([r.innerShadowStyle])},[e.renderSlot(t.$slots,"toggle",{},(()=>[e.createElementVNode("view",{class:"uv-read-more__toggle__text",onClick:o[0]||(o[0]=(...e)=>r.toggleReadMore&&r.toggleReadMore(...e))},[e.createVNode(l,{text:"close"===n.status?t.closeText:t.openText,color:t.color,size:t.fontSize,lineHeight:t.fontSize,margin:"0 5px 0 0"},null,8,["text","color","size","lineHeight"]),e.createElementVNode("view",{class:"uv-read-more__toggle__icon"},[e.createVNode(s,{color:t.color,size:t.fontSize+2,name:"close"===n.status?"arrow-down":"arrow-up"},null,8,["color","size","name"])])])]),!0)],4)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-e2d2f69a"]]),ui=be({__name:"page-loading",setup:t=>(t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"page-loading"},[e.createVNode(rt)]))},[["__scopeId","data-v-e07bb696"]]),di=be({__name:"index",setup(t){const o=_e(),i=e.computed((()=>o.state.currentNovelDetail)),a=e.ref(!0),n=e.ref(""),r=e.ref([]),l=e.ref(!1);F((async()=>{const e=await qo(i.value.id);l.value=e})),e.onMounted((async()=>{await c(i.value.cover),await h(i.value.id),a.value=!1}));const s=()=>{uni.navigateBack()},c=async e=>{const{data:{data:t}}=await(o=e,jo(`/covermaincolor?url=${o}`));var o;n.value=t},h=async e=>{const{data:t}=await $o(e);r.value=t},u=()=>{r.value.length>0?(o.commit("setCurrentNovelChapters",{novel_name:i.value.name,chapters:r.value}),uni.navigateTo({url:"/pages/chapters/chapters"})):uni.showToast({icon:"none",title:"当前小说暂无章节内容"})},d=()=>{r.value.length>0?uni.navigateTo({url:`/pages/read/read?novel_id=${i.value.id}&chapter_n=1`}):uni.showToast({icon:"none",title:"当前小说暂无章节内容"})},m=async()=>{l.value?(await ei(o.state.currentNovelDetail.id),l.value=!1):(await Xo(o.state.currentNovelDetail),l.value=!0)};return(t,o)=>{var c;const h=D(e.resolveDynamicComponent("uv-icon"),Ce),p=D(e.resolveDynamicComponent("uv-image"),Ao),g=D(e.resolveDynamicComponent("uv-read-more"),hi);return e.openBlock(),e.createElementBlock("view",{class:"nove-detail-container"},[a.value?(e.openBlock(),e.createBlock(ui,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"nove-detail-top",style:e.normalizeStyle({backgroundImage:`url(${i.value.cover})`})},[e.createElementVNode("view",{class:"frosted-glass"}),e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"back"},[e.createVNode(h,{onClick:s,bold:"",name:"arrow-left",color:"white"==n.value?"black":"white",size:"28"},null,8,["color"])]),e.createElementVNode("view",{class:"info"},[e.createVNode(p,{src:i.value.cover,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"90",height:"120"},null,8,["src"]),e.createElementVNode("view",{class:"name",style:e.normalizeStyle({color:"white"==n.value?"black":"white"})},e.toDisplayString(i.value.name),5),e.createElementVNode("view",{class:"author",style:e.normalizeStyle({color:"white"==n.value?"black":"white"})},e.toDisplayString(i.value.author)+" · "+e.toDisplayString(i.value.genre),5)])],4),e.createElementVNode("view",{class:"nove-detail-bottom"},[e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"t"},[e.createElementVNode("view",{class:"l"},e.toDisplayString(i.value.words_count),1),e.createElementVNode("view",{class:"line"},"|"),e.createElementVNode("view",{class:"r"},e.toDisplayString(i.value.status),1)]),e.createVNode(g,{"show-height":"200rpx",toggle:!0,color:"rgb(41, 121, 255)"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"intro"},e.toDisplayString(i.value.intro),1)])),_:1}),e.createElementVNode("view",{class:"catalog"},[e.createElementVNode("text",{class:"txt"},"目录"),e.createElementVNode("view",{class:"catalog-name",onClick:u},[e.createElementVNode("text",null," 连载至："+e.toDisplayString(r.value.length>0?null==(c=r.value[r.value.length-1])?void 0:c.chapter_name:"当前小说暂无章节内容"),1),e.createVNode(h,{name:"arrow-right"})])])])]),e.createElementVNode("view",{class:"fun"},[e.createElementVNode("view",{class:"add-book",onClick:m},[e.createVNode(h,{name:"bookshelfshujia","custom-prefix":"custom-icon",size:"20",color:"#000"}),e.createTextVNode(" "+e.toDisplayString(l.value?"已在书架":"加入书架"),1)]),e.createElementVNode("view",{class:"view download"},"全本缓存"),e.createElementVNode("view",{class:"read",onClick:d},"开始阅读")])])}}},[["__scopeId","data-v-5d48149f"]]),mi=be({__name:"chapters",setup(t){const o=_e(),i=e.computed((()=>o.state.currentNovelChapters)),a=e.ref(null),n=e.ref(!1);e.onMounted((()=>{uni.setNavigationBarTitle({title:i.value.novel_name}),uni.setNavigationBarColor({backgroundColor:"#fff",frontColor:"#000"}),a.value=i.value.chapters[i.value.chapters.length-1].chapter_name}));const r=()=>{i.value.chapters=i.value.chapters.reverse(),n.value=!n.value};return(t,o)=>{const l=D(e.resolveDynamicComponent("uv-icon"),Ce);return e.openBlock(),e.createElementBlock("view",{class:"chapters_container"},[e.createElementVNode("view",{class:"order"},[e.createElementVNode("view",{class:"l"}," 更新至"+e.toDisplayString(a.value),1),e.createElementVNode("view",{class:"r",onClick:r},[e.createElementVNode("view",{class:"icon"},[e.createVNode(l,{name:"arrow-up-fill",size:"12"}),e.createVNode(l,{name:"arrow-down-fill",size:"12"})]),e.createTextVNode(" "+e.toDisplayString(n.value?"逆序":"正序"),1)])]),e.createElementVNode("view",{class:"chapter-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value.chapters,(t=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.id},e.toDisplayString(t.chapter_name),1)))),128))])])}}},[["__scopeId","data-v-6b820881"]]);const pi=be({name:"uv-loading-page",mixins:[L,Se,{props:{loadingText:{type:[String,Number],default:""},image:{type:String,default:""},loadingMode:{type:String,default:"circle"},loading:{type:Boolean,default:!1},bgColor:{type:String,default:"#fff"},color:{type:String,default:"#C8C8C8"},fontSize:{type:[String,Number],default:16},iconSize:{type:[String,Number],default:26},loadingColor:{type:String,default:"#C8C8C8"},duration:{type:[String,Number],default:300},...null==(k=null==(C=uni.$uv)?void 0:C.props)?void 0:k.loadingPage}}],data:()=>({showLoading:!1,opacity:1}),watch:{loading:{immediate:!0,handler(e){e?(this.showLoading=!0,this.opacity=1):(this.opacity=0,this.$nextTick((()=>{this.$uv.sleep(this.duration).then((e=>{this.showLoading=!1}))})))}}},computed:{loadingPageStyle(){const e={position:"fixed",top:"0",left:"0",right:"0",bottom:"0",zIndex:"999","background-color":this.bgColor,"transition-duration":`${this.duration}ms`,opacity:this.opacity};return this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,o,i,a,n,r){const l=D(e.resolveDynamicComponent("uv-loading-icon"),dt);return n.showLoading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uv-loading-page uv-flex-column",style:e.normalizeStyle([r.loadingPageStyle])},[""!=t.image?(e.openBlock(),e.createElementBlock("image",{key:0,src:t.image,class:"uv-loading-page__img",mode:"widthFit",style:e.normalizeStyle([{width:t.$uv.addUnit(t.iconSize),height:t.$uv.addUnit(t.iconSize)}])},null,12,["src"])):(e.openBlock(),e.createBlock(l,{key:1,mode:t.loadingMode,size:t.iconSize,color:t.loadingColor},null,8,["mode","size","color"])),e.renderSlot(t.$slots,"default",{},(()=>[e.createElementVNode("text",{class:"uv-loading-page__text",style:e.normalizeStyle([{fontSize:t.$uv.addUnit(t.fontSize),color:t.color}])},e.toDisplayString(t.loadingText),5)]),!0)],4)):e.createCommentVNode("",!0)}],["__scopeId","data-v-812c64fa"]]),gi=be({__name:"read-top",props:{theme:{type:Object,default:()=>({backgroundColor:"#F6F6F6",color:"#929292"})},chapterName:{type:String,default:""}},setup(t){const o=()=>{uni.navigateBack()};return(i,a)=>{const n=D(e.resolveDynamicComponent("uv-icon"),Ce);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"read-top"},[e.createVNode(n,{name:"arrow-left",onClick:o,color:t.theme.color},null,8,["color"]),e.createElementVNode("text",{class:"chapter_name",style:e.normalizeStyle({color:t.theme.color})},e.toDisplayString(t.chapterName),5)])],64)}}},[["__scopeId","data-v-c7c8c494"]]),fi=be({__name:"read-bottom",props:{theme:{type:Object,default:()=>({backgroundColor:"#F6F6F6",color:"#929292"})},currentPage:{type:Number,default:1},totalPage:{type:Number,default:1},currentTime:{type:String,default:"00:00"},batteryInfo:{type:Object,default:null}},setup:t=>(o,i)=>{const a=D(e.resolveDynamicComponent("uv-icon"),Ce);return e.openBlock(),e.createElementBlock("view",{class:"read-bottom",style:e.normalizeStyle({color:t.theme.color})},[e.createElementVNode("view",{class:"time"},e.toDisplayString(t.currentTime),1),t.batteryInfo?(e.openBlock(),e.createElementBlock("view",{key:0,class:"battery"},[t.batteryInfo.level<=10?(e.openBlock(),e.createBlock(a,{key:0,name:"battery-empty","custom-prefix":"custom-icon",size:"14",color:t.batteryInfo.isCharging?"#77CA44":t.theme.color},null,8,["color"])):t.batteryInfo.level>10&&t.batteryInfo.level<30?(e.openBlock(),e.createBlock(a,{key:1,name:"battery-low","custom-prefix":"custom-icon",size:"14",color:t.batteryInfo.isCharging?"#77CA44":t.theme.color},null,8,["color"])):t.batteryInfo.level>=30&&t.batteryInfo.level<50?(e.openBlock(),e.createBlock(a,{key:2,name:"battery-mid","custom-prefix":"custom-icon",size:"14",color:t.batteryInfo.isCharging?"#77CA44":t.theme.color},null,8,["color"])):t.batteryInfo.level>=50&&t.batteryInfo.level<90?(e.openBlock(),e.createBlock(a,{key:3,name:"battery-most","custom-prefix":"custom-icon",size:"14",color:t.batteryInfo.isCharging?"#77CA44":t.theme.color},null,8,["color"])):(e.openBlock(),e.createBlock(a,{key:4,name:"battery-full","custom-prefix":"custom-icon",size:"14",color:t.batteryInfo.isCharging?"#77CA44":t.theme.color},null,8,["color"]))])):e.createCommentVNode("",!0)],4)}},[["__scopeId","data-v-836442cd"]]),yi=be({__name:"catalog-popup",props:{catalogShow:{type:Boolean,default:!1},theme:{type:Object,default:()=>({backgroundColor:"#F6F6F6",color:"#929292",contentColor:"#000"})},currentChapter_n:{type:Number,default:1},chapterNameList:{type:Array,default:()=>[]},chapterNameScrollHeight:{type:Number,default:0}},emits:["changeChapter"],setup(t,{emit:o}){const i=o;return(o,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["catalog",t.catalogShow?"show":""]),style:e.normalizeStyle({backgroundColor:t.theme.backgroundColor})},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("scroll-view",{"scroll-into-view":t.chapterNameList.length>0?"chapter_"+t.currentChapter_n:"",style:e.normalizeStyle(`height:${t.chapterNameScrollHeight}px`),class:"scroll-box","scroll-y":!0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.chapterNameList,((o,a)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{return t=o.chapter_n,void i("changeChapter",t);var t},id:"chapter_"+o.chapter_n,class:"item",key:o.id,style:e.normalizeStyle({color:t.currentChapter_n==o.chapter_n?"rgb(41, 121, 255)":t.theme.color})},e.toDisplayString(o.chapter_name.trim()),13,["onClick","id"])))),128))],12,["scroll-into-view"])],6))}},[["__scopeId","data-v-2d302134"]]);const vi=be({name:"uv-slider",mixins:[L,Se,{props:{value:{type:[Number,String],default:0},modelValue:{type:[Number,String],default:0},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},activeColor:{type:String,default:"#2979ff"},backgroundColor:{type:String,default:"#c0c4cc"},blockSize:{type:[Number,String],default:18},blockColor:{type:String,default:"#ffffff"},disabled:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},...null==(N=null==(x=uni.$uv)?void 0:x.props)?void 0:N.slider}}],computed:{sliderValue(){return this.value||this.modelValue}},methods:{changingHandler(e){const{value:t}=e.detail;this.$emit("input",t),this.$emit("update:modelValue",t),this.$emit("changing",t)},changeHandler(e){const{value:t}=e.detail;this.$emit("input",t),this.$emit("update:modelValue",t),this.$emit("change",t)}}},[["render",function(t,o,i,a,n,r){return e.openBlock(),e.createElementBlock("view",{class:"uv-slider",style:e.normalizeStyle([t.$uv.addStyle(t.customStyle)])},[e.createElementVNode("slider",{min:t.min,max:t.max,step:t.step,value:r.sliderValue,activeColor:t.activeColor,backgroundColor:t.backgroundColor,blockSize:t.$uv.getPx(t.blockSize),blockColor:t.blockColor,showValue:t.showValue,disabled:t.disabled,onChanging:o[0]||(o[0]=(...e)=>r.changingHandler&&r.changingHandler(...e)),onChange:o[1]||(o[1]=(...e)=>r.changeHandler&&r.changeHandler(...e))},null,40,["min","max","step","value","activeColor","backgroundColor","blockSize","blockColor","showValue","disabled"])],4)}]]);const wi=be({name:"uv-overlay",emits:["click"],mixins:[L,Se,{props:{show:{type:Boolean,default:!1},zIndex:{type:[String,Number],default:10070},duration:{type:[String,Number],default:300},opacity:{type:[String,Number],default:.5},...null==(E=null==(B=uni.$uv)?void 0:B.props)?void 0:E.overlay}}],watch:{show(e){}},computed:{overlayStyle(){const e={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":`rgba(0, 0, 0, ${this.opacity})`};return this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}},methods:{clickHandler(){this.$emit("click")},clear(){}}},[["render",function(t,o,i,a,n,r){const l=D(e.resolveDynamicComponent("uv-transition"),Lo);return e.openBlock(),e.createBlock(l,{show:t.show,mode:"fade","custom-class":"uv-overlay",duration:t.duration,"custom-style":r.overlayStyle,onClick:r.clickHandler,onTouchmove:e.withModifiers(r.clear,["stop","prevent"])},{default:e.withCtx((()=>[e.renderSlot(t.$slots,"default",{},void 0,!0)])),_:3},8,["show","duration","custom-style","onClick","onTouchmove"])}],["__scopeId","data-v-65481522"]]);const Si=be({name:"uv-status-bar",mixins:[L,Se,{props:{bgColor:{type:String,default:"transparent"}}}],data:()=>({}),computed:{style(){const e={};return e.height=this.$uv.addUnit(this.$uv.sys().statusBarHeight,"px"),this.bgColor&&(this.bgColor.indexOf("gradient")>-1?e.backgroundImage=this.bgColor:e.background=this.bgColor),this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,o,i,a,n,r){return e.openBlock(),e.createElementBlock("view",{style:e.normalizeStyle([r.style]),class:"uv-status-bar"},[e.renderSlot(t.$slots,"default",{},void 0,!0)],4)}],["__scopeId","data-v-c48287dc"]]);const Ti=be({name:"uv-popup",components:{},mixins:[L,Se],emits:["change","maskClick"],props:{mode:{type:String,default:"center"},duration:{type:[String,Number],default:300},zIndex:{type:[String,Number],default:10075},bgColor:{type:String,default:"#ffffff"},safeArea:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},overlayOpacity:{type:[Number,String],default:.4},overlayStyle:{type:[Object,String],default:""},safeAreaInsetBottom:{type:Boolean,default:!0},safeAreaInsetTop:{type:Boolean,default:!1},closeable:{type:Boolean,default:!1},closeIconPos:{type:String,default:"top-right"},zoom:{type:Boolean,default:!0},round:{type:[Number,String],default:0},...null==(V=null==(I=uni.$uv)?void 0:I.props)?void 0:V.popup},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.mode]](!0)},immediate:!0},showPopup(e){}},data(){return{ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},transitionStyle:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupClass:this.isDesktop?"fixforpc-top":"top",direction:""}},computed:{isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.bgColor||"none"===this.bgColor||this.$uv.getPx(this.round)>0?"transparent":this.bgColor},contentStyle(){const e={};if(this.bgColor&&(e.backgroundColor=this.bg),this.round){const t=this.$uv.addUnit(this.round),o=this.direction?this.direction:this.mode;e.backgroundColor=this.bgColor,"top"===o?(e.borderBottomLeftRadius=t,e.borderBottomRightRadius=t):"bottom"===o?(e.borderTopLeftRadius=t,e.borderTopRightRadius=t):"center"===o&&(e.borderRadius=t)}return this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}},unmounted(){this.setH5Visible()},created(){this.messageChild=null,this.clearPropagation=!1},methods:{setH5Visible(){},closeMask(){this.maskShow=!1},clear(e){e.stopPropagation(),this.clearPropagation=!0},open(e){if(this.showPopup)return;if(e&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(e)?this.direction=e:e=this.mode,!this.config[e])return this.$uv.error(`缺少类型：${e}`);this[this.config[e]](),this.$emit("change",{show:!0,type:e})},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.mode}),clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopup=!1}),300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.closeOnClickOverlay&&this.close())},top(e){this.popupClass=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,right:0,backgroundColor:this.bg},e||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((()=>{this.messageChild&&"message"===this.mode&&this.messageChild.timerClose()})))},bottom(e){this.popupClass="bottom",this.ani=["slide-bottom"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,right:0,bottom:0,backgroundColor:this.bg},e||(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupClass="center",this.ani=this.zoom?["zoom-in","fade"]:["fade"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},e||(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupClass="left",this.ani=["slide-left"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,bottom:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupClass="right",this.ani=["slide-right"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,bottom:0,right:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)}}},[["render",function(t,o,i,a,n,r){const l=D(e.resolveDynamicComponent("uv-overlay"),wi),s=D(e.resolveDynamicComponent("uv-status-bar"),Si),c=D(e.resolveDynamicComponent("uv-safe-bottom"),xe),h=D(e.resolveDynamicComponent("uv-icon"),Ce),u=D(e.resolveDynamicComponent("uv-transition"),Lo);return n.showPopup?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uv-popup",[n.popupClass,r.isDesktop?"fixforpc-z-index":""]]),style:e.normalizeStyle([{zIndex:i.zIndex}])},[e.createElementVNode("view",{onTouchstart:o[2]||(o[2]=(...e)=>r.touchstart&&r.touchstart(...e))},[n.maskShow&&i.overlay?(e.openBlock(),e.createBlock(l,{key:"1",show:n.showTrans,duration:i.duration,"custom-style":i.overlayStyle,opacity:i.overlayOpacity,zIndex:i.zIndex,onClick:r.onTap},null,8,["show","duration","custom-style","opacity","zIndex","onClick"])):e.createCommentVNode("",!0),e.createVNode(u,{key:"2",mode:n.ani,name:"content","custom-style":n.transitionStyle,duration:i.duration,show:n.showTrans,onClick:r.onTap},{default:e.withCtx((()=>[e.createElementVNode("view",{class:e.normalizeClass(["uv-popup__content",[n.popupClass]]),style:e.normalizeStyle([r.contentStyle]),onClick:o[1]||(o[1]=(...e)=>r.clear&&r.clear(...e))},[i.safeAreaInsetTop?(e.openBlock(),e.createBlock(s,{key:0})):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"default",{},void 0,!0),i.safeAreaInsetBottom?(e.openBlock(),e.createBlock(c,{key:1})):e.createCommentVNode("",!0),i.closeable?(e.openBlock(),e.createElementBlock("view",{key:2,onClick:o[0]||(o[0]=e.withModifiers(((...e)=>r.close&&r.close(...e)),["stop"])),class:e.normalizeClass(["uv-popup__content__close",["uv-popup__content__close--"+i.closeIconPos]]),"hover-class":"uv-popup__content__close--hover","hover-stay-time":"150"},[e.createVNode(h,{name:"close",color:"#909399",size:"18",bold:""})],2)):e.createCommentVNode("",!0)],6)])),_:3},8,["mode","custom-style","duration","show","onClick"])],32)],6)):e.createCommentVNode("",!0)}],["__scopeId","data-v-504e2131"]]);const bi=be({name:"uv-modal",mixins:[L,Se,{props:{title:{type:[String],default:""},content:{type:String,default:""},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmColor:{type:String,default:"#2979ff"},cancelColor:{type:String,default:"#606266"},buttonReverse:{type:Boolean,default:!1},zoom:{type:Boolean,default:!0},zIndex:{type:[String,Number],default:10075},asyncClose:{type:Boolean,default:!1},closeOnClickOverlay:{type:Boolean,default:!0},negativeTop:{type:[String,Number],default:0},width:{type:[String,Number],default:"650rpx"},align:{type:String,default:"left"},textStyle:{type:[Object,String],default:""},...null==(_=null==(R=uni.$uv)?void 0:R.props)?void 0:_.modal}}],data:()=>({loading:!1}),computed:{nvueStyle:()=>({})},methods:{open(){this.$refs.modalPopup.open(),this.loading&&(this.loading=!1)},close(){this.$refs.modalPopup.close()},popupChange(e){e.show||this.$emit("close")},confirmHandler(){this.loading||this.$emit("confirm"),this.asyncClose?this.loading=!0:this.close()},cancelHandler(){this.$emit("cancel"),this.close()},closeLoading(){this.$nextTick((()=>{this.loading=!1}))}}},[["render",function(t,o,i,a,n,r){const l=D(e.resolveDynamicComponent("uv-line"),ct),s=D(e.resolveDynamicComponent("uv-loading-icon"),dt),c=D(e.resolveDynamicComponent("uv-popup"),Ti);return e.openBlock(),e.createBlock(c,{ref:"modalPopup",mode:"center",zoom:t.zoom,zIndex:t.zIndex,customStyle:{borderRadius:"6px",overflow:"hidden",marginTop:`-${t.$uv.addUnit(t.negativeTop)}`},closeOnClickOverlay:t.closeOnClickOverlay,safeAreaInsetBottom:!1,duration:400,onChange:r.popupChange},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"uv-modal",style:e.normalizeStyle({width:t.$uv.addUnit(t.width)})},[t.title?(e.openBlock(),e.createElementBlock("text",{key:0,class:"uv-modal__title"},e.toDisplayString(t.title),1)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"uv-modal__content",style:e.normalizeStyle({paddingTop:(t.title?12:25)+"px"})},[e.renderSlot(t.$slots,"default",{},(()=>[e.createElementVNode("text",{class:"uv-modal__content__text",style:e.normalizeStyle([{textAlign:t.align},r.nvueStyle,t.$uv.addStyle(t.textStyle)])},e.toDisplayString(t.content),5)]),!0)],4),e.renderSlot(t.$slots,"confirmButton",{},(()=>[e.createVNode(l),t.showConfirmButton||t.showCancelButton?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uv-modal__button-group",style:e.normalizeStyle({flexDirection:t.buttonReverse?"row-reverse":"row"})},[t.showCancelButton?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uv-modal__button-group__wrapper uv-modal__button-group__wrapper--cancel",[t.showCancelButton&&!t.showConfirmButton&&"uv-modal__button-group__wrapper--only-cancel"]]),"hover-stay-time":150,"hover-class":"uv-modal__button-group__wrapper--hover",onClick:o[0]||(o[0]=(...e)=>r.cancelHandler&&r.cancelHandler(...e))},[e.createElementVNode("text",{class:"uv-modal__button-group__wrapper__text",style:e.normalizeStyle({color:t.cancelColor})},e.toDisplayString(t.cancelText),5)],2)):e.createCommentVNode("",!0),t.showConfirmButton&&t.showCancelButton?(e.openBlock(),e.createBlock(l,{key:1,direction:"column"})):e.createCommentVNode("",!0),t.showConfirmButton?(e.openBlock(),e.createElementBlock("view",{key:2,class:e.normalizeClass(["uv-modal__button-group__wrapper uv-modal__button-group__wrapper--confirm",[!t.showCancelButton&&t.showConfirmButton&&"uv-modal__button-group__wrapper--only-confirm"]]),"hover-stay-time":150,"hover-class":"uv-modal__button-group__wrapper--hover",onClick:o[1]||(o[1]=(...e)=>r.confirmHandler&&r.confirmHandler(...e))},[n.loading?(e.openBlock(),e.createBlock(s,{key:0})):(e.openBlock(),e.createElementBlock("text",{key:1,class:"uv-modal__button-group__wrapper__text",style:e.normalizeStyle({color:t.confirmColor})},e.toDisplayString(t.confirmText),5))],2)):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)]),!0)],4)])),_:3},8,["zoom","zIndex","customStyle","closeOnClickOverlay","onChange"])}],["__scopeId","data-v-6a64dca2"]]),Ci=be({__name:"bottom-popup",props:{menuShow:{type:Boolean,default:!1},themeStyle:{type:Object,default:()=>({backgroundColor:"#F6F6F6",color:"#929292",contentColor:"#000"})},chapterNameList:{type:Array,default:()=>[]},currentChapterName:{type:String,default:""},isDarkTheme:{type:Boolean,default:!1},currentChapter_n:{type:Number,default:1},novel_id:{type:Number,required:!0}},emits:["openConfig","handelSliderChange","nextChapter","prevChapter","openChapterContalog","changeDarkOrBright"],setup(t,{emit:o}){const i=_e(),a=e.ref(null),n=o,r=e.ref(!1),l=e.computed((()=>{var e;return(h.value/(null==(e=u.chapterNameList)?void 0:e.length)*100).toFixed(2)})),s=e.ref(!1),c=e.ref(!1),h=e.ref(0),u=t,d=()=>{n("openConfig")},m=e.ref(null),p=e=>{s.value=!0,r.value=!0,m.value&&clearTimeout(m.value),m.value=setTimeout((async()=>{r.value=!1,n("handelSliderChange",h.value)}),300)},g=()=>{n("nextChapter")},f=()=>{n("prevChapter")},y=()=>{n("openChapterContalog")},v=()=>{n("changeDarkOrBright",u.isDarkTheme?"bright":"dark")};e.watch((()=>u.currentChapter_n),(e=>{h.value=e})),e.onMounted((async()=>{const e=await qo(i.state.currentNovelDetail.id);c.value=e}));const w=async()=>{c.value?a.value.open():(await Xo(i.state.currentNovelDetail),c.value=!0)},S=async()=>{await ei(i.state.currentNovelDetail.id),c.value=!1};return(o,i)=>{var n,u;const m=D(e.resolveDynamicComponent("uv-slider"),vi),T=D(e.resolveDynamicComponent("uv-icon"),Ce),b=D(e.resolveDynamicComponent("uv-modal"),bi);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:e.normalizeClass(["bottom-menu",t.menuShow?"show":""]),style:e.normalizeStyle({backgroundColor:t.themeStyle.backgroundColor,color:t.themeStyle.contentColor})},[s.value&&r.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"chapter_tip"},[e.createElementVNode("view",null,e.toDisplayString(l.value)+"% ",1),e.createElementVNode("view",{class:"chapter_name"},e.toDisplayString(null==(n=t.chapterNameList[h.value])?void 0:n.chapter_name),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"slide"},[e.createElementVNode("text",{onClick:f},"上一章"),e.createElementVNode("view",{class:"slide-box"},[e.createVNode(m,{modelValue:h.value,"onUpdate:modelValue":i[0]||(i[0]=e=>h.value=e),"block-size":"25",min:"0",max:(null==(u=t.chapterNameList)?void 0:u.length)-1,onChanging:p,onChange:p},null,8,["modelValue","max"])]),e.createElementVNode("text",{onClick:g},"下一章")]),e.createElementVNode("view",{class:"icon-btn"},[e.createElementVNode("view",{class:"icon-item",onClick:y},[e.createVNode(T,{name:"content","custom-prefix":"custom-icon",size:"20",color:t.themeStyle.contentColor},null,8,["color"]),e.createElementVNode("view",{style:e.normalizeStyle({color:t.themeStyle.contentColor})},"目录",4)]),e.createElementVNode("view",{class:"icon-item",onClick:w},[e.createVNode(T,{name:c.value?"checkmark":"plus",size:"20",color:t.themeStyle.contentColor},null,8,["name","color"]),e.createElementVNode("view",{style:e.normalizeStyle({color:t.themeStyle.contentColor})},e.toDisplayString(c.value?"已加书架":"加入书架"),5)]),e.createElementVNode("view",{class:"icon-item",onClick:v},[e.createVNode(T,{name:t.isDarkTheme?"sun":"moon","custom-prefix":"custom-icon",size:"20",color:t.themeStyle.contentColor},null,8,["name","color"]),e.createElementVNode("view",{style:e.normalizeStyle({color:t.themeStyle.contentColor})},e.toDisplayString(t.isDarkTheme?"日间":"夜间"),5)]),e.createElementVNode("view",{class:"icon-item",onClick:d},[e.createVNode(T,{name:"setting",color:t.themeStyle.contentColor,size:"24"},null,8,["color"]),e.createElementVNode("view",{style:e.normalizeStyle({color:t.themeStyle.contentColor})},"设置",4)])])],6),e.createVNode(b,{style:e.normalizeStyle({backgroundColor:t.themeStyle.backgroundColor,color:t.themeStyle.contentColor}),showCancelButton:"",closeOnClickOverlay:!1,ref_key:"modal",ref:a,content:"确认将本书从书架移除",onConfirm:S,confirmText:"移除"},null,8,["style"])],64)}}},[["__scopeId","data-v-5ee61f43"]]),ki=be({__name:"config-popup",props:{show:{type:Boolean,default:!1},themeStyle:{type:Object,default:()=>({backgroundColor:"#F6F6F6",color:"#929292",contentColor:"#000"})},fontSize:{type:Number,default:20},themeList:{type:Array,default:()=>[]},currentLineHeight:{type:Number,default:2}},emits:["changeFontSize","changeTheme","setLineHeight"],setup(t,{emit:o}){const i=e.ref([{name:"小",value:2},{name:"较小",value:2.5},{name:"适中",value:3},{name:"大",value:3.5}]),a=o,n=e.ref(0),r=e=>{A("log","at pages/read/components/config-popup.vue:67",e)},l=e=>{a("changeFontSize",e)};e.onMounted((async()=>{}));return(o,s)=>{const c=D(e.resolveDynamicComponent("uv-slider"),vi);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["config",t.show?"show":""]),style:e.normalizeStyle({backgroundColor:t.themeStyle.backgroundColor,color:t.themeStyle.contentColor})},[e.createElementVNode("view",{class:"brightness"},[e.createElementVNode("view",{class:"config-name"},"亮度"),e.createElementVNode("view",{class:"slide-box"},[e.createVNode(c,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=e=>n.value=e),"block-size":"25",min:0,max:100,onChanging:r},null,8,["modelValue"])])]),e.createElementVNode("view",{class:"font"},[e.createElementVNode("view",{class:"config-name"},"字号"),e.createElementVNode("view",{class:"change-font"},[e.createElementVNode("view",{class:"btn",onClick:s[1]||(s[1]=e=>l(0)),style:e.normalizeStyle({backgroundColor:t.themeStyle.configBtnBcg})},"A-",4),e.createElementVNode("view",null,e.toDisplayString(t.fontSize),1),e.createElementVNode("view",{class:"btn",onClick:s[2]||(s[2]=e=>l(1)),style:e.normalizeStyle({backgroundColor:t.themeStyle.configBtnBcg})},"A+",4)])]),e.createElementVNode("view",{class:"background"},[e.createElementVNode("view",{class:"config-name"},"背景"),e.createElementVNode("view",{class:"themes-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.themeList,((o,i)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{return t=o.name,void a("changeTheme",t);var t},class:"theme-item",key:i,style:e.normalizeStyle({backgroundColor:o.backgroundColor,borderColor:t.themeStyle.backgroundColor==o.backgroundColor?t.themeStyle.themeActive:"transparent"})},null,12,["onClick"])))),128))])]),e.createElementVNode("view",{class:"space"},[e.createElementVNode("view",{class:"config-name"},"间距"),e.createElementVNode("view",{class:"btn-group",style:e.normalizeStyle({backgroundColor:t.themeStyle.configBtnBcg})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,((o,i)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{return t=o.value,void a("setLineHeight",t);var t},style:e.normalizeStyle({backgroundColor:t.currentLineHeight==o.value?t.themeStyle.backgroundColor:"transparent"}),class:"btn",key:i},e.toDisplayString(o.name),13,["onClick"])))),128))],4)])],6)}}},[["__scopeId","data-v-e10ba488"]]),{registerUTSInterface:xi,initUTSProxyClass:Ni,initUTSProxyFunction:Bi,initUTSPackageName:Ei,initUTSIndexClassName:Ii,initUTSClassName:Vi}=uni,Ri="uniGetbatteryinfo",_i=Bi(!1,{moduleName:"uni-getbatteryinfo",moduleType:"",errMsg:"",main:!0,package:Ei(Ri,true),class:Ii(Ri,true),name:"getBatteryInfoSyncByJs",keepAlive:!1,params:[],return:""}),Mi=()=>{const e=new Date;let t=e.getHours();t=t>=10?t:"0"+t;let o=e.getMinutes();return o=o>=10?o:"0"+o,`${t}:${o}`},zi=()=>{const t=e.ref(null);t.value=_i();const o=e.ref(Mi()),i=setInterval((()=>{o.value=Mi(),t.value=_i()}),6e4);return e.onUnmounted((()=>{clearInterval(i)})),{currentTime:o,batteryInfo:t}},Li=(e,t)=>{try{const o=e.map((e=>{return o=[e.chapter_name,t,e.chapter_n],Jo.insertChapter(o);var o}));Promise.all(o)}catch(o){A("error","at pages/read/hook/useCache.js:18","插入章节失败:"+error.message)}},Ai=e=>{return t=`select * from chapters where novel_id=${e}`,Jo.select(t);var t},Di={__name:"read",setup(t){const{catalogShow:o,menuShow:i,maskShow:a,configShow:n,handelShowMenu:r,closeMenu:l,openConfigMenu:s}=(()=>{const t=e.ref(!1),o=e.ref(!1),i=e.ref(!1),a=e.ref(!1);return{catalogShow:t,menuShow:o,maskShow:i,handelShowMenu:async()=>{i.value=!0,o.value=!0},closeMenu:()=>{t.value=!1,o.value=!1,i.value=!1,a.value=!1},configShow:a,openConfigMenu:()=>{o.value=!1,setTimeout((()=>{a.value=!0}),300)}}})(),{currentTime:c,batteryInfo:h}=zi(),{theme:u,config:d,changeFontSize:m,themeNames:p,setLineHeight:g,changeTheme:f}=(()=>{const t=e.reactive({novel_id:-1,fontSize:uni.getStorageSync("read_fontSize")||20,currentTheme:uni.getStorageSync("read_theme")||"bright",lineHeight:uni.getStorageSync("read_lineHeight")||2,isAddBookShelf:!1}),o=e.reactive({bright:{backgroundColor:"#F6F6F6",color:"#929292",contentColor:"#000",configBtnBcg:"#EEEEEE",themeActive:"#000"},lightBrown:{backgroundColor:"#E8E3CF",color:"#929292",contentColor:"#000",configBtnBcg:"#D9D7C2",themeActive:"#000"},lightGreen:{backgroundColor:"#E4F0D8",color:"#929292",contentColor:"#000",configBtnBcg:"#DCE8D0",themeActive:"#000"},lightBlue:{backgroundColor:"#DAE4EE",color:"#929292",contentColor:"#000",configBtnBcg:"#D3DDE7",themeActive:"#000"},dark:{backgroundColor:"#0E0E0E",color:"#B8B8B8",contentColor:"#B6B6B6",configBtnBcg:"#202020",themeActive:"#888888"}}),i=e.computed((()=>o[t.currentTheme])),a=e.computed((()=>Object.keys(o).map((e=>({name:e,backgroundColor:o[e].backgroundColor})))));return{config:t,theme:i,changeFontSize:e=>{1==e?t.fontSize=t.fontSize+2>=30?30:t.fontSize+2:0==e&&(t.fontSize=t.fontSize-2<=12?12:t.fontSize-2),uni.setStorageSync("read_fontSize",t.fontSize)},themeNames:a,setLineHeight:e=>{t.lineHeight=e,uni.setStorageSync("read_lineHeight",t.lineHeight)},changeTheme:e=>{t.currentTheme=e,uni.setStorageSync("read_theme",t.currentTheme)}}})(),y=e.ref(!0);e.ref(0);const v=e.ref(null),w=e.ref(0),S=e.reactive({chapterList:[],currentIndex:0,chapterNameList:[]}),T=e.computed((()=>S.chapterList[S.currentIndex])),b=e.ref(0);j((async({novel_id:e,chapter_n:t})=>{let o=t;const i=await Ko(e);0!=i.length&&(o=i[0].chapter_n,w.value=i[0].offsetY),d.novel_id=e;const a=await Uo(d.novel_id,o);S.chapterList=a.data.data}));const C=e.ref(0);e.onMounted((async()=>{plus.navigator.setFullscreen(!0),v.value=e.getCurrentInstance();const t=await Ne();b.value=t.screenHeight-t.statusBarHeight,setTimeout((async()=>{S.chapterNameList=await(async e=>{const t=await Ai(e);if(0===t.length){const{data:t}=await $o(e);return Li(t,e),t}return A("log","at pages/read/hook/useCache.js:34","当前章节已经存储在数据库中"),t})(d.novel_id),await x(),y.value=!1}),1e3)})),$((()=>{plus.navigator.setFullscreen(!1),k()}));const k=async()=>{var e;0!=(await Ko(d.novel_id)).length?await((e,t,o,i)=>Jo.executeSql(`\n\t\tupdate history\n\t\tset chapter_n=${t},chapter_name='${o}', offsetY=${i}, read_time = CURRENT_TIMESTAMP\n\t\twhere novel_id = ${e}\n`))(d.novel_id,T.value.chapter_n,T.value.chapter_name,w.value):await(e=[d.novel_id,w.value,T.value.chapter_n,T.value.chapter_name],Jo.insertHistory(e))};H((async()=>{await k()}));const x=async()=>{const e=await st(v.value,".read-bottom"),t=await st(v.value,".read-top"),o=await Ne();C.value=o.screenHeight-e.height-t.height-o.statusBarHeight},N=async()=>{if(0==S.currentIndex&&1!=T.value.chapter_n){y.value=!0;const e=T.value.chapter_n-10<0?1:T.value.chapter_n-10,t=T.value.chapter_n-1,o=await Uo(d.novel_id,e);S.chapterList=o.data.data;const i=S.chapterList.findIndex((e=>e.chapter_n==t));S.currentIndex=i,y.value=!1}else 1!=T.value.chapter_n&&(S.currentIndex-=1);e.nextTick((()=>{w.value=0}))},B=async()=>{const t=S.chapterNameList[S.chapterNameList.length-1].chapter_n,o=T.value.chapter_n+1;if(o>t)uni.showToast({icon:"none",title:"已经是最后一章了"});else{if(9==S.currentIndex){y.value=!0;let e=o;T.value.chapter_n+10>=t&&(e=t-10);const i=await Uo(d.novel_id,e);S.chapterList=i.data.data;const a=S.chapterList.findIndex((e=>e.chapter_n==o));S.currentIndex=a,y.value=!1}else S.currentIndex+=1;e.nextTick((()=>{w.value=0}))}},E=()=>{i.value=!1,setTimeout((()=>{o.value=!0}),300)},I=()=>{o.value=!0,a.value=!0},V=async e=>{y.value=!0;const t=await Uo(d.novel_id,e);S.chapterList=t.data.data,S.currentIndex=0,l(),setTimeout((()=>{y.value=!1,w.value=0}),300)},R=async e=>{y.value=!0;const t=await Uo(d.novel_id,e+1);S.chapterList=t.data.data,S.currentIndex=0,w.value=0,y.value=!1},_=e.ref(null),M=e=>{_.value&&clearTimeout(_.value),_.value=setTimeout((()=>{w.value=e.detail.scrollTop}),300)};return(t,v)=>{var k,x,_,z,L,A,P,F;const H=D(e.resolveDynamicComponent("uv-loading-page"),pi);return e.openBlock(),e.createElementBlock("view",{class:"read-page",style:e.normalizeStyle({backgroundColor:e.unref(u).backgroundColor})},[e.unref(a)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"mask",onClick:v[0]||(v[0]=(...t)=>e.unref(l)&&e.unref(l)(...t))})):e.createCommentVNode("",!0),e.createVNode(H,{loading:y.value,bgColor:e.unref(u).backgroundColor,color:e.unref(u).contentColor,loadingColor:e.unref(u).contentColor,"loading-text":"加载中...","font-size":"24rpx"},null,8,["loading","bgColor","color","loadingColor"]),e.createVNode(gi,{chapterName:null==(k=T.value)?void 0:k.chapter_name},null,8,["chapterName"]),S.chapterList.length>0?(e.openBlock(),e.createElementBlock("scroll-view",{key:1,onScroll:M,"scroll-top":w.value,class:"content-contanier",style:e.normalizeStyle({height:C.value+"px"}),"scroll-y":"true"},[e.createElementVNode("view",{class:"content",style:e.normalizeStyle({lineHeight:e.unref(d).lineHeight})},[e.createElementVNode("view",{onClick:v[1]||(v[1]=(...t)=>e.unref(r)&&e.unref(r)(...t)),class:"read-content",style:e.normalizeStyle({color:e.unref(u).contentColor,fontSize:e.unref(d).fontSize+"px"}),innerHTML:null==(x=T.value)?void 0:x.content},null,12,["innerHTML"]),e.createElementVNode("view",{class:"btn-group"},[e.createElementVNode("button",{style:e.normalizeStyle({backgroundColor:e.unref(u).configBtnBcg,color:e.unref(u).contentColor}),onClick:N,disabled:1==(null==(_=T.value)?void 0:_.chapter_n)},"上一章",12,["disabled"]),e.createElementVNode("button",{style:e.normalizeStyle({backgroundColor:e.unref(u).configBtnBcg,color:e.unref(u).contentColor}),onClick:I}," 目录 ",4),e.createElementVNode("button",{style:e.normalizeStyle({backgroundColor:e.unref(u).configBtnBcg,color:e.unref(u).contentColor}),onClick:B,disabled:(null==(z=T.value)?void 0:z.chapter_n)>=(null==(L=S.chapterList[S.chapterList.length-1])?void 0:L.chapter_n)},"下一章",12,["disabled"])])],4)],44,["scroll-top"])):e.createCommentVNode("",!0),e.createVNode(yi,{chapterNameScrollHeight:b.value,chapterNameList:S.chapterNameList,catalogShow:e.unref(o),theme:e.unref(u),currentChapter_n:null==(A=T.value)?void 0:A.chapter_n,onChangeChapter:V},null,8,["chapterNameScrollHeight","chapterNameList","catalogShow","theme","currentChapter_n"]),e.createVNode(Ci,{novel_id:Number(e.unref(d).novel_id),currentChapter_n:null==(P=T.value)?void 0:P.chapter_n,onOpenConfig:e.unref(s),onOpenChapterContalog:E,onNextChapter:B,onPrevChapter:N,onChangeDarkOrBright:e.unref(f),onHandelSliderChange:R,menuShow:e.unref(i),themeStyle:e.unref(u),isDarkTheme:"dark"==e.unref(d).currentTheme,chapterNameList:S.chapterNameList,currentChapterName:null==(F=T.value)?void 0:F.chapter_name},null,8,["novel_id","currentChapter_n","onOpenConfig","onChangeDarkOrBright","menuShow","themeStyle","isDarkTheme","chapterNameList","currentChapterName"]),e.createVNode(ki,{fontSize:e.unref(d).fontSize,show:e.unref(n),themeStyle:e.unref(u),onChangeFontSize:e.unref(m),themeList:e.unref(p),onChangeTheme:e.unref(f),onSetLineHeight:e.unref(g),currentLineHeight:e.unref(d).lineHeight},null,8,["fontSize","show","themeStyle","onChangeFontSize","themeList","onChangeTheme","onSetLineHeight","currentLineHeight"]),e.createVNode(fi,{theme:e.unref(u),currentTime:e.unref(c),batteryInfo:e.unref(h)},null,8,["theme","currentTime","batteryInfo"])],4)}}},Pi=be({__name:"row",props:{bookList:{default:Array,default:()=>[]}},emits:["operate"],setup(t,{emit:o}){const i=o;return(o,a)=>{const n=D(e.resolveDynamicComponent("uv-image"),Ao),r=D(e.resolveDynamicComponent("uv-icon"),Ce);return e.openBlock(),e.createElementBlock("view",{class:"book-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.bookList,(t=>(e.openBlock(),e.createElementBlock("view",{class:"book-item",key:t.novel_id},[e.createVNode(n,{src:t.cover,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"60",height:"80"},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"hasRead"},e.toDisplayString(t.hasRead?`读到：${t.hasRead}`:"未读"),1),e.createElementVNode("view",{class:"status"},e.toDisplayString(t.status),1)]),e.createElementVNode("view",{class:"btn"},[e.createVNode(r,{onClick:e=>{i("operate",t)},name:"more","custom-prefix":"custom-icon",size:"20",color:"#989898"},null,8,["onClick"])])])))),128))])}}},[["__scopeId","data-v-d1edad68"]]),Fi=be({__name:"column",props:{bookList:{default:Array,default:()=>[]}},emits:["operate"],setup(t,{emit:o}){const i=o;return(o,a)=>{const n=D(e.resolveDynamicComponent("uv-image"),Ao),r=D(e.resolveDynamicComponent("uv-icon"),Ce);return e.openBlock(),e.createElementBlock("view",{class:"book-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.bookList,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"book-item",key:t.novel_id},[e.createElementVNode("view",{class:"cover"},[e.createVNode(n,{src:t.cover,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"100%",height:"160"},null,8,["src"]),e.createElementVNode("view",{class:e.normalizeClass(["finish","完结"==t.status?"":"renew"])},e.toDisplayString(t.status),3)]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"bottom"},[e.createElementVNode("view",{class:"chapter"},e.toDisplayString(t.hasRead?`读到：${t.hasRead}`:"未读"),1),e.createVNode(r,{onClick:e=>{i("operate",t)},name:"more","custom-prefix":"custom-icon",size:"14",color:"#989898"},null,8,["onClick"])])])))),128))])}}},[["__scopeId","data-v-a3935cd7"]]),Hi=be({__name:"bookshelf",setup(t){const o=e.ref(!0),i=e.ref([{icon:"zhiding",custom:!0,size:25,name:"置顶",onTap(){A("log","at pages/bookshelf/bookshelf.vue:79","content")}},{icon:"content",custom:!0,size:17,name:"目录",onTap(){A("log","at pages/bookshelf/bookshelf.vue:88","content")}},{icon:"download",custom:!1,size:25,name:"下载本书",onTap(){A("log","at pages/bookshelf/bookshelf.vue:97","dowload")}},{icon:"reload",custom:!1,size:25,name:"清除缓存",onTap(){A("log","at pages/bookshelf/bookshelf.vue:106","reload")}},{icon:"trash",custom:!1,size:25,name:"删除",onTap:()=>{a.value.close(),n.value.open()}}]),a=e.ref(null),n=e.ref(null),r=async()=>{await ei(d.value.novel_id);const e=s.value.findIndex((e=>e.novel_id==d.value.novel_id));s.value.splice(e,1)},l=e.ref(["小说","漫画"]),s=e.ref([]),c=e.ref(0);F((async()=>{const e=await Jo.select("select * from bookshell");s.value=await u(e)}));const h=e.ref(0);e.onMounted((async()=>{const t=e.getCurrentInstance(),o=await st(t,".header"),i=await Ne();h.value=i.windowHeight-o.height}));const u=async e=>{let t=await Promise.all(e.map((e=>Ko(e.novel_id).then((t=>{const o=t.length>0?t[0].chapter_name:null,i=t.length>0?t[0].read_time:new Date;return{...e,hasRead:o,read_time:i}})))));return t=t.sort(((e,t)=>{const o=new Date(e.read_time);return new Date(t.read_time)-o})),t},d=e.ref(null),m=e=>{d.value=e,a.value.open()},p=()=>{o.value=!o.value},g=()=>{uni.navigateTo({url:"/pages/search/search"})};return(t,u)=>{const f=D(e.resolveDynamicComponent("uv-icon"),Ce),y=D(e.resolveDynamicComponent("uv-image"),Ao),v=D(e.resolveDynamicComponent("uv-popup"),Ti),w=D(e.resolveDynamicComponent("uv-modal"),bi);return e.openBlock(),e.createElementBlock("view",{class:"bookshell-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"action-container"},[e.createElementVNode("view",{class:"class-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,((t,o)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>c.value=o,class:e.normalizeClass(["item",c.value==o?"active":""]),key:o},e.toDisplayString(t),11,["onClick"])))),128))]),e.createElementVNode("view",{class:"btn"},[e.createVNode(f,{onClick:g,size:"30",name:"search",color:"#000"}),e.createVNode(f,{onClick:p,size:"30",name:o.value?"list-dot":"grid",color:"#000"},null,8,["name"])])])]),e.createElementVNode("scroll-view",{style:e.normalizeStyle({height:h.value+"px"}),"scroll-y":"true"},[o.value?(e.openBlock(),e.createBlock(Pi,{key:0,bookList:s.value,onOperate:m},null,8,["bookList"])):(e.openBlock(),e.createBlock(Fi,{key:1,bookList:s.value,onOperate:m},null,8,["bookList"]))],4),e.createVNode(v,{safeAreaInsetBottom:!1,round:10,ref_key:"popup",ref:a,mode:"bottom",bgColor:"#F6F7F9"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"handel-box"},[e.createElementVNode("view",{class:"top"},[e.createVNode(y,{src:d.value.cover,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"70",height:"90"},null,8,["src"]),e.createElementVNode("view",{class:"r"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(d.value.name),1),e.createElementVNode("view",{class:"author"},e.toDisplayString(d.value.author),1)])]),e.createElementVNode("view",{class:"handel-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"handel-item",key:o},[e.createElementVNode("view",{class:"icon"},[t.custom?(e.openBlock(),e.createBlock(f,{key:1,name:t.icon,"custom-prefix":"custom-icon",onClick:t.onTap,size:t.size},null,8,["name","onClick","size"])):(e.openBlock(),e.createBlock(f,{key:0,size:t.size,name:t.icon,onClick:t.onTap},null,8,["size","name","onClick"]))]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1)])))),128))])]),e.createElementVNode("button",{style:{margin:"10rpx"},onClick:u[0]||(u[0]=e=>a.value.close())},"取消")])),_:1},512),e.createVNode(w,{showCancelButton:"",closeOnClickOverlay:!1,ref_key:"modal",ref:n,content:"确认将本书从书架移除",onConfirm:r,confirmText:"移除"},null,512)])}}},[["__scopeId","data-v-03c01474"]]);const Oi=be({data:()=>({})},[["render",function(t,o,i,a,n,r){return e.openBlock(),e.createElementBlock("view",null," 分类 ")}]]);const ji=be({data:()=>({})},[["render",function(t,o,i,a,n,r){return e.openBlock(),e.createElementBlock("view",null," 用户 ")}]]);const $i=be({name:"uv-search",emits:["click","input","change","clear","search","custom","focus","blur","clickIcon","update:modelValue"],mixins:[L,Se,{props:{value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},shape:{type:String,default:"round"},bgColor:{type:String,default:"#f2f2f2"},placeholder:{type:String,default:"请输入关键字"},clearabled:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},showAction:{type:Boolean,default:!0},actionStyle:{type:Object,default:()=>({})},actionText:{type:String,default:"搜索"},inputAlign:{type:String,default:"left"},inputStyle:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},borderColor:{type:String,default:"transparent"},searchIconColor:{type:String,default:"#909399"},color:{type:String,default:"#606266"},placeholderColor:{type:String,default:"#909399"},searchIcon:{type:String,default:"search"},searchIconSize:{type:[Number,String],default:22},margin:{type:String,default:"0"},animation:{type:Boolean,default:!1},maxlength:{type:[String,Number],default:-1},height:{type:[String,Number],default:32},label:{type:[String,Number,null],default:null},boxStyle:{type:[String,Object],default:()=>({})},...null==(z=null==(M=uni.$uv)?void 0:M.props)?void 0:z.search}}],data(){return{keyword:"",showClear:!1,show:!1,focused:this.focus}},created(){this.keyword=this.modelValue},watch:{value(e){this.keyword=e},modelValue(e){this.keyword=e}},computed:{showActionBtn(){return!this.animation&&this.showAction}},methods:{keywordChange(){this.$emit("input",this.keyword),this.$emit("update:modelValue",this.keyword),this.$emit("change",this.keyword)},inputChange(e){this.keyword=e.detail.value,this.keywordChange()},clear(){this.keyword="",this.$nextTick((()=>{this.$emit("clear")})),this.keywordChange()},search(e){this.$emit("search",e.detail.value);try{uni.hideKeyboard()}catch(t){}},custom(){this.$emit("custom",this.keyword);try{uni.hideKeyboard()}catch(e){}},getFocus(){this.focused=!0,this.animation&&this.showAction&&(this.show=!0),this.$emit("focus",this.keyword)},blur(){setTimeout((()=>{this.focused=!1}),100),this.show=!1,this.$emit("blur",this.keyword)},clickHandler(){this.disabled&&this.$emit("click")},clickIcon(){this.$emit("clickIcon")}}},[["render",function(t,o,i,a,n,r){const l=D(e.resolveDynamicComponent("uv-icon"),Ce);return e.openBlock(),e.createElementBlock("view",{class:"uv-search",onClick:o[6]||(o[6]=(...e)=>r.clickHandler&&r.clickHandler(...e)),style:e.normalizeStyle([{margin:t.margin},t.$uv.addStyle(t.customStyle)])},[e.createElementVNode("view",{class:"uv-search__content",style:e.normalizeStyle([{backgroundColor:t.bgColor,borderRadius:"round"==t.shape?"100px":"4px",borderColor:t.borderColor},t.$uv.addStyle(t.boxStyle)])},[t.disabled?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uv-search__content__disabled"})):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"prefix",{},(()=>[e.createElementVNode("view",{class:"uv-search__content__icon"},[e.createVNode(l,{onClick:r.clickIcon,size:t.searchIconSize,name:t.searchIcon,color:t.searchIconColor?t.searchIconColor:t.color},null,8,["onClick","size","name","color"])])]),!0),e.createElementVNode("input",{"confirm-type":"search",onBlur:o[0]||(o[0]=(...e)=>r.blur&&r.blur(...e)),value:n.keyword,onConfirm:o[1]||(o[1]=(...e)=>r.search&&r.search(...e)),onInput:o[2]||(o[2]=(...e)=>r.inputChange&&r.inputChange(...e)),disabled:t.disabled,onFocus:o[3]||(o[3]=(...e)=>r.getFocus&&r.getFocus(...e)),focus:t.focus,maxlength:t.maxlength,"placeholder-class":"uv-search__content__input--placeholder",placeholder:t.placeholder,"placeholder-style":`color: ${t.placeholderColor}`,class:"uv-search__content__input",type:"text",style:e.normalizeStyle([{textAlign:t.inputAlign,color:t.color,backgroundColor:t.bgColor,height:t.$uv.addUnit(t.height)},t.inputStyle])},null,44,["value","disabled","focus","maxlength","placeholder","placeholder-style"]),n.keyword&&t.clearabled&&n.focused?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uv-search__content__icon uv-search__content__close",onClick:o[4]||(o[4]=(...e)=>r.clear&&r.clear(...e))},[e.createVNode(l,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})])):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"suffix",{},void 0,!0)],4),e.createElementVNode("text",{style:e.normalizeStyle([t.actionStyle]),class:e.normalizeClass(["uv-search__action",[(r.showActionBtn||n.show)&&"uv-search__action--active"]]),onClick:o[5]||(o[5]=e.withModifiers(((...e)=>r.custom&&r.custom(...e)),["stop","prevent"]))},e.toDisplayString(t.actionText),7)],4)}],["__scopeId","data-v-e3a99171"]]),Ui=be({__name:"default",props:{hotSearchList:{type:Array,default:()=>[]},historyList:{type:Array,default:()=>[]}},emits:["clearHistory","handelSearch"],setup(t,{emit:o}){const i=_e(),a=e.ref(null),n=e.ref(!0),r=o,l=()=>{n.value=!0,r("clearHistory")};return(o,s)=>{const c=D(e.resolveDynamicComponent("uv-icon"),Ce),h=D(e.resolveDynamicComponent("uv-modal"),bi);return e.openBlock(),e.createElementBlock(e.Fragment,null,[t.historyList.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"area"},[e.createElementVNode("view",{class:"area-top"},[e.createElementVNode("view",{class:"l"}," 搜索历史 "),e.createElementVNode("view",{class:"r"},[t.historyList.length>3?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"btn",onClick:s[0]||(s[0]=e=>n.value=!n.value)},[e.createTextVNode(e.toDisplayString(n.value?"展开":"收起")+" ",1),e.createVNode(c,{name:n.value?"arrow-down":"arrow-up",color:"#989898",size:"12"},null,8,["name"])]),e.createElementVNode("view",{class:"btn"},"|")],64)):e.createCommentVNode("",!0),e.createVNode(c,{name:"trash",onClick:s[1]||(s[1]=e=>a.value.open()),color:"#989898",size:"20"})])]),e.createElementVNode("view",{class:e.normalizeClass(["list",n.value?"fold":"unfold"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.historyList,((t,o)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{r("handelSearch",t)},class:"list-item",key:o},e.toDisplayString(t),9,["onClick"])))),128))],2)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"area"},[e.createElementVNode("view",{class:"area-top"},[e.createElementVNode("view",{class:"l"}," 热门搜索 ")]),e.createElementVNode("view",{class:e.normalizeClass(["list","unfold"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.hotSearchList,((t,o)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{return o=t,i.commit("setCurrentNovelDetail",o),void uni.navigateTo({url:"/pages/nove-detail/index",animationType:"slide-in-right"});var o},class:"list-item",key:t.id},e.toDisplayString(t.name),9,["onClick"])))),128))])]),e.createVNode(h,{zoom:"",showCancelButton:"",closeOnClickOverlay:!1,ref_key:"clearModal",ref:a,content:"历史记录清除后无法恢复,是否清除全部历史记录",onConfirm:l,confirmText:"确认"},null,512)],64)}}},[["__scopeId","data-v-90d14058"]]),Wi=(e,t)=>e.replace(new RegExp(t,"gi"),(e=>`<text style="color:#D4AB63">${e}</text>`)),Zi=be({__name:"result",props:{keyword:{type:String,default:""},scrollHeight:{type:Number,default:0}},setup(t){const{currentActiveTabbar:o,pageChange:i,handelTopChange:a}=ri(),n=e.ref([]),r=e.ref(0),l=t;e.ref([{name:"novel",alias:"小说",hasShown:!0},{name:"comic",alias:"漫画",hasShown:!1}]);const s=e.reactive({offset:0,size:10}),c=e.reactive({status:"loading",loadingText:"努力加载中",loadmoreText:"轻轻上拉",nomoreText:"实在没有了"});e.onMounted((async()=>{await(async()=>{const t=e.getCurrentInstance(),o=await st(t,"#top_bar");r.value=l.scrollHeight-o.height+10})(),await h()}));const h=async()=>{if("nomore"==c.status)return;const e=(await Zo(l.keyword,l.keyword,s.offset,s.size)).data.data.map((e=>({...e,name:Wi(e.name,l.keyword)})));0==e.length&&(c.status="nomore"),n.value=[...n.value,...e]};return(t,l)=>{const s=D(e.resolveDynamicComponent("uv-load-more"),mt);return e.openBlock(),e.createElementBlock("view",{class:"search-result-page"},[e.createElementVNode("view",{id:"top"},[e.createVNode(ke,{tabBarList:["小说","漫画"],value:e.unref(o),onChange:e.unref(a),id:"top_bar"},null,8,["value","onChange"])]),e.createVNode(lt,{background:"#fff",height:r.value,length:2,pageName:"home",current:e.unref(o),onPageChange:e.unref(i)},{default:e.withCtx((()=>[e.createVNode(Ro,{refresh:!1,onOnScrollToLower:h},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"result-container"},[e.createElementVNode("view",{class:"result-container"},[e.createVNode(Po,{novelList:n.value},null,8,["novelList"])]),e.createVNode(s,{status:c.status,"loading-text":c.loadingText,"loadmore-text":c.loadmoreText,"nomore-text":c.nomoreText},null,8,["status","loading-text","loadmore-text","nomore-text"])])])),_:1}),e.createVNode(Ro,{refresh:!1},{default:e.withCtx((()=>[e.createElementVNode("image",{src:"https://pro-api.mgsearcher.com/_next/image?url=https%3A%2F%2Fcover1.baozimh.org%2Fcover%2Ftx%2Fwuliandianfeng%2F30_19_15_325982f153d0f3d4b52d617a579da96e_1640862941502.webp&w=250&q=60",mode:""})])),_:1})])),_:1},8,["height","current","onPageChange"])])}}},[["__scopeId","data-v-db7f47e4"]]),Gi=be({__name:"search",setup(t){const{searchHistoryList:o,addSearchHistory:i,clearHistory:a}=(()=>{const t=e.ref(uni.getStorageSync("searchHistoryList")||[]);return{searchHistoryList:t,addSearchHistory:e=>{t.value=Array.from(new Set([e,...t.value.slice(0,10)])),uni.setStorageSync("searchHistoryList",t.value)},clearHistory:()=>{t.value=[],uni.setStorageSync("searchHistoryList",[])}}})(),n=e.ref(""),r=e.ref(""),l=e.ref(0),s=e.ref(!1);j((async({novel_name:e=""})=>{n.value=e;const t=await Wo();c.value=t.data.data})),e.onMounted((async()=>{const t=e.getCurrentInstance(),o=await Ne(),i=await st(t,".search-box");l.value=o.windowHeight-i.height-10})),U((e=>{if(s.value)return s.value=!1,r.value="",!0}));const c=e.ref([]),h=e.computed((()=>0==r.value.length&&""==r.value.trim())),u=e=>{if(0==e.length&&""==e.trim()){if(0==n.value.length&&""==n.value.trim())return;r.value=e,i(n.value)}else{const t=(e=>e.replace(/<[^>]+>/g,""))(e);r.value=t,i(t)}s.value=!0},d=e.ref([]),m=async()=>{s.value=!1;const e=await Zo(r.value,r.value,0,20);d.value=e.data.data.map((e=>({...e,name:Wi(e.name,r.value)})))};return(t,i)=>{const p=D(e.resolveDynamicComponent("uv-search"),$i),g=D(e.resolveDynamicComponent("uv-icon"),Ce);return e.openBlock(),e.createElementBlock("view",{class:"search-page"},[e.createElementVNode("view",{class:"search-box"},[e.createElementVNode("view",{class:"status-bar"}),e.createVNode(p,{onChange:m,height:"38",clearabled:"",onCustom:u,onSearch:u,focus:"",placeholder:n.value,modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=e=>r.value=e)},null,8,["placeholder","modelValue"])]),d.value.length>0&&!h.value&&!s.value?(e.openBlock(),e.createElementBlock("scroll-view",{key:0,"scroll-y":!0,class:"search-result",style:e.normalizeStyle({height:l.value+"px"})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,(t=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>u(t.name),class:"search-item",key:t.id},[e.createVNode(g,{size:"20",name:"search",color:"#ccc"}),e.createElementVNode("view",{class:"name",innerHTML:t.name},null,8,["innerHTML"])],8,["onClick"])))),128))],4)):e.createCommentVNode("",!0),s.value?(e.openBlock(),e.createBlock(Zi,{key:2,keyword:h.value?n.value:r.value,scrollHeight:l.value},null,8,["keyword","scrollHeight"])):(e.openBlock(),e.createBlock(Ui,{key:1,onHandelSearch:u,onClearHistory:e.unref(a),hotSearchList:c.value,historyList:e.unref(o)},null,8,["onClearHistory","hotSearchList","historyList"]))])}}},[["__scopeId","data-v-4fac7a89"]]),Yi=be({__name:"comic-image",props:{imgInfo:{required:!0,type:Object},isLazyLoad:{type:Boolean,default:!0}},emits:["intoView"],setup(t,{emit:o}){const i=t;e.ref(null);const a=e.getCurrentInstance(),n=o;let r;const l=e.reactive({show:!1,loaded:!1,loadError:!1,loading:!0});e.onMounted((()=>{i.isLazyLoad&&(r=uni.createIntersectionObserver(a),r.relativeToViewport({bottom:500}).observe(".comic-image",(e=>{e.intersectionRatio>0&&i.isLazyLoad&&(l.show=!0,n("intoView",{imgNum:i.imgInfo.pageNum}))})))}));const s=()=>{l.loaded=!0},c=()=>{l.loadError=!0},h=()=>{l.loadError=!1};return(o,i)=>(e.openBlock(),e.createElementBlock("view",{class:"comic-image-container"},[e.createElementVNode("view",{class:"comic-image",style:e.normalizeStyle({height:t.imgInfo.height+"px",width:t.imgInfo.width+"px"})},[e.createElementVNode("view",{class:"mask"}),l.show&&!l.loadError?(e.openBlock(),e.createElementBlock("image",{key:0,draggable:!1,onLoad:s,onError:c,class:"img",src:t.imgInfo.url,"lazy-load":t.isLazyLoad,style:e.normalizeStyle({opacity:l.loaded?1:0}),mode:"widthFix"},null,44,["src","lazy-load"])):e.createCommentVNode("",!0),l.loaded||l.loadError?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"loading"},e.toDisplayString(t.imgInfo.pageNum),1)),l.loadError?(e.openBlock(),e.createElementBlock("view",{key:2,onClick:h,class:"load-error"},[e.createTextVNode(" 加载失败 "),e.createElementVNode("br"),e.createTextVNode(" 请点击重试 ")])):e.createCommentVNode("",!0)],4)]))}},[["__scopeId","data-v-0f9b19e5"]]),Qi={__name:"comic-chapter",props:{chapter:{type:Object,default:()=>{}},id:{required:!0}},emits:["changeChapterInfo"],setup(t,{emit:o}){const i=t,a=o;e.ref(null),e.onMounted((()=>{}));const n=({imgNum:e})=>{a("changeChapterInfo",{chapter_name:i.chapter.chapter_name,chapter_n:i.chapter.chapter_n,curentImgNum:e,totalImage:i.chapter.imgUrlList.length})};return(o,i)=>(e.openBlock(),e.createElementBlock("view",{class:"comic-chapter-content"},[e.createElementVNode("view",{class:"image-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.chapter.imgUrlList,((t,o)=>(e.openBlock(),e.createBlock(Yi,{onIntoView:n,key:o,imgInfo:t},null,8,["imgInfo"])))),128))])]))}},Ji=be({__name:"time",props:{zIndex:{default:0,type:Number},chapterImageInfo:{type:Object,default:()=>({curentImgNum:1,totalImage:1})}},setup(t){const{currentTime:o,batteryInfo:i}=zi();return(a,n)=>{const r=D(e.resolveDynamicComponent("uv-icon"),Ce);return e.openBlock(),e.createElementBlock("view",{class:"right-bottom",style:e.normalizeStyle({zIndex:t.zIndex})},[e.createElementVNode("view",null,e.toDisplayString(t.chapterImageInfo.curentImgNum)+"/"+e.toDisplayString(t.chapterImageInfo.totalImage),1),e.createElementVNode("view",{class:"time"},[e.createTextVNode(e.toDisplayString(e.unref(o))+" ",1),e.unref(i).level<=10?(e.openBlock(),e.createBlock(r,{key:0,name:"battery-empty","custom-prefix":"custom-icon",size:"14",color:"#fff"})):e.createCommentVNode("",!0),e.unref(i).level<=10?(e.openBlock(),e.createBlock(r,{key:1,name:"battery-empty","custom-prefix":"custom-icon",size:"14",color:e.unref(i).isCharging?"#77CA44":"#fff"},null,8,["color"])):e.unref(i).level>10&&e.unref(i).level<30?(e.openBlock(),e.createBlock(r,{key:2,name:"battery-low","custom-prefix":"custom-icon",size:"14",color:e.unref(i).isCharging?"#77CA44":"#fff"},null,8,["color"])):e.unref(i).level>=30&&e.unref(i).level<50?(e.openBlock(),e.createBlock(r,{key:3,name:"battery-mid","custom-prefix":"custom-icon",size:"14",color:e.unref(i).isCharging?"#77CA44":"#fff"},null,8,["color"])):e.unref(i).level>=50&&e.unref(i).level<90?(e.openBlock(),e.createBlock(r,{key:4,name:"battery-most","custom-prefix":"custom-icon",size:"14",color:e.unref(i).isCharging?"#77CA44":"#fff"},null,8,["color"])):(e.openBlock(),e.createBlock(r,{key:5,name:"battery-full","custom-prefix":"custom-icon",size:"14",color:e.unref(i).isCharging?"#77CA44":"#fff"},null,8,["color"]))])],4)}}},[["__scopeId","data-v-e317c7dd"]]),Ki=be({__name:"comic-menu",props:{title:{default:"",type:String},chapterList:{default:()=>[],type:Array},currentChapter_n:{default:1,type:Number}},emits:["changeChapter","reverseChapter"],setup(t,{expose:o,emit:i}){const a=e.ref(null),n=e.ref(null),r=e.ref(!1),l=e.ref(!1);let s=!1;const c=i,h=t,u=()=>{s?(a.value.close(),n.value.close()):(a.value.open(),n.value.open())},d=()=>{uni.navigateBack()},m=()=>{A("log","at pages/comic-detail/components/comic-menu.vue:112","前往详情页")},p=({show:e})=>{s=e,plus.navigator.setFullscreen(!e)},g=()=>{l.value=!l.value,setTimeout((()=>{u()}),100)},f=()=>{u(),setTimeout((()=>{r.value=!0}),300)},y=e.ref(0);e.onMounted((async()=>{const t=e.getCurrentInstance(),o=await st(t,".chapter-popup .top"),i=await Ne();y.value=i.windowHeight-o.height}));const v=e.ref(!1),w=()=>{v.value=!v.value,c("reverseChapter")};return o({openMenu:u}),(o,i)=>{const s=D(e.resolveDynamicComponent("uv-icon"),Ce),u=D(e.resolveDynamicComponent("uv-popup"),Ti),S=D(e.resolveDynamicComponent("uv-transition"),Lo);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"mask",style:e.normalizeStyle({opacity:l.value?1:0})},null,4),e.createVNode(u,{overlay:!1,bgColor:"#fff",ref_key:"popupTop",ref:a,mode:"top",overlayOpacity:0,onChange:p},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"comic-menu-top"},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"action"},[e.createElementVNode("view",{class:"action-left"},[e.createVNode(s,{name:"arrow-left",color:"#000",bold:"",size:"20",onClick:d}),e.createElementVNode("view",{class:"title"},e.toDisplayString(t.title),1)]),e.createElementVNode("view",{class:"action-right"},[e.createVNode(s,{onClick:m,name:"xiang",color:"#2c2c2c","custom-prefix":"custom-icon",size:"20"})])])])])),_:1},512),e.createVNode(u,{overlay:!1,bgColor:"#fff",ref_key:"popupBottom",ref:n,mode:"bottom",overlayOpacity:0},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"comic-popup-bottom"},[e.createElementVNode("view",{class:"item",onClick:f},[e.createVNode(s,{name:"content","custom-prefix":"custom-icon",size:"20",color:"#000"}),e.createTextVNode(" 目录 ")]),e.createElementVNode("view",{class:"item",onClick:g},[e.createVNode(s,{name:l.value?"sun":"moon","custom-prefix":"custom-icon",size:"20",color:"#000"},null,8,["name"]),e.createTextVNode(" "+e.toDisplayString(l.value?"日间":"夜间"),1)]),e.createElementVNode("view",{class:"item"},[e.createVNode(s,{name:"setting",color:"#000",size:"24"}),e.createTextVNode(" 设置 ")])])])),_:1},512),e.createElementVNode("view",{class:e.normalizeClass(["chapter-popup",r.value?"show":""])},[e.createElementVNode("view",{class:"top"},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"comic-name"},"狐妖小红娘"),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"info-left"}," 共"+e.toDisplayString(t.chapterList.length)+"话 连载中 ",1),e.createElementVNode("view",{class:"info-right",onClick:w},[e.createElementVNode("view",{class:"icon"},[e.createVNode(s,{name:"arrow-up-fill",size:"10"}),e.createVNode(s,{name:"arrow-down-fill",size:"10"})]),e.createTextVNode(" "+e.toDisplayString(v.value?"逆序":"正序"),1)])])]),e.createElementVNode("scroll-view",{"scroll-into-view":"chapter-"+t.currentChapter_n,"scroll-y":"true",style:e.normalizeStyle({height:y.value+"px"}),class:"scroll-box"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.chapterList,((o,i)=>(e.openBlock(),e.createElementBlock("view",{class:"chapter-item",style:e.normalizeStyle({color:t.currentChapter_n==o.chapter_n?"#F59F70":""}),id:"chapter-"+o.chapter_n,onClick:e=>{return t=o,void(h.currentChapter_n!=t.chapter_n&&(r.value=!1,c("changeChapter",t)));var t},key:i},e.toDisplayString(o.chapter_name),13,["id","onClick"])))),128))],12,["scroll-into-view"])],2),e.createVNode(S,{show:r.value,"custom-class":"chapter-mask",onClick:i[0]||(i[0]=e=>r.value=!1)},null,8,["show"])],64)}}},[["__scopeId","data-v-8560493d"]]),Xi=be({__name:"comic-detail",setup(t){const o=_e(),i=e.ref(null),a=e.ref("狐妖小红娘");e.computed((()=>o.state.currentNovelDetail));const n=e.ref([]);e.ref(0);const r=e.ref(0),l=e.ref(null),s=e.ref(!1),c=e.ref(0),h=e.ref(""),u=e.ref([]),d=e.ref(0),m=e.ref(0);e.onMounted((async()=>{const e=await Ne();r.value=e.windowWidth,d.value=e.screenHeight;const t=await(o=a.value,jo(`/comic/chapters?name=${o}`));var o;u.value=t.data.data,A("log","at pages/comic-detail/comic-detail.vue:72",u.value),plus.navigator.setFullscreen(!0),plus.key.addEventListener("keydown",f)})),e.onUnmounted((()=>{plus.navigator.setFullscreen(!1),plus.key.removeEventListener("keydown",f)}));const p=async(e,t)=>{c.value+=1;const o=await Qo(a.value,c.value,r.value);if(1==o.data.status){const e=o.data.data.imgUrlList.length;await i.value.completeByNoMore([o.data.data],0==e),e<3&&0!=e&&await p()}setTimeout((()=>{s.value=!0}),500)},g=async e=>{if(1==c.value)return;c.value-=1;const t=await Qo(a.value,c.value,r.value);await i.value.addDataFromTop([t.data.data],!1,!1),A("log","at pages/comic-detail/comic-detail.vue:104",123)},f=({keyCode:e})=>{24==e?i.value.scrollToY(m.value-500,0,!0):25==e&&i.value.scrollToY(m.value+500,0,!0)},y=e=>{const t=e.changedTouches[0].pageY;t<=d.value/3?i.value.scrollToY(m.value-500,0,!0):t>=d.value/3&&t<=d.value/3*2?l.value.openMenu():t>=d.value/3*2&&i.value.scrollToY(m.value+500,0,!0)},v=e.ref({}),w=({chapter_name:e,chapter_n:t,curentImgNum:o,totalImage:i})=>{c.value=t,h.value=e,v.value={curentImgNum:o,totalImage:i}},S=async e=>{c.value=e.chapter_n;const t=await Qo(a.value,c.value,r.value);if(1==t.data.status){const e=t.data.data.imgUrlList.length;await i.value.reload([t.data.data]),e<3&&0!=e&&await S()}},T=e=>{m.value=e},b=()=>{u.value.reverse()};return(t,o)=>{const a=D(e.resolveDynamicComponent("z-paging"),Vo);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(Ki,{onChangeChapter:S,onReverseChapter:b,currentChapter_n:c.value,chapterList:u.value,title:h.value,ref_key:"popMenu",ref:l},null,8,["currentChapter_n","chapterList","title"]),e.createElementVNode("view",{class:"page",onClick:e.withModifiers(y,["stop"])},[e.createVNode(Ji,{zIndex:s.value?9:0,chapterImageInfo:v.value},null,8,["zIndex","chapterImageInfo"]),e.createVNode(a,{fixed:!1,onScrollTopChange:T,"lower-threshold":"500px","default-page-size":3,onScrolltoupper:g,"cell-height-mode":"dynamic","refresher-enabled":!1,ref_key:"virtualList",ref:i,modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=e=>n.value=e),"use-virtual-list":"",onQuery:p},{loading:e.withCtx((()=>[e.createVNode(ui)])),default:e.withCtx((()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((t,o)=>(e.openBlock(),e.createBlock(Qi,{onChangeChapterInfo:w,id:`zp-id-${null==t?void 0:t.zp_index}`,key:null==t?void 0:t.zp_index,chapter:t},null,8,["id","chapter"])))),128))])),_:1},8,["modelValue"])])],64)}}},[["__scopeId","data-v-5eb00f0d"]]);__definePage("pages/home/index",li),__definePage("components/home/mid-area/mid-area",lt),__definePage("pages/nove-detail/index",di),__definePage("pages/chapters/chapters",mi),__definePage("pages/read/read",Di),__definePage("pages/bookshelf/bookshelf",Hi),__definePage("pages/class/class",Oi),__definePage("pages/user/user",ji),__definePage("pages/search/search",Gi),__definePage("pages/comic-detail/comic-detail",Xi);const qi={__name:"App",setup:e=>(O((()=>{plus.screen.lockOrientation("portrait-primary")})),$((()=>{Jo.closeDatabase()})),()=>{})},ea=new ot({state:()=>({midAreaHeight:0,currentNovelDetail:{},currentNovelChapters:[]}),mutations:{setMidAreaHeight(e,t){e.midAreaHeight=t},setCurrentNovelDetail(e,t){e.currentNovelDetail=t},setCurrentNovelChapters(e,t){e.currentNovelChapters=t}}});const{app:ta,Vuex:oa,Pinia:ia}=function(){const t=e.createVueApp(qi);return t.use(ea),{app:t,store:ea}}();uni.Vuex=oa,uni.Pinia=ia,ta.provide("__globalStyles",__uniConfig.styles),ta._component.mpType="app",ta._component.render=()=>{},ta.mount("#app")}(Vue);

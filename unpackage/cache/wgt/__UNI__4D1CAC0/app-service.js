if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((o=>t.resolve(e()).then((()=>o))),(o=>t.resolve(e()).then((()=>{throw o}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";var t,o,a,i,n,l,r,s,c,h,u,d,m,p,g,f,y,v,w,S,k,b,T,C,N,x,B,V,E,I;const _={};function R(e,t,...o){uni.__log__?uni.__log__(e,t,...o):console[e].apply(console,[...o,t])}function L(e,t){return"string"==typeof e?t:e}const z=t=>(o,a=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,o,a)},M=z("onShow"),A=z("onHide"),D=z("onLaunch"),P=z("onLoad"),F=z("onUnload"),H=z("onBackPress");function O(e){return!!e&&($(e)&&(e=+e),!/Invalid|NaN/.test(new Date(e).toString()))}function $(e){return/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(e)}function j(e){switch(typeof e){case"undefined":return!0;case"string":if(0==e.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!e)return!0;break;case"number":if(0===e||isNaN(e))return!0;break;case"object":if(null===e||0===e.length)return!0;for(const t in e)return!1;return!0}return!1}function U(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function W(e){return"[object Object]"===Object.prototype.toString.call(e)}function Z(e){return"function"==typeof e}const G=Object.freeze(Object.defineProperty({__proto__:null,amount:function(e){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(e)},array:U,carNo:function(e){const t=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/,o=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;return 7===e.length?o.test(e):8===e.length&&t.test(e)},chinese:function(e){return/^[\u4e00-\u9fa5]+$/gi.test(e)},code:function(e,t=6){return new RegExp(`^\\d{${t}}$`).test(e)},contains:function(e,t){return e.indexOf(t)>=0},date:O,dateISO:function(e){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},digits:function(e){return/^\d+$/.test(e)},email:function(e){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(e)},empty:j,enOrNum:function(e){return/^[0-9a-zA-Z]*$/g.test(e)},func:Z,idCard:function(e){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)},image:function(e){const t=e.split("?")[0];return/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i.test(t)},jsonString:function(e){if("string"==typeof e)try{const t=JSON.parse(e);return!("object"!=typeof t||!t)}catch(t){return!1}return!1},landline:function(e){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(e)},letter:function(e){return/^[a-zA-Z]*$/.test(e)},mobile:function(e){return/^1([3589]\d|4[5-9]|6[1-2,4-7]|7[0-8])\d{8}$/.test(e)},number:$,object:W,promise:function(e){return W(e)&&Z(e.then)&&Z(e.catch)},range:function(e,t){return e>=t[0]&&e<=t[1]},rangeLength:function(e,t){return e.length>=t[0]&&e.length<=t[1]},regExp:function(e){return e&&"[object RegExp]"===Object.prototype.toString.call(e)},string:function(e){return"string"==typeof e},url:function(e){return/^((https|http|ftp|rtsp|mms):\/\/)(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\/?)$/.test(e)},video:function(e){return/\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv|m3u8)/i.test(e)}},Symbol.toStringTag,{value:"Module"}));function Y(e,t=15){return+parseFloat(Number(e).toPrecision(t))}function Q(e){const t=e.toString().split(/[eE]/),o=(t[0].split(".")[1]||"").length-+(t[1]||0);return o>0?o:0}function J(e){if(-1===e.toString().indexOf("e"))return Number(e.toString().replace(".",""));const t=Q(e);return t>0?Y(Number(e)*Math.pow(10,t)):Number(e)}function K(e){(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&R("warn","at uni_modules/uv-ui-tools/libs/function/digit.js:45",`${e} 超出了精度限制，结果可能不正确`)}function X(e,t){const[o,a,...i]=e;let n=t(o,a);return i.forEach((e=>{n=t(n,e)})),n}function q(...e){if(e.length>2)return X(e,q);const[t,o]=e,a=J(t),i=J(o),n=Q(t)+Q(o),l=a*i;return K(l),l/Math.pow(10,n)}function ee(...e){if(e.length>2)return X(e,ee);const[t,o]=e,a=J(t),i=J(o);return K(a),K(i),q(a/i,Y(Math.pow(10,Q(o)-Q(t))))}function te(e){let t=this.$parent;for(;t;){if(!t.$options||t.$options.name===e)return t;t=t.$parent}return!1}function oe(e,t=new WeakMap){if(null===e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let o;if(e instanceof Date)o=new Date(e.getTime());else if(e instanceof RegExp)o=new RegExp(e);else if(e instanceof Map)o=new Map(Array.from(e,(([e,o])=>[e,oe(o,t)])));else if(e instanceof Set)o=new Set(Array.from(e,(e=>oe(e,t))));else if(Array.isArray(e))o=e.map((e=>oe(e,t)));else if("[object Object]"===Object.prototype.toString.call(e)){o=Object.create(Object.getPrototypeOf(e)),t.set(e,o);for(const[a,i]of Object.entries(e))o[a]=oe(i,t)}else o=Object.assign({},e);return t.set(e,o),o}function ae(e={},t={}){if("object"!=typeof(e=oe(e))||null===e||"object"!=typeof t||null===t)return e;const o=Array.isArray(e)?e.slice():Object.assign({},e);for(const a in t){if(!t.hasOwnProperty(a))continue;const e=t[a],i=o[a];e instanceof Date?o[a]=new Date(e):e instanceof RegExp?o[a]=new RegExp(e):e instanceof Map?o[a]=new Map(e):e instanceof Set?o[a]=new Set(e):o[a]="object"==typeof e&&null!==e?ae(i,e):e}return o}function ie(e){}function ne(e=null,t="yyyy-mm-dd"){let o;o=e?/^\d{10}$/.test(null==e?void 0:e.toString().trim())?new Date(1e3*e):"string"==typeof e&&/^\d+$/.test(e.trim())?new Date(Number(e)):"string"==typeof e&&e.includes("-")&&!e.includes("T")?new Date(e.replace(/-/g,"/")):new Date(e):new Date;const a={y:o.getFullYear().toString(),m:(o.getMonth()+1).toString().padStart(2,"0"),d:o.getDate().toString().padStart(2,"0"),h:o.getHours().toString().padStart(2,"0"),M:o.getMinutes().toString().padStart(2,"0"),s:o.getSeconds().toString().padStart(2,"0")};for(const i in a){const[e]=new RegExp(`${i}+`).exec(t)||[];if(e){const o="y"===i&&2===e.length?2:0;t=t.replace(e,a[i].slice(o))}}return t}function le(e,t="both"){return e=String(e),"both"==t?e.replace(/^\s+|\s+$/g,""):"left"==t?e.replace(/^\s*/,""):"right"==t?e.replace(/(\s*$)/g,""):"all"==t?e.replace(/\s+/g,""):e}function re(e={},t=!0,o="brackets"){const a=t?"?":"",i=[];-1==["indices","brackets","repeat","comma"].indexOf(o)&&(o="brackets");for(const n in e){const t=e[n];if(!(["",void 0,null].indexOf(t)>=0))if(t.constructor===Array)switch(o){case"indices":for(let o=0;o<t.length;o++)i.push(`${n}[${o}]=${t[o]}`);break;case"brackets":default:t.forEach((e=>{i.push(`${n}[]=${e}`)}));break;case"repeat":t.forEach((e=>{i.push(`${n}=${e}`)}));break;case"comma":let e="";t.forEach((t=>{e+=(e?",":"")+t})),i.push(`${n}=${e}`)}else i.push(`${n}=${t}`)}return i.length?a+i.join("&"):""}function se(e,t=0,o=".",a=","){e=`${e}`.replace(/[^0-9+-Ee.]/g,"");const i=isFinite(+e)?+e:0,n=isFinite(+t)?Math.abs(t):0,l=void 0===a?",":a,r=void 0===o?".":o;let s="";s=(n?function(e,t){const o=Math.pow(10,t);let a=ee(Math.round(Math.abs(q(e,o))),o);return e<0&&0!==a&&(a=q(a,-1)),a}(i,n)+"":`${Math.round(i)}`).split(".");const c=/(-?\d+)(\d{3})/;for(;c.test(s[0]);)s[0]=s[0].replace(c,`$1${l}$2`);return(s[1]||"").length<n&&(s[1]=s[1]||"",s[1]+=new Array(n-s[1].length+1).join("0")),s.join(r)}function ce(){var e;const t=getCurrentPages(),o=null==(e=t[t.length-1])?void 0:e.route;return`/${o||""}`}String.prototype.padStart||(String.prototype.padStart=function(e,t=" "){if("[object String]"!==Object.prototype.toString.call(t))throw new TypeError("fillString must be String");const o=this;if(o.length>=e)return String(o);const a=e-o.length;let i=Math.ceil(a/t.length);for(;i>>=1;)t+=t,1===i&&(t+=t);return t.slice(0,a)+o});const he=Object.freeze(Object.defineProperty({__proto__:null,$parent:te,addStyle:function(e,t="object"){if(j(e)||"object"==typeof e&&"object"===t||"string"===t&&"string"==typeof e)return e;if("object"===t){const t=(e=le(e)).split(";"),o={};for(let e=0;e<t.length;e++)if(t[e]){const a=t[e].split(":");o[le(a[0])]=le(a[1])}return o}let o="";for(const a in e){o+=`${a.replace(/([A-Z])/g,"-$1").toLowerCase()}:${e[a]};`}return le(o)},addUnit:function(e="auto",t=((e=>{return null==(e=null==(t=null==uni?void 0:uni.$uv)?void 0:t.config)?void 0:e.unit;var t})()?(e=>{return null==(e=null==(t=null==uni?void 0:uni.$uv)?void 0:t.config)?void 0:e.unit;var t})():"px")){return $(e=String(e))?`${e}${t}`:e},deepClone:oe,deepMerge:ae,error:ie,formValidate:function(e,t){const o=te.call(e,"uv-form-item"),a=te.call(e,"uv-form");o&&a&&a.validateField(o.prop,(()=>{}),t)},getDuration:function(e,t=!0){const o=parseInt(e);return t?/s$/.test(e)?e:e>30?`${e}ms`:`${e}s`:/ms$/.test(e)?o:/s$/.test(e)?o>30?o:1e3*o:o},getHistoryPage:function(e=0){const t=getCurrentPages();return t[t.length-1+e]},getProperty:function(e,t){if(e){if("string"!=typeof t||""===t)return"";if(-1!==t.indexOf(".")){const o=t.split(".");let a=e[o[0]]||{};for(let e=1;e<o.length;e++)a&&(a=a[o[e]]);return a}return e[t]}},getPx:function(e,t=!1){return $(e)?t?`${e}px`:Number(e):/(rpx|upx)$/.test(e)?t?`${uni.upx2px(parseInt(e))}px`:Number(uni.upx2px(parseInt(e))):t?`${parseInt(e)}px`:parseInt(e)},guid:function(e=32,t=!0,o=null){const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(o=o||a.length,e)for(let n=0;n<e;n++)i[n]=a[0|Math.random()*o];else{let e;i[8]=i[13]=i[18]=i[23]="-",i[14]="4";for(let t=0;t<36;t++)i[t]||(e=0|16*Math.random(),i[t]=a[19==t?3&e|8:e])}return t?(i.shift(),`u${i.join("")}`):i.join("")},os:function(){return uni.getSystemInfoSync().platform.toLowerCase()},padZero:function(e){return`00${e}`.slice(-2)},page:ce,pages:function(){return getCurrentPages()},priceFormat:se,queryParams:re,random:function(e,t){if(e>=0&&t>0&&t>=e){const o=t-e+1;return Math.floor(Math.random()*o+e)}return 0},randomArray:function(e=[]){return e.sort((()=>Math.random()-.5))},range:function(e=0,t=0,o=0){return Math.max(e,Math.min(t,Number(o)))},setConfig:function({props:e={},config:t={},color:o={},zIndex:a={}}){const{deepMerge:i}=uni.$uv;uni.$uv.config=i(uni.$uv.config,t),uni.$uv.props=i(uni.$uv.props,e),uni.$uv.color=i(uni.$uv.color,o),uni.$uv.zIndex=i(uni.$uv.zIndex,a)},setProperty:function(e,t,o){if(!e)return;const a=function(e,t,o){if(1!==t.length)for(;t.length>1;){const i=t[0];e[i]&&"object"==typeof e[i]||(e[i]={}),t.shift(),a(e[i],t,o)}else e[t[0]]=o};if("string"!=typeof t||""===t);else if(-1!==t.indexOf(".")){const i=t.split(".");a(e,i,o)}else e[t]=o},sleep:function(e=30){return new Promise((t=>{setTimeout((()=>{t()}),e)}))},sys:function(){return uni.getSystemInfoSync()},timeFormat:ne,timeFrom:function(e=null,t="yyyy-mm-dd"){null==e&&(e=Number(new Date)),10==(e=parseInt(e)).toString().length&&(e*=1e3);let o=(new Date).getTime()-e;o=parseInt(o/1e3);let a="";switch(!0){case o<300:a="刚刚";break;case o>=300&&o<3600:a=`${parseInt(o/60)}分钟前`;break;case o>=3600&&o<86400:a=`${parseInt(o/3600)}小时前`;break;case o>=86400&&o<2592e3:a=`${parseInt(o/86400)}天前`;break;default:a=!1===t?o>=2592e3&&o<31536e3?`${parseInt(o/2592e3)}个月前`:`${parseInt(o/31536e3)}年前`:ne(e,t)}return a},toast:function(e,t=2e3){uni.showToast({title:String(e),icon:"none",duration:t})},trim:le,type2icon:function(e="success",t=!1){-1==["primary","info","error","warning","success"].indexOf(e)&&(e="success");let o="";switch(e){case"primary":case"info":o="info-circle";break;case"error":o="close-circle";break;case"warning":o="error-circle";break;default:o="checkmark-circle"}return t&&(o+="-fill"),o}},Symbol.toStringTag,{value:"Module"}));const ue=(new class{constructor(){this.config={type:"navigateTo",url:"",delta:1,params:{},animationType:"pop-in",animationDuration:300,intercept:!1,events:{}},this.route=this.route.bind(this)}addRootPath(e){return"/"===e[0]?e:`/${e}`}mixinParam(e,t){e=e&&this.addRootPath(e);let o="";return/.*\/.*\?.*=.*/.test(e)?(o=re(t,!1),e+`&${o}`):(o=re(t),e+o)}async route(e={},t={}){let o={};if("string"==typeof e?(o.url=this.mixinParam(e,t),o.type="navigateTo"):(o=ae(this.config,e),o.url=this.mixinParam(e.url,e.params)),o.url!==ce())if(t.intercept&&(o.intercept=t.intercept),o.params=t,o=ae(this.config,o),"function"==typeof o.intercept){await new Promise(((e,t)=>{o.intercept(o,e)}))&&this.openPage(o)}else this.openPage(o)}openPage(e){const{url:t,type:o,delta:a,animationType:i,animationDuration:n,events:l}=e;"navigateTo"!=e.type&&"to"!=e.type||uni.navigateTo({url:t,animationType:i,animationDuration:n,events:l}),"redirectTo"!=e.type&&"redirect"!=e.type||uni.redirectTo({url:t}),"switchTab"!=e.type&&"tab"!=e.type||uni.switchTab({url:t}),"reLaunch"!=e.type&&"launch"!=e.type||uni.reLaunch({url:t}),"navigateBack"!=e.type&&"back"!=e.type||uni.navigateBack({delta:a})}}).route;let de,me=null;function pe(e,t=500,o=!1){if(null!==me&&clearTimeout(me),o){const o=!me;me=setTimeout((()=>{me=null}),t),o&&"function"==typeof e&&e()}else me=setTimeout((()=>{"function"==typeof e&&e()}),t)}function ge(e,t=500,o=!0){o?de||(de=!0,"function"==typeof e&&e(),setTimeout((()=>{de=!1}),t)):de||(de=!0,setTimeout((()=>{de=!1,"function"==typeof e&&e()}),t))}const fe={props:{customStyle:{type:[Object,String],default:()=>({})},customClass:{type:String,default:""},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"}},data:()=>({}),onLoad(){this.$uv.getRect=this.$uvGetRect},created(){this.$uv.getRect=this.$uvGetRect},computed:{$uv(){var e,t;return{...he,test:G,route:ue,debounce:pe,throttle:ge,unit:null==(t=null==(e=null==uni?void 0:uni.$uv)?void 0:e.config)?void 0:t.unit}},bem:()=>function(e,t,o){const a=`uv-${e}--`,i={};return t&&t.map((e=>{i[a+this[e]]=!0})),o&&o.map((e=>{this[e]?i[a+e]=this[e]:delete i[a+e]})),Object.keys(i)}},methods:{openPage(e="url"){const t=this[e];t&&uni[this.linkType]({url:t})},$uvGetRect(e,t){return new Promise((o=>{uni.createSelectorQuery().in(this)[t?"selectAll":"select"](e).boundingClientRect((e=>{t&&Array.isArray(e)&&e.length&&o(e),!t&&e&&o(e)})).exec()}))},getParentData(e=""){this.parent||(this.parent={}),this.parent=this.$uv.$parent.call(this,e),this.parent.children&&-1===this.parent.children.indexOf(this)&&this.parent.children.push(this),this.parent&&this.parentData&&Object.keys(this.parentData).map((e=>{this.parentData[e]=this.parent[e]}))},preventEvent(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation()},noop(e){this.preventEvent(e)}},onReachBottom(){uni.$emit("uvOnReachBottom")},beforeDestroy(){if(this.parent&&U(this.parent.children)){const e=this.parent.children;e.map(((t,o)=>{t===this&&e.splice(o,1)}))}},unmounted(){if(this.parent&&U(this.parent.children)){const e=this.parent.children;e.map(((t,o)=>{t===this&&e.splice(o,1)}))}}},ye={"uvicon-level":"e68f","uvicon-checkbox-mark":"e659","uvicon-folder":"e694","uvicon-movie":"e67c","uvicon-star-fill":"e61e","uvicon-star":"e618","uvicon-phone-fill":"e6ac","uvicon-phone":"e6ba","uvicon-apple-fill":"e635","uvicon-backspace":"e64d","uvicon-attach":"e640","uvicon-empty-data":"e671","uvicon-empty-address":"e68a","uvicon-empty-favor":"e662","uvicon-empty-car":"e657","uvicon-empty-order":"e66b","uvicon-empty-list":"e672","uvicon-empty-search":"e677","uvicon-empty-permission":"e67d","uvicon-empty-news":"e67e","uvicon-empty-history":"e685","uvicon-empty-coupon":"e69b","uvicon-empty-page":"e60e","uvicon-empty-wifi-off":"e6cc","uvicon-reload":"e627","uvicon-order":"e695","uvicon-server-man":"e601","uvicon-search":"e632","uvicon-more-dot-fill":"e66f","uvicon-scan":"e631","uvicon-map":"e665","uvicon-map-fill":"e6a8","uvicon-tags":"e621","uvicon-tags-fill":"e613","uvicon-eye":"e664","uvicon-eye-fill":"e697","uvicon-eye-off":"e69c","uvicon-eye-off-outline":"e688","uvicon-mic":"e66d","uvicon-mic-off":"e691","uvicon-calendar":"e65c","uvicon-trash":"e623","uvicon-trash-fill":"e6ce","uvicon-play-left":"e6bf","uvicon-play-right":"e6b3","uvicon-minus":"e614","uvicon-plus":"e625","uvicon-info-circle":"e69f","uvicon-info-circle-fill":"e6a7","uvicon-question-circle":"e622","uvicon-question-circle-fill":"e6bc","uvicon-close":"e65a","uvicon-checkmark":"e64a","uvicon-checkmark-circle":"e643","uvicon-checkmark-circle-fill":"e668","uvicon-setting":"e602","uvicon-setting-fill":"e6d0","uvicon-heart":"e6a2","uvicon-heart-fill":"e68b","uvicon-camera":"e642","uvicon-camera-fill":"e650","uvicon-more-circle":"e69e","uvicon-more-circle-fill":"e684","uvicon-chat":"e656","uvicon-chat-fill":"e63f","uvicon-bag":"e647","uvicon-error-circle":"e66e","uvicon-error-circle-fill":"e655","uvicon-close-circle":"e64e","uvicon-close-circle-fill":"e666","uvicon-share":"e629","uvicon-share-fill":"e6bb","uvicon-share-square":"e6c4","uvicon-shopping-cart":"e6cb","uvicon-shopping-cart-fill":"e630","uvicon-bell":"e651","uvicon-bell-fill":"e604","uvicon-list":"e690","uvicon-list-dot":"e6a9","uvicon-zhifubao-circle-fill":"e617","uvicon-weixin-circle-fill":"e6cd","uvicon-weixin-fill":"e620","uvicon-qq-fill":"e608","uvicon-qq-circle-fill":"e6b9","uvicon-moments-circel-fill":"e6c2","uvicon-moments":"e6a0","uvicon-car":"e64f","uvicon-car-fill":"e648","uvicon-warning-fill":"e6c7","uvicon-warning":"e6c1","uvicon-clock-fill":"e64b","uvicon-clock":"e66c","uvicon-edit-pen":"e65d","uvicon-edit-pen-fill":"e679","uvicon-email":"e673","uvicon-email-fill":"e683","uvicon-minus-circle":"e6a5","uvicon-plus-circle":"e603","uvicon-plus-circle-fill":"e611","uvicon-file-text":"e687","uvicon-file-text-fill":"e67f","uvicon-pushpin":"e6d1","uvicon-pushpin-fill":"e6b6","uvicon-grid":"e68c","uvicon-grid-fill":"e698","uvicon-play-circle":"e6af","uvicon-play-circle-fill":"e62a","uvicon-pause-circle-fill":"e60c","uvicon-pause":"e61c","uvicon-pause-circle":"e696","uvicon-gift-fill":"e6b0","uvicon-gift":"e680","uvicon-kefu-ermai":"e660","uvicon-server-fill":"e610","uvicon-coupon-fill":"e64c","uvicon-coupon":"e65f","uvicon-integral":"e693","uvicon-integral-fill":"e6b1","uvicon-home-fill":"e68e","uvicon-home":"e67b","uvicon-account":"e63a","uvicon-account-fill":"e653","uvicon-thumb-down-fill":"e628","uvicon-thumb-down":"e60a","uvicon-thumb-up":"e612","uvicon-thumb-up-fill":"e62c","uvicon-lock-fill":"e6a6","uvicon-lock-open":"e68d","uvicon-lock-opened-fill":"e6a1","uvicon-lock":"e69d","uvicon-red-packet":"e6c3","uvicon-photo-fill":"e6b4","uvicon-photo":"e60d","uvicon-volume-off-fill":"e6c8","uvicon-volume-off":"e6bd","uvicon-volume-fill":"e624","uvicon-volume":"e605","uvicon-download":"e670","uvicon-arrow-up-fill":"e636","uvicon-arrow-down-fill":"e638","uvicon-play-left-fill":"e6ae","uvicon-play-right-fill":"e6ad","uvicon-arrow-downward":"e634","uvicon-arrow-leftward":"e63b","uvicon-arrow-rightward":"e644","uvicon-arrow-upward":"e641","uvicon-arrow-down":"e63e","uvicon-arrow-right":"e63c","uvicon-arrow-left":"e646","uvicon-arrow-up":"e633","uvicon-skip-back-left":"e6c5","uvicon-skip-forward-right":"e61f","uvicon-arrow-left-double":"e637","uvicon-man":"e675","uvicon-woman":"e626","uvicon-en":"e6b8","uvicon-twitte":"e607","uvicon-twitter-circle-fill":"e6cf"},ve=(e,t)=>{const o=e.__vccOpts||e;for(const[a,i]of t)o[a]=i;return o};const we=ve({name:"uv-icon",emits:["click"],mixins:[_,fe,{props:{name:{type:String,default:""},color:{type:String,default:"#606266"},size:{type:[String,Number],default:"16px"},bold:{type:Boolean,default:!1},index:{type:[String,Number],default:null},hoverClass:{type:String,default:""},customPrefix:{type:String,default:"uvicon"},label:{type:[String,Number],default:""},labelPos:{type:String,default:"right"},labelSize:{type:[String,Number],default:"15px"},labelColor:{type:String,default:"#606266"},space:{type:[String,Number],default:"3px"},imgMode:{type:String,default:"aspectFit"},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},top:{type:[String,Number],default:0},stop:{type:Boolean,default:!1},...null==(o=null==(t=uni.$uv)?void 0:t.props)?void 0:o.icon}}],data:()=>({colorType:["primary","success","info","error","warning"]}),computed:{uClasses(){let e=[];return e.push(this.customPrefix),e.push(this.customPrefix+"-"+this.name),this.color&&this.colorType.includes(this.color)&&e.push("uv-icon__icon--"+this.color),e},iconStyle(){let e={};return e={fontSize:this.$uv.addUnit(this.size),lineHeight:this.$uv.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:this.$uv.addUnit(this.top)},this.color&&!this.colorType.includes(this.color)&&(e.color=this.color),e},isImg(){const e=this.name.indexOf("data:")>-1&&this.name.indexOf("base64")>-1;return-1!==this.name.indexOf("/")||e},imgStyle(){let e={};return e.width=this.width?this.$uv.addUnit(this.width):this.$uv.addUnit(this.size),e.height=this.height?this.$uv.addUnit(this.height):this.$uv.addUnit(this.size),e},icon(){const e=ye["uvicon-"+this.name];return e?unescape(`%u${e}`):["uvicon"].indexOf(this.customPrefix)>-1?this.name:""}},methods:{clickHandler(e){this.$emit("click",this.index),this.stop&&this.preventEvent(e)}}},[["render",function(t,o,a,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uv-icon",["uv-icon--"+t.labelPos]]),onClick:o[0]||(o[0]=(...e)=>l.clickHandler&&l.clickHandler(...e))},[l.isImg?(e.openBlock(),e.createElementBlock("image",{key:0,class:"uv-icon__img",src:t.name,mode:t.imgMode,style:e.normalizeStyle([l.imgStyle,t.$uv.addStyle(t.customStyle)])},null,12,["src","mode"])):(e.openBlock(),e.createElementBlock("text",{key:1,class:e.normalizeClass(["uv-icon__icon",l.uClasses]),style:e.normalizeStyle([l.iconStyle,t.$uv.addStyle(t.customStyle)]),"hover-class":t.hoverClass},e.toDisplayString(l.icon),15,["hover-class"])),""!==t.label?(e.openBlock(),e.createElementBlock("text",{key:2,class:"uv-icon__label",style:e.normalizeStyle({color:t.labelColor,fontSize:t.$uv.addUnit(t.labelSize),marginLeft:"right"==t.labelPos?t.$uv.addUnit(t.space):0,marginTop:"bottom"==t.labelPos?t.$uv.addUnit(t.space):0,marginRight:"left"==t.labelPos?t.$uv.addUnit(t.space):0,marginBottom:"top"==t.labelPos?t.$uv.addUnit(t.space):0})},e.toDisplayString(t.label),5)):e.createCommentVNode("",!0)],2)}],["__scopeId","data-v-eab170a5"]]),Se=ve({__name:"top-tabbar",props:{value:{type:Number,default:0},id:{type:String,default:""},tabBarList:{type:Array,default:()=>[]}},emits:["change"],setup(t,{emit:o}){const a=o;return(o,i)=>(e.openBlock(),e.createElementBlock("view",{id:t.id,class:"top-tapbar"},[e.createElementVNode("view",{class:"l"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.tabBarList,((o,i)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item",t.value==i?"active":""]),key:i,onClick:e=>{a("change",{name:o,index:i})}},e.toDisplayString(o),11,["onClick"])))),128))])],8,["id"]))}},[["__scopeId","data-v-e1b87eae"]]),ke=()=>new Promise(((e,t)=>{uni.getSystemInfo({success(t){e(t)}})}));function be(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}const Te="function"==typeof Proxy;class Ce{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const o={};if(e.settings)for(const l in e.settings){const t=e.settings[l];o[l]=t.defaultValue}const a=`__vue-devtools-plugin-settings__${e.id}`;let i={...o};try{const e=localStorage.getItem(a),t=JSON.parse(e);Object.assign(i,t)}catch(n){}this.fallbacks={getSettings:()=>i,setSettings(e){try{localStorage.setItem(a,JSON.stringify(e))}catch(n){}i=e}},t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((o=>{this.targetQueue.push({method:t,args:e,resolve:o})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function Ne(e,t){const o=be(),a=be().__VUE_DEVTOOLS_GLOBAL_HOOK__,i=Te&&e.enableEarlyProxy;if(!a||!o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&i){const n=i?new Ce(e,a):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:n}),n&&t(n.proxiedTarget)}else a.emit("devtools-plugin:setup",e,t)}
/*!
   * vuex v4.1.0
   * (c) 2022 Evan You
   * @license MIT
   */var xe="store";function Be(t){return void 0===t&&(t=null),e.inject(null!==t?t:xe)}function Ve(e,t){Object.keys(e).forEach((function(o){return t(e[o],o)}))}function Ee(e,t,o){return t.indexOf(e)<0&&(o&&o.prepend?t.unshift(e):t.push(e)),function(){var o=t.indexOf(e);o>-1&&t.splice(o,1)}}function Ie(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var o=e.state;Re(e,o,[],e._modules.root,!0),_e(e,o,t)}function _e(t,o,a){var i=t._state,n=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var l=t._wrappedGetters,r={},s={},c=e.effectScope(!0);c.run((function(){Ve(l,(function(o,a){r[a]=function(e,t){return function(){return e(t)}}(o,t),s[a]=e.computed((function(){return r[a]()})),Object.defineProperty(t.getters,a,{get:function(){return s[a].value},enumerable:!0})}))})),t._state=e.reactive({data:o}),t._scope=c,t.strict&&function(t){e.watch((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),i&&a&&t._withCommit((function(){i.data=null})),n&&n.stop()}function Re(e,t,o,a,i){var n=!o.length,l=e._modules.getNamespace(o);if(a.namespaced&&(e._modulesNamespaceMap[l],e._modulesNamespaceMap[l]=a),!n&&!i){var r=ze(t,o.slice(0,-1)),s=o[o.length-1];e._withCommit((function(){r[s]=a.state}))}var c=a.context=function(e,t,o){var a=""===t,i={dispatch:a?e.dispatch:function(o,a,i){var n=Me(o,a,i),l=n.payload,r=n.options,s=n.type;return r&&r.root||(s=t+s),e.dispatch(s,l)},commit:a?e.commit:function(o,a,i){var n=Me(o,a,i),l=n.payload,r=n.options,s=n.type;r&&r.root||(s=t+s),e.commit(s,l,r)}};return Object.defineProperties(i,{getters:{get:a?function(){return e.getters}:function(){return Le(e,t)}},state:{get:function(){return ze(e.state,o)}}}),i}(e,l,o);a.forEachMutation((function(t,o){!function(e,t,o,a){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){o.call(e,a.state,t)}))}(e,l+o,t,c)})),a.forEachAction((function(t,o){var a=t.root?o:l+o,i=t.handler||t;!function(e,t,o,a){(e._actions[t]||(e._actions[t]=[])).push((function(t){var i,n=o.call(e,{dispatch:a.dispatch,commit:a.commit,getters:a.getters,state:a.state,rootGetters:e.getters,rootState:e.state},t);return(i=n)&&"function"==typeof i.then||(n=Promise.resolve(n)),e._devtoolHook?n.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):n}))}(e,a,i,c)})),a.forEachGetter((function(t,o){!function(e,t,o,a){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return o(a.state,a.getters,e.state,e.getters)}}(e,l+o,t,c)})),a.forEachChild((function(a,n){Re(e,t,o.concat(n),a,i)}))}function Le(e,t){if(!e._makeLocalGettersCache[t]){var o={},a=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,a)===t){var n=i.slice(a);Object.defineProperty(o,n,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=o}return e._makeLocalGettersCache[t]}function ze(e,t){return t.reduce((function(e,t){return e[t]}),e)}function Me(e,t,o){var a;return null!==(a=e)&&"object"==typeof a&&e.type&&(o=t,t=e,e=e.type),{type:e,payload:t,options:o}}var Ae="vuex:mutations",De="vuex:actions",Pe="vuex",Fe=0;function He(e,t){Ne({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(o){o.addTimelineLayer({id:Ae,label:"Vuex Mutations",color:Oe}),o.addTimelineLayer({id:De,label:"Vuex Actions",color:Oe}),o.addInspector({id:Pe,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),o.on.getInspectorTree((function(o){if(o.app===e&&o.inspectorId===Pe)if(o.filter){var a=[];We(a,t._modules.root,o.filter,""),o.rootNodes=a}else o.rootNodes=[Ue(t._modules.root,"")]})),o.on.getInspectorState((function(o){if(o.app===e&&o.inspectorId===Pe){var a=o.nodeId;Le(t,a),o.state=function(e,t,o){t="root"===o?t:t[o];var a=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(a.length){var n=function(e){var t={};return Object.keys(e).forEach((function(o){var a=o.split("/");if(a.length>1){var i=t,n=a.pop();a.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[n]=Ze((function(){return e[o]}))}else t[o]=Ze((function(){return e[o]}))})),t}(t);i.getters=Object.keys(n).map((function(e){return{key:e.endsWith("/")?je(e):e,editable:!1,value:Ze((function(){return n[e]}))}}))}return i}((i=t._modules,(l=(n=a).split("/").filter((function(e){return e}))).reduce((function(e,t,o){var a=e[t];if(!a)throw new Error('Missing module "'+t+'" for path "'+n+'".');return o===l.length-1?a:a._children}),"root"===n?i:i.root._children)),"root"===a?t.getters:t._makeLocalGettersCache,a)}var i,n,l})),o.on.editInspectorState((function(o){if(o.app===e&&o.inspectorId===Pe){var a=o.nodeId,i=o.path;"root"!==a&&(i=a.split("/").filter(Boolean).concat(i)),t._withCommit((function(){o.set(t._state.data,i,o.state.value)}))}})),t.subscribe((function(e,t){var a={};e.payload&&(a.payload=e.payload),a.state=t,o.notifyComponentUpdate(),o.sendInspectorTree(Pe),o.sendInspectorState(Pe),o.addTimelineEvent({layerId:Ae,event:{time:Date.now(),title:e.type,data:a}})})),t.subscribeAction({before:function(e,t){var a={};e.payload&&(a.payload=e.payload),e._id=Fe++,e._time=Date.now(),a.state=t,o.addTimelineEvent({layerId:De,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:a}})},after:function(e,t){var a={},i=Date.now()-e._time;a.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(a.payload=e.payload),a.state=t,o.addTimelineEvent({layerId:De,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:a}})}})}))}var Oe=8702998,$e={label:"namespaced",textColor:16777215,backgroundColor:6710886};function je(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function Ue(e,t){return{id:t||"root",label:je(t),tags:e.namespaced?[$e]:[],children:Object.keys(e._children).map((function(o){return Ue(e._children[o],t+o+"/")}))}}function We(e,t,o,a){a.includes(o)&&e.push({id:a||"root",label:a.endsWith("/")?a.slice(0,a.length-1):a||"Root",tags:t.namespaced?[$e]:[]}),Object.keys(t._children).forEach((function(i){We(e,t._children[i],o,a+i+"/")}))}function Ze(e){try{return e()}catch(t){return t}}var Ge=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var o=e.state;this.state=("function"==typeof o?o():o)||{}},Ye={namespaced:{configurable:!0}};Ye.namespaced.get=function(){return!!this._rawModule.namespaced},Ge.prototype.addChild=function(e,t){this._children[e]=t},Ge.prototype.removeChild=function(e){delete this._children[e]},Ge.prototype.getChild=function(e){return this._children[e]},Ge.prototype.hasChild=function(e){return e in this._children},Ge.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Ge.prototype.forEachChild=function(e){Ve(this._children,e)},Ge.prototype.forEachGetter=function(e){this._rawModule.getters&&Ve(this._rawModule.getters,e)},Ge.prototype.forEachAction=function(e){this._rawModule.actions&&Ve(this._rawModule.actions,e)},Ge.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ve(this._rawModule.mutations,e)},Object.defineProperties(Ge.prototype,Ye);var Qe=function(e){this.register([],e,!1)};function Je(e,t,o){if(t.update(o),o.modules)for(var a in o.modules){if(!t.getChild(a))return;Je(e.concat(a),t.getChild(a),o.modules[a])}}Qe.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},Qe.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,o){return e+((t=t.getChild(o)).namespaced?o+"/":"")}),"")},Qe.prototype.update=function(e){Je([],this.root,e)},Qe.prototype.register=function(e,t,o){var a=this;void 0===o&&(o=!0);var i=new Ge(t,o);0===e.length?this.root=i:this.get(e.slice(0,-1)).addChild(e[e.length-1],i);t.modules&&Ve(t.modules,(function(t,i){a.register(e.concat(i),t,o)}))},Qe.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),o=e[e.length-1],a=t.getChild(o);a&&a.runtime&&t.removeChild(o)},Qe.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),o=e[e.length-1];return!!t&&t.hasChild(o)};var Ke=function(e){var t=this;void 0===e&&(e={});var o=e.plugins;void 0===o&&(o=[]);var a=e.strict;void 0===a&&(a=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Qe(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var n=this,l=this.dispatch,r=this.commit;this.dispatch=function(e,t){return l.call(n,e,t)},this.commit=function(e,t,o){return r.call(n,e,t,o)},this.strict=a;var s=this._modules.root.state;Re(this,s,[],this._modules.root),_e(this,s),o.forEach((function(e){return e(t)}))},Xe={state:{configurable:!0}};Ke.prototype.install=function(e,t){e.provide(t||xe,this),e.config.globalProperties.$store=this,void 0!==this._devtools&&this._devtools&&He(e,this)},Xe.state.get=function(){return this._state.data},Xe.state.set=function(e){},Ke.prototype.commit=function(e,t,o){var a=this,i=Me(e,t,o),n=i.type,l=i.payload,r={type:n,payload:l},s=this._mutations[n];s&&(this._withCommit((function(){s.forEach((function(e){e(l)}))})),this._subscribers.slice().forEach((function(e){return e(r,a.state)})))},Ke.prototype.dispatch=function(e,t){var o=this,a=Me(e,t),i=a.type,n=a.payload,l={type:i,payload:n},r=this._actions[i];if(r){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(l,o.state)}))}catch(c){}var s=r.length>1?Promise.all(r.map((function(e){return e(n)}))):r[0](n);return new Promise((function(e,t){s.then((function(t){try{o._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(l,o.state)}))}catch(c){}e(t)}),(function(e){try{o._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(l,o.state,e)}))}catch(c){}t(e)}))}))}},Ke.prototype.subscribe=function(e,t){return Ee(e,this._subscribers,t)},Ke.prototype.subscribeAction=function(e,t){return Ee("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},Ke.prototype.watch=function(t,o,a){var i=this;return e.watch((function(){return t(i.state,i.getters)}),o,Object.assign({},a))},Ke.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},Ke.prototype.registerModule=function(e,t,o){void 0===o&&(o={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),Re(this,this.state,e,this._modules.get(e),o.preserveState),_e(this,this.state)},Ke.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete ze(t.state,e.slice(0,-1))[e[e.length-1]]})),Ie(this)},Ke.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},Ke.prototype.hotUpdate=function(e){this._modules.update(e),Ie(this,!0)},Ke.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Ke.prototype,Xe);const qe=ve({},[["render",function(t,o){return e.openBlock(),e.createElementBlock("view",{class:"loader"},[e.createElementVNode("view",{class:"circle"}),e.createElementVNode("view",{class:"circle"}),e.createElementVNode("view",{class:"circle"}),e.createElementVNode("view",{class:"circle"})])}],["__scopeId","data-v-0600edff"]]);const et=ve({},[["render",function(t,o){return e.openBlock(),e.createElementBlock("div",{"aria-label":"Orange and tan hamster running in a metal wheel",role:"img",class:"wheel-and-hamster"},[e.createElementVNode("div",{class:"wheel"}),e.createElementVNode("div",{class:"hamster"},[e.createElementVNode("div",{class:"hamster__body"},[e.createElementVNode("div",{class:"hamster__head"},[e.createElementVNode("div",{class:"hamster__ear"}),e.createElementVNode("div",{class:"hamster__eye"}),e.createElementVNode("div",{class:"hamster__nose"})]),e.createElementVNode("div",{class:"hamster__limb hamster__limb--fr"}),e.createElementVNode("div",{class:"hamster__limb hamster__limb--fl"}),e.createElementVNode("div",{class:"hamster__limb hamster__limb--br"}),e.createElementVNode("div",{class:"hamster__limb hamster__limb--bl"}),e.createElementVNode("div",{class:"hamster__tail"})])]),e.createElementVNode("div",{class:"spoke"})])}],["__scopeId","data-v-29976b95"]]),tt=ve({__name:"loading",props:{type:{type:String,default:"loading"},animation:{type:Boolean,default:!0}},setup:t=>(o,a)=>(e.openBlock(),e.createElementBlock("view",{class:"loading-container",style:e.normalizeStyle({position:"loading"==t.type?"absolute":"relative"})},["loading"==t.type?(e.openBlock(),e.createBlock(qe,{key:0})):"pulldown"==t.type?(e.openBlock(),e.createBlock(et,{key:1})):e.createCommentVNode("",!0)],4))},[["__scopeId","data-v-df61b3ec"]]),ot=ve({__name:"mid-area",props:{length:{type:Number,required:!0},current:{type:Number,default:0},pageName:{type:String,default:" "},refresh:{type:Boolean,default:!0},height:{type:Number,default:0},background:{type:String,default:"#F6F6F6"}},emits:["pageChange"],setup(t,{emit:o}){Be();const a=e.ref(0),i=e.reactive({x:0,y:0}),n=e.ref(!1),l=e.ref(0),r=e.reactive({x:9,y:0});e.onMounted((async()=>{const e=await ke();a.value=e.screenWidth}));const s=e.computed((()=>({width:a.value*c.length+"px",transform:n.value?`translate(${l.value}px,${r.y}px)`:`translate(${-c.current*a.value}px,${r.y}px)`,transition:n.value?"none":"transform 0.3s"}))),c=t;e.watch((()=>c.current),(e=>{r.x=-c.current*a.value}),{immediate:!0});const h=o,u=e=>{i.x=e.changedTouches[0].pageX,i.y=e.changedTouches[0].pageY},d=e=>{n.value=!1;const t=e.changedTouches[0].pageY-i.y,o=e.changedTouches[0].pageX-i.x;Math.abs(o)-Math.abs(t)<50||(o<-100&&c.current<c.length-1?h("pageChange","r"):o>100&&c.current>0&&h("pageChange","l"))},m=e=>{const t=e.changedTouches[0].pageX-i.x,o=e.changedTouches[0].pageY-i.y;Math.abs(t)-Math.abs(o)<50||t<0&&c.current==c.length-1||t>0&&0==c.current||(n.value=!0,l.value=r.x+t)};return(o,a)=>(e.openBlock(),e.createElementBlock("view",{class:"home-mid",style:e.normalizeStyle({height:`${t.height}px`,background:t.background})},[e.createElementVNode("view",{class:"content",style:e.normalizeStyle(s.value),onTouchstartCapture:u,onTouchmoveCapture:m,onTouchendCapture:d},[e.renderSlot(o.$slots,"default",{},void 0,!0)],36)],4))}},[["__scopeId","data-v-2ec25bce"]]),at=(e,t)=>new Promise(((o,a)=>{uni.createSelectorQuery().in(e.proxy).select(t).boundingClientRect((e=>{o(e)})).exec()}));const it=ve({name:"uv-line",mixins:[_,fe,{props:{color:{type:String,default:"#d6d7d9"},length:{type:[String,Number],default:"100%"},direction:{type:String,default:"row"},hairline:{type:Boolean,default:!0},margin:{type:[String,Number],default:0},dashed:{type:Boolean,default:!1},...null==(i=null==(a=uni.$uv)?void 0:a.props)?void 0:i.line}}],computed:{lineStyle(){const e={};return e.margin=this.margin,"row"===this.direction?(e.borderBottomWidth="1px",e.borderBottomStyle=this.dashed?"dashed":"solid",e.width=this.$uv.addUnit(this.length),this.hairline&&(e.transform="scaleY(0.5)")):(e.borderLeftWidth="1px",e.borderLeftStyle=this.dashed?"dashed":"solid",e.height=this.$uv.addUnit(this.length),this.hairline&&(e.transform="scaleX(0.5)")),e.borderColor=this.color,this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,o,a,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:"uv-line",style:e.normalizeStyle([l.lineStyle])},null,4)}],["__scopeId","data-v-a91e6eb8"]]);function nt(e,t=!0){if((e=String(e).toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){let t="#";for(let o=1;o<4;o+=1)t+=e.slice(o,o+1).concat(e.slice(o,o+1));e=t}const o=[];for(let t=1;t<7;t+=2)o.push(parseInt(`0x${e.slice(t,t+2)}`));return t?`rgb(${o[0]},${o[1]},${o[2]})`:o}if(/^(rgb|RGB)/.test(e)){return e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",").map((e=>Number(e)))}return e}function lt(e){const t=e;if(/^(rgb|RGB)/.test(t)){const e=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");let o="#";for(let t=0;t<e.length;t++){let a=Number(e[t]).toString(16);a=1==String(a).length?`0${a}`:a,"0"===a&&(a+=a),o+=a}return 7!==o.length&&(o=t),o}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;{const e=t.replace(/#/,"").split("");if(6===e.length)return t;if(3===e.length){let t="#";for(let o=0;o<e.length;o+=1)t+=e[o]+e[o];return t}}}const rt=ve({name:"uv-loading-icon",mixins:[_,fe,{props:{show:{type:Boolean,default:!0},color:{type:String,default:"#909193"},textColor:{type:String,default:"#909193"},vertical:{type:Boolean,default:!1},mode:{type:String,default:"spinner"},size:{type:[String,Number],default:24},textSize:{type:[String,Number],default:15},textStyle:{type:Object,default:()=>({})},text:{type:[String,Number],default:""},timingFunction:{type:String,default:"linear"},duration:{type:[String,Number],default:1200},inactiveColor:{type:String,default:""},...null==(l=null==(n=uni.$uv)?void 0:n.props)?void 0:l.loadingIcon}}],data:()=>({array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}),computed:{otherBorderColor(){const e=function(e="rgb(0, 0, 0)",t="rgb(255, 255, 255)",o=10){const a=nt(e,!1),i=a[0],n=a[1],l=a[2],r=nt(t,!1),s=(r[0]-i)/o,c=(r[1]-n)/o,h=(r[2]-l)/o,u=[];for(let d=0;d<o;d++){let a=lt(`rgb(${Math.round(s*d+i)},${Math.round(c*d+n)},${Math.round(h*d+l)})`);0===d&&(a=lt(e)),d===o-1&&(a=lt(t)),u.push(a)}return u}(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:e:"transparent"}},watch:{show(e){}},mounted(){this.init()},methods:{init(){setTimeout((()=>{this.show&&this.addEventListenerToWebview()}),20)},addEventListenerToWebview(){const e=getCurrentPages(),t=e[e.length-1].$getAppWebview();t.addEventListener("hide",(()=>{this.webviewHide=!0})),t.addEventListener("show",(()=>{this.webviewHide=!1}))}}},[["render",function(t,o,a,i,n,l){return t.show?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uv-loading-icon",[t.vertical&&"uv-loading-icon--vertical"]]),style:e.normalizeStyle([t.$uv.addStyle(t.customStyle)])},[n.webviewHide?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uv-loading-icon__spinner",[`uv-loading-icon__spinner--${t.mode}`]]),ref:"ani",style:e.normalizeStyle({color:t.color,width:t.$uv.addUnit(t.size),height:t.$uv.addUnit(t.size),borderTopColor:t.color,borderBottomColor:l.otherBorderColor,borderLeftColor:l.otherBorderColor,borderRightColor:l.otherBorderColor,"animation-duration":`${t.duration}ms`,"animation-timing-function":"semicircle"===t.mode||"circle"===t.mode?t.timingFunction:""})},["spinner"===t.mode?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(n.array12,((t,o)=>(e.openBlock(),e.createElementBlock("view",{key:o,class:"uv-loading-icon__dot"})))),128)):e.createCommentVNode("",!0)],6)),t.text?(e.openBlock(),e.createElementBlock("text",{key:1,class:"uv-loading-icon__text",style:e.normalizeStyle([{fontSize:t.$uv.addUnit(t.textSize),color:t.textColor},t.$uv.addStyle(t.textStyle)])},e.toDisplayString(t.text),5)):e.createCommentVNode("",!0)],6)):e.createCommentVNode("",!0)}],["__scopeId","data-v-3eb40c0b"]]);const st=ve({name:"uv-loadmore",mixins:[_,fe,{props:{status:{type:String,default:"loadmore"},bgColor:{type:String,default:"transparent"},icon:{type:Boolean,default:!0},fontSize:{type:[String,Number],default:14},iconSize:{type:[String,Number],default:16},color:{type:String,default:"#606266"},loadingIcon:{type:String,default:"spinner"},loadmoreText:{type:String,default:"加载更多"},loadingText:{type:String,default:"正在加载..."},nomoreText:{type:String,default:"没有更多了"},isDot:{type:Boolean,default:!1},iconColor:{type:String,default:"#b7b7b7"},marginTop:{type:[String,Number],default:10},marginBottom:{type:[String,Number],default:10},height:{type:[String,Number],default:"auto"},line:{type:Boolean,default:!1},lineColor:{type:String,default:"#E6E8EB"},dashed:{type:Boolean,default:!1},...null==(s=null==(r=uni.$uv)?void 0:r.props)?void 0:s.loadmore}}],data:()=>({dotText:"●"}),computed:{loadTextStyle(){return{color:this.color,fontSize:this.$uv.addUnit(this.fontSize),lineHeight:this.$uv.addUnit(this.fontSize),backgroundColor:this.bgColor}},showText(){let e="";return e="loadmore"==this.status?this.loadmoreText:"loading"==this.status?this.loadingText:"nomore"==this.status&&this.isDot?this.dotText:this.nomoreText,e}},methods:{loadMore(){"loadmore"==this.status&&this.$emit("loadmore")}}},[["render",function(t,o,a,i,n,l){const r=L(e.resolveDynamicComponent("uv-line"),it),s=L(e.resolveDynamicComponent("uv-loading-icon"),rt);return e.openBlock(),e.createElementBlock("view",{class:"uv-loadmore",style:e.normalizeStyle([{backgroundColor:t.bgColor,marginBottom:t.$uv.addUnit(t.marginBottom),marginTop:t.$uv.addUnit(t.marginTop),height:t.$uv.addUnit(t.height)},t.$uv.addStyle(t.customStyle)])},[t.line?(e.openBlock(),e.createBlock(r,{key:0,length:"140rpx",color:t.lineColor,hairline:!1,dashed:t.dashed},null,8,["color","dashed"])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["loadmore"==t.status||"nomore"==t.status?"uv-more":"","uv-loadmore__content"])},["loading"===t.status&&t.icon?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uv-loadmore__content__icon-wrap"},[e.createVNode(s,{color:t.iconColor,size:t.iconSize,mode:t.loadingIcon},null,8,["color","size","mode"])])):e.createCommentVNode("",!0),e.createElementVNode("text",{class:e.normalizeClass(["uv-line-1",["nomore"==t.status&&1==t.isDot?"uv-loadmore__content__dot-text":"uv-loadmore__content__text"]]),style:e.normalizeStyle([l.loadTextStyle]),onClick:o[0]||(o[0]=(...e)=>l.loadMore&&l.loadMore(...e))},e.toDisplayString(l.showText),7)],2),t.line?(e.openBlock(),e.createBlock(r,{key:1,length:"140rpx",color:t.lineColor,hairline:!1,dashed:t.dashed},null,8,["color","dashed"])):e.createCommentVNode("",!0)],4)}],["__scopeId","data-v-23988964"]]),ct="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAD1BMVEVHcExRUVFMTExRUVFRUVE9CdWsAAAABHRSTlMAjjrY9ZnUjwAAAQFJREFUWMPt2MsNgzAMgGEEE1B1gKJmAIRYoCH7z9RCXrabh33iYktcIv35EEg5ZBh07pvxJU6MFSPOSRnjnBUjUsaciRUjMsb4xIoRCWNiYsUInzE5sWKEyxiYWDbyefqHx1zIeiYTk7mQYziTYecxHvEJjwmIT3hMQELCYSISEg4TkZj0mYTEpM8kJCU9JiMp6TEZyUmbAUhO2gxAQNJiIAKSFgMRmNQZhMCkziAEJTUGIyipMRjBSZkhCE7KDEFIUmTeGCHJxWz0zXaE0GTCG8ZFtEaS347r/1fe11YyHYVfubxayfjoHmc0YYwmmmiiiSaaaKLJ7ckyz5ve+dw3Xw2emdwm9xSbAAAAAElFTkSuQmCC",ht="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAElBMVEVHcEz///////////////////+IGTx/AAAABnRSTlMA/dAkXZOhASU/AAABYElEQVRYw+2YwXLCIBCGsdAHWGbyAKZ4zxi9O017rxLf/1UaWFAgA1m8dcpedNSPf/l/Vh0Ya/Wn6hN0JcGvoCqRM4C8VBFiDwBqqNuJKV0rAnCgy3AUqZE57x0iqTL8Br4U3WBf/YWaIlTKfAcELU/h9w72CSVPa3C3OCDvhpHbRp/s2vq4fHhCeiCl2A3m4Qd71DQR257mFBlMcTlbFnFWzNtHxewYEfSiaLS4el8d8nyhmKJd1CF4eOS0keLMAuSxubLBIeIGQW8YHCFFo7EH9+YDcQt9FMZEswTheaNxTHwHT8SZorJjMrEVwo4Zo0U8HSEyZvJMOg4RjnmmRr8nDYeIz3OMkbfE/QhBo+U9RnZJxjGCRh/WKmHEMWLNkfPKsGh/CWJk1JjG0kcuJggTt34VDP8aWAFhp4nybVb5+9qQhjSkIQ1pSEMa8k+Q5U9rV3dF8MpFBK+/7miVq1/HZ2qmo9D+pAAAAABJRU5ErkJggg==",ut="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAKlBMVEVHcEzDw8Ovr6+pqamUlJTCwsKenp61tbWxsbGysrLNzc2bm5u5ubmjo6MpovhuAAAACnRSTlMA/P79/sHDhiZS0DxZowAABBBJREFUWMPtl89rE0EUx7ctTXatB3MI1SWnDbUKPUgXqh4ED8Uf7KUVSm3ooVSpSii0Fn/gD4j4o+APiEoVmos9FO2celiqZVgwgaKHPQiCCkv+F99kM7Ozm5kxq1dfD91k9pPve9/3ZjbRNHHok/mKli4eIPNgSuRObuN9SqSEzM20iGnm0yIbqCuV7NSSSIV7uyPM6JMBYdeTOanh/QihJYZsUCSby+VkMj2AvOt0rAeQAwqE3lfKMZVlQCZk1QOCKkkVPadITCfIRNKxfoJI5+0OIFtJx14CMSg1mRSDko7VAfksRQzEbGYqxOJcVTWMCH2I1/IACNW0PWU2M8cmAVHtnH5mM1VRWtwKZjOd5JbF6s1IbaYqaotjNlPHgDAnlAizubTR6ovMYn052g/U5qcmOpi0WL8xTS/3IfSet5m8MEr5ajjF5le6dq/OJpobrdY0t3i9QgefWrxW9/1BLhk0E9m8FeUMhhXal499iD0eQRfDF+ts/tttORRerfp+oV7f4xJj82iUYm1Yzod+ZQEAlS/8mMBwKebVmCVp1f0JLS6zKd17+iwRKTARVg2SHtz3iEbBH+Q+U28zW2Jiza8Tjb1YFoYZMsJyjDqp3M9XBQdSdPLFdxEpvOB37JrHcmR/y9+LgoTlCFGZEa2sc6d4PGlweEa2JSVPoVm+IfGG3ZL037iV9oH+P+Jxc4HGVflNq1M0pivao/EopO4b/ojVCP9GjmiXOeS0DOn1o/iiccT4ORnyvBGF3yUywkQajW4Ti0SGuiy/wVSg/L8w+X/8Q+hvUx8Xd90z4oV5a1i88MbFWHz0WZZ1UrTwBGPX3Rat9AFiXRMRjoMdIdJLEOt2h7jrYOzgOamKZSWSNspOS0X8SAqRYmxRL7sg4eLzYmNehcxh3uoyud/BH2Udux4ywxFTc1xC7Mgf4vMhc5S+kSH3Y7yj+qpwIWSoPTVCOOPVthGx9FbGqrwFw6wSFxJr+17zeKcztt3u+2roAEVgUjDd+AHGuxHy2rZHaa8JMkTHEeyi85ANPO9j9BVuBRD2FY5LDMo/Sz/2hReqGIs/KiFin+CsPsYO/yvM3jL2vE8EbX7/Bf8ejtr2GLN65bioAdgLd8Bis/mD5GmP2qeqyo2ZwQEOtAjRIDH7mBKpUcMoApbZJ5UIxkEwxyMZyMxW/uKFvHCFR3SSmerHyDNQ2dF4JG6zIMpBgLfjSF9x1D6smFcYnGApjmSLICO3ecCDWrQ48geba9DI3STy2i7ax6WIB62fSyIZIiO3GFQqSURp8wCo7GhJBGwuSovJBNjb7kT6FPVnIa9qJ2Ko+l9mefGIdinaMp0yC1URYiwsdfNE45EuA5Cx9EhalfvN5s+UyItm81vaB3p4joniN+SCP7Qc1hblAAAAAElFTkSuQmCC",dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAElBMVEX///9HcEz///////////////84chYNAAAABnRSTlP/AGzCOYZj5g1nAAACfklEQVRYw+2YTVPDIBCGtza9Jw25a0bvcax30o73OOr//yvma2F3YWlpPTijXNpAHrK8LLALVPFium2vNIFSbwGKTGQA2GUiHcD29yDNy3sMIdUBQl7r2H8mOEVqAHgPkYZUS6Qc2zYhQqtjyDZEximCZwWZLIBeIgYShs2NzxKpSUehYpMJhURGb+O+w5BpMCAREKPnCDHbIY20SzhM5yxziAXpOiBXydrekT9i5XDEq4NIIHHgyU5mRGqviII4mREJJA4QJzMiILwlRJzpKxJKvCBm8OsBBbLux0tsPl4RKYm5aPu6jw1U4mGxEUR9g8M1PcqBEp/WJliNgYOXueBzS4jZSIcgY5lCtevgDSgyzE+rAfuOTQMq0yzvoGH18qju27Mayzs4fPyMziCx81NJa5RNfW7vPYK9KOfDiVkBxFHG8hAj9txuoBuSWORsFfkpBf7xKFLSeaOefEojh5jz22DJEqMP8fUyaKdQx+RnG+yXMpe8Aars8ueR1pVH/bW3FyyvPRw90upLDHwpgBDtg4aUBNkxRLXMAi03IhcZtr1m+FeI/O/JNyDmmL1djLOauSlNflBpW18RQ2bPqXI22MXXEk75KRHTnkPkYbESbdKP2ZFk0r5sIwffAjy1lx+vx7NLjB6/E7Jfv5ERKhzpN0w8IDE8IGFDv5dhz10s7GFiXRZcUeLCEG5P5nDq9k4PFDcoMpE3GY4OuxuCXhmuyNB6k0RsLIAvqp9NE5r8ZCSS8gxnUp7ODdYhZTqxuiJ9uyJJtPmpqJ7wVj+XVieS903iViHziqAhchLEJAyb7jWU647EpUofQ0ziUuXXXhDddtlllSwjgSQu7r4BRWhQqfDPMVwAAAAASUVORK5CYII=",mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAElBMVEVRUVFHcExTU1NRUVFRUVFRUVFOSlSUAAAABnRSTlP/AI6+VySB3ZENAAACcElEQVRYw+2YyYKCMAyGI8hdpdxdZu7gcpdZ7jL6/s8yYheSNi0aPdqbwOffpGmaFOYPD3gj4bisN7vddv17N/JVgxn5x12IWgIaWTuO/IE3PseQbwjGPo2cgRmHFLJwdm/X643zwiqOKPPJ1nj3sjEP2iiifZWj5bhopSyGaEO2HX5fbQJzwJ+W7x/jw5ZFjsEU0PMph9xE8i5EqprKALW95eJQURkgzw98uJ/JvwGecR7bIjWWsUgVrrIfFZ2HlLy3sKETD1mmRLRMRhGVssRa0xJkdn3SpJBymBkM8+pSSDXMDNyDaToVHd2fgpNt0sjwiUZO19+jGQ+gQEg9Oq+bufmAVGihomNmjQG7UG3020vrlm7lkFnKFGU3kZ0KGAdmKe821pipQ+qEKcrZeTL2g5FsUks4cStjEZWwXg0b0n4GxmEpkWwIs5VBynjgK7xZaz1/0D7OxkVuLpsY5BQNFyLS84VBjjbg0iL2r2EQHBOxBhikuUOkdxODVF1cxHoWtPPsiyXO455Iv34hssCO8EV4ZIYTjS8SR4qYSHRiTiYQ4ZFbHi0iIhhBTi6dTCgSWRcnw4h4yGTuyTAiOGBIWGoZTgSHJQl+LcOJ4OCnW6yX2bMnJ9pidCOXtkTkTrIGpYuOynAiOF14SamMiOCk5Ke+mq8BcOrrvym8d0zKIQnWT+M1WwOQNO4fFiWb18hhERxJPx2fblbPHHyC41VyiAtKBUFBIih7JMWVoIQTFIr3lKPN80WvoLSWFPC653ioTZA0I0FrQ7qU6asaK0H7JmkSJa2ooOGVtNUsc3j9FYHkIkJy3SG6VHnfXKXGP9t4N9Q4Ye98AAAAAElFTkSuQmCC",pt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAGFBMVEVHcEz///////////////////////////8dS1W+AAAAB3RSTlMAiVYk6KvDHLfaegAAAo1JREFUWMPtWEtzmzAQNhCTq910ytXpiyvxTNOr60zrayepx9d02gnX4sTm7xcEiJX2gdnkGJ1A4tOnfWqXyeR1vMRYzrcPD9v5h5MBl3/Ldvx4cxIg/FWC8X0xjLjalM54uhhCfCrRuJURX0pi3EmIqZV7O59vrRZmguStHL9b7S7ftfLwOtiZDw7AHMtmquAQ12b5Wwbnordm8g9zLLO49qc/m2n6aKnhwPOGZ08hAiNHhheiHae1lOUPGZpQkPKa3q0mOUjaRzSRaGUjpy/mmWSwySSpllcEteBKAT52KEnSbblA51pJEPxBQoiH1FP4E3s5+FJv07h6/ylD6ui7B+9fq/ehrFB98ghec9EoVtyjK8pqCHLmCBOwMWSCeWFNN4MbPAk55NhsvoFHSSVR0k5TCTTEzlUGcqV/nVp7n9oIVkmtaqbAEqEgfdgHJPwsEAyZ9r4VAZXFjpEwyaw3+H2v42KYxKhs1XvY/gSSGv+IHyUSuHXCeZhLAgVI3EjgSGo1Fb3xO0tGGU9S2/KAIbtjxpJASG73qox6w5LUq0cEOa+iIONIWIilQSQ0pPa2jgaRQAgQP7c0mITRWGxpMAmEQFN2NAQJNCV0mI6GIIEO47hlQ0ORQLd0nL+hoUjg1m6I1TRr8uYEAriBHLcVFQ5UEMiBe3XkTBEG04WXlGKGxPnMS305XQPA1Ocn2JiuAZwE66fxnKwBnDTuXxZTMq85lwW6kt5ndLqZPefiU1yvmktcUSooChJF2aMprhQlnKJQ5FxRKkcVRa+itNYU8Io2oVkY14w0NMWYlqft91Bj9VHq+ca3b43BxjWJmla0sfKohlfTVpPN+93L/yLQ/IjQ/O5Q/VR5HdL4D7mlxmjwVdELAAAAAElFTkSuQmCC",gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAALeGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDg4LCAyMDIwLzA3LzEwLTIyOjA2OjUzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTEzVDE5OjA5OjQwKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyNC0wMS0xM1QxOTowOTo0MCswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZWQwMWYzNWQtOWRjOC00MDBiLWEyMmQtNjM5OGZiNzVhNGRiIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZDhlMzQ3ZmEtMDY2My1jYTRiLTgzNTctNTk4YjBkNGIzOTU2IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6WVJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiIGV4aWY6Q29sb3JTcGFjZT0iMSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjMwMCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjMwMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBzdEV2dDp3aGVuPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQwNjg2NzJkLWY5NDMtOTU0Mi1iMDBiLTVlMDExNmE1NmIzZSIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxMDoyNjoxNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmJkZmUyZC0xY2Q2LTJiNDgtYjUyNS05YzlhZjdlNjA4NDMiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMTE6MjM6NDArMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTQ5MjM5MDAtNDhiZC03YTQ1LWI4NGItYmVlZTVjOWUxYTM1IiBzdEV2dDp3aGVuPSIyMDI0LTAxLTEzVDExOjIzOjQwKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmVkMDFmMzVkLTlkYzgtNDAwYi1hMjJkLTYzOThmYjc1YTRkYiIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxOTowOTo0MCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmFiYmRmZTJkLTFjZDYtMmI0OC1iNTI1LTljOWFmN2U2MDg0MyIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjM2ZGQ4NTQxLWQ0MWEtYmY0Yy1iZjA3LWNmNjZhNjZhMDg2MSIgc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmQwODAyODAyLTM1MmEtODU0YS05MWI3LTZkZTZkNTJlYjNkMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pm30U/gAAAAJcEhZcwAALiMAAC4jAXilP3YAAAA/UExURUdwTODg4O3t7e7u7unp6d7e3uTk5M/Pz8nJyePj4+jo6Pj4+MrKyszMzO7u7unp6fb29vLy8vr6+v7+/sHBweag3xAAAAAOdFJOUwAxia5pF0n+/vzX3KbULQ2DYQAACG1JREFUeNrtm4l2o7gShi20IWFrAd7/WUc7EosDWKZ976Hc7WTmdMKXv0qlqpLyeNx222233Xbbbbfddtv/mOHn8xexSNsiRH5PrbFtW4p+DetpsF4v8Gs+HA3WEwOAfwzriYxaLTVsP8X1QK0z+vqQCzewYogi60aL9SEX5oyxphYVCFTGjfSJCTmN1jBruN5KTGCUS8bhySQGHRaohmW4glwtldbOeYJYKlgvbyUuA8aFFEKc++aIM4hrRnyiMnIZKq1PrihcM3GNKboMF1Naa9X9+8T1KrxIlVbGjv3cAEHOYYMqqgUsVuJqqehV3+sjDwB+DTJp0lYtMCyZpxqjF4e+74+sRcQSFZO8UonUSEFzuUY+DKo59A2kZDatGCjzCauy/2AmhSyCq0WHEj0KTNJDmVeNhErMt1Q8W4xti4/FwMJ4jaxl05TKFiNtD3kBGrHnhiph9V0eXQc6DkyE2xX830AlKshFTErXeuCZXK/9m41wFsGSfZ4lcGeyZ98PrylJ7MWCojQZ3qSukL2QslgdngqJnTEPdTJhXvbNBoR/+7wabIxWduN/Ja5dWEivm4XSZ2uQckNzmRlHrn2lc6eiafvS4V2Hd12tesau8toZW0CtWoZYb9t+OqxdCYKYjVPF16pVbILIy/gR7MVaWMHYPCoa2VkzkX4Iry2rirXbumGyAjGC1h62YLw6ApsNKZph3fpIWHt08JovRWD62sejpXhTrhWrPpl6zZ6PW2oTG5ltlvgtF6weNYCWKeJJSfg4W6PNJlj3sVZgOXV4lc8n4RlkMTLEBDVoYc3nI09kpyzzfgWsjyzBZSNDKF2/wjh+sxYvn8Y1scxlfLF9T1RBO3wVHsnq8Fk4oGkEh/0KJPSa8T2CeWE5X9BPmgLsaRIGeNL2kshCsWoLBmdPJW5Wbz1ndAKUXjPwxXYAUpSV3fy5BJg1aa1tyVXHHMgVH31ewDVrleHr9XqC684SUF4mecR3+wW5SC2QNvxUizRv98mLDhPgYiMDb+v8g0OADxqxcnf9w01mZYJF0fUVP5LcdswbsMmy1DVs5PlE5NpNiTR8M8qAWZkOy6aN13VcoOF2/s3xn3Mes8Xza05tgR/BuNz69nlNzMR0fH45p+G4R9oxh2mKt9MF4J7K/lvWUojwF5nCgCpuRUptnZMQ3au0nSo2UsHgV3xpmeLYzGml3ZFBBzYGPCpOQRwXs1/GG1J74dlZc6JKUOtjBAz9XjVxucGWHbZVJDPJQGYDRl1Qmf1ovk2Sbghb6MQlnF7mBzM1bgOqJAPpoOQaVe+4Skcit3uqHMyG/Sh1rHNN0gAfM0nnPrmulfLVBSm20TSZSdWa0LJl2ukVyE4vTYCgP3uQkwv1TKtQWgxDzBSg80OQjCs4klKvuUzHLCfIbDKIE/S5VIGqD1iD2819pkAqTWdmeina+oZABi7X5B1MGoTJqJSchuk6JNHcgUPAcsVFk0+N0oDN68Vo7FQSmCXjx46OEtUk1lpY2ZFQGr/AcpqVato4wPUD+RhfAeyQI5sJ6l2sDwnKqNFSJvpiyJbFl3kTOjZ2ievwCR7hkUoWeV2vOLAXvB39AJoyqYa81A5cvaAidXYTFTycKDBcalVK5f3XS89kzLVl9txfL+K+p6NUnitz5KkKm7D3DrRPNq4bk7l20aFRppNilmuQI+uzTtj9wPBkTsVwM7HbJ5pwGgujyRyZDzQLNoiRFluRtQ+GzEguqRxUL+ZMFqulMzIfaP3ARj2k/txB8c+2HyjmDizCaVWtNoE5MvMlKs/4VQ7HUJZCrU6qCKcNJ2aSWUZhJZu4VI0LB4CHFdj77DRuGi28WKAxoRyZyzGVrmc0jmk1nP5QaxZo1puqq1YIAqgZb8e/rABZJWNCNxV7DSTpOO7Aail9J9nYHtua/4ouE/aS0X1qtXQzwGx+rnbi2vhF/TfZG52oc6DPo1WCi3RTDnRk7TEntoEp38gg+DjYs2opkR3JW5EpL9rU0XSK5/6LOTAVS+72x7pm60zSf5HMdldjhzJqw1FRcxXdS3ZNZp0s92FiyluUvBPoD9ynZNkBiu2NF11ofnlnQbZgKqvusj9R/f6DOzgVsahbNlXxlsxU8y7qrbTupitRyxFBKG6H3aEPUqj7YrzAymq41FXlZLlO4WLbvG2Kg4vYB+wPfWS2B5Rq8TW9ROpAZbiF6MmCTsx1NLLsx7NOoOiZup2CNbZ36xc96ErcxzuILGrmmFhimjtwKo/yTm7feTVwB61IzbnW4967Kt3cDDotGt8JKrTiUyO3Uy2PZZt9tapXEfXhWmTgcoB+JchFWsiCKvYnhmn/tKuJDbgly897FnFfkE1rQLKy810OU7xW3bEJHCD5gERtuTGuxoJqA6qI9TNMa6MbvZomsiubbPYx78YXDaaRqqsyqfSaLZdjYGHLu65rDgydXCWm1P5EvcQ828f9pcBapTILSMv1nZCAc0WzFIFsGfUi/kmAxc6cFqDSYuPSMIbs1OVrwITTQM9HVRFJ5JL56qcoFzzT1uVcd2v9jFw8BHlcWtmEI86hp5Dy/zOlK8cUp/rVseRUBqawz6kmAcPLM9l5m8h4V53Iz/2mFJaTCvF8JbsMvPjU/7crbUXart0v4WyE0LnDPcAX95Knj4VUE8HCdNdUP8BDcOXKdPl4uSWbh4LfOV0HDdfipOmu+eIRrDsNPkIT7np/8ZAzVdOd1u8wHIqeXt8VqtgiO50ePeNaGG+uO9rHiKdL71pnIun8jxEKXv2r2HYBzO/mz96vFKoMM5WLk7tQXS9U5kwCu5lk7n6++kdCFWRaTUzm0/5fClWGWTrM/AGhCrJO/ZBQhTPFLwmV7ebgcdttt91222233Xbbbf+H9h+2WEtdHVinLAAAAABJRU5ErkJggg==",ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAALeGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDg4LCAyMDIwLzA3LzEwLTIyOjA2OjUzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTEzVDE5OjEwOjEwKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyNC0wMS0xM1QxOToxMDoxMCswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTQ3NTExNjAtZDY5MC00ZTkzLWFhNGUtNGMwYTViNGU1ZGFjIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRiNzlkYWMtZTJmYS1iNzQ0LWIxM2ItOWU1N2VjMDhhM2YwIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6WVJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiIGV4aWY6Q29sb3JTcGFjZT0iMSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjMwMCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjMwMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBzdEV2dDp3aGVuPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQwNjg2NzJkLWY5NDMtOTU0Mi1iMDBiLTVlMDExNmE1NmIzZSIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxMDoyNjoxNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjZjk1NTE1OC04MjFiLTA4NDUtYWJmNS05YTE1NGM1ZTY4NjEiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMTE6MDQ6MDQrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZGM1Y2IyNWItZDZlNC0yZjQ2LTgyODQtZmUwOTNlY2M2ZTkxIiBzdEV2dDp3aGVuPSIyMDI0LTAxLTEzVDExOjA0OjA0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjE0NzUxMTYwLWQ2OTAtNGU5My1hYTRlLTRjMGE1YjRlNWRhYyIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxOToxMDoxMCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmNmOTU1MTU4LTgyMWItMDg0NS1hYmY1LTlhMTU0YzVlNjg2MSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjM2ZGQ4NTQxLWQ0MWEtYmY0Yy1iZjA3LWNmNjZhNjZhMDg2MSIgc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmQwODAyODAyLTM1MmEtODU0YS05MWI3LTZkZTZkNTJlYjNkMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ph2LDQsAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA5UExURUdwTNra2s7Ozq2tre3t7dPT087OzuPj4+3t7dbW1u/v79bW1vz8/MrKytDQ0Nzc3MPDw/X19bi4uMZQDnEAAAAKdFJOUwBqEPywotz+wzqApqiTAAAHW0lEQVR42u1b25akIAwcbx2UFoj//7HLTQVBRcSZfTDnbM/uTl/KSlEkwf75eeONN95444033njjjTduR9/0/yOsbqoevObL7101tYX1HFs9QFtfZalRP+rpQVgdAFx990ZnT8L6eZItUl99jeGpf1DxdV/VP9fV1f/PFlF1bYHoVFSRC60IyVjrFRnuB8IoxpExSrstsErKHpJw1eqybNLbAQvAYkKjUrjoBgKRqAaeIjG5+qaps6hKcMWmcdSwqAJWBbAgCZZaIYbsqggqqlHNbFFa5yVR4jKvrKEErOEjNCqNSwHrfE8lpLsod/u+cOPPMPBJ+Gz5dM0cXNgclre+pSxhYI1WW5Tf9ENSMIdLCiWs6q9hwQprBVYKFqyPlx4WtoSvrT9lC/wkGt8qlkQooC3hi6sgW3Bb8gtdpSV/za/mn49pC0oYhONbfyd5hzDLFivKFpTS1gKM0we0tQCEncfgQn7Rt+DC/299i1MSRJcBC0r7VviG5KZvwV5WIUobxHyrJKy8VRjXVgFYsPu5kOtbxdhycCDuihziXVLoW7xwEiUmDgd544B46luWLW+nugMLB2BimmC3cxTNxCDg8xFtuUSNqoFsDKzY8psa+XtBNWXr74N6qxwsS5T6VL5robKl10+ZRu5S9qBvUYuJwVHzjwjrE3G33qKh+WXBgmkmCvHYquTvZ8oo7rLFA4PJgYW0MdePIRQIGUPNbSMw5lubJMKtJI6+Wk6cVFMmACO+VVryeL7ZgI8MhwS2fnNPPK0geHBRd11eJSiyL4KjrL2umm1XIpRii1MKB/mU/iCZwF+pt5z3UJ7UiF3nQqadAXC3T3xEW2IyuDBe3yDTe0+A64it2WTyYSGVHymUI/EduvSWKJ80Dtv2NbYSoQxbMkVC7yzNGIWFvDF7gRD79RYrWW/BDGti4wwLtgvO7gWKUZ8Mt94qX8vLJE70+xVNwzDm9ghNM+FX7p/jlZUId2HJD+Tf79hMe3WNrAK/30E+C8/6xOCqbqxE5JNMYrNbnaLUvJAewfCg8zF0Ba/tbviWLvPYfsGFA1PVD8ZdnjlVc/DS/o7LK4NHjOjKKbfCTSCo5XmwKbaZM4jlc9NGEYd9Ijd0QS5ZGaOR2O+DPlGyRb2nXZzgnI1GdFWF+0gh3ifyTRqvzpXI2eElk58FeHziCF5hY+hSMV9Ge/mohUTGuQ4vzHYe8bW5sNdFQ58St22Vcf5zzJbtcGT4iYQ7iz8dFuxoWRYMjAM7KCnypHOTLSqdUwYIFpndOD/6B2FBzNQxYmW/zxYE4j8yLHga1s2Rbm/O5PXtGcuNDIW1dTj5hpjGsO+7z2Kk9NP1JWDlnWKAM4H6zCUNM05KyVPHBclYzUbgjE3N3tP2JWHBmbqD4GLeCs2jhMT13lMVljwcEbetwZgtHUxVQ21ho3fE7inf2s8vzMWq0EWpfOBg5hcDSGwaF2+LaysRIzNFqRgBv2sMhi/Ix0WiW8rBKNBv4ExBI7eorx9ANazsPCb5FkSNH+Reacos+AYxaFzX76KMH65c8ytzZ40YvpFAqtgC/otn1eCmMI5K8yVRQVVwq3aVtU+jJktwjyP7x+BKv8vtoH098vXYSJcrWGJcAW11r8WVRxe5vgcuFbXqwnaEZejS6mrLwYKUg1ch2RJswTFYgMOwoau+AQsSp/FuDhVZi7J402ifgGla/GJIzGLYG5H4rnKMCUydL9wcsmZSuPikR2QmjQbWqaV2ob2RdMvaLEvFlRiXpYeTwqVOtMZF+qi0dS4uEjJKMvWuYK3S0jHZwaq7BylYp/O2uu3q04lNqudLWEJQd/3paTBz12IaLIPtzE5P1AUuW9TB8NVzaG9/TIfV+eXsWeezz6HWlptEbo4SIAeWur/Y/RZC/gmZTiLzUY2j5ct6fjKsFvxqgyQxE9sbmfYtnJMIciEKo6+FL0wziJmtkzspIcUl0PgWrL7VCKP7hl61U4WLeN+7Ieli2vZhmq0VgjDOgIyhJ62sSpDkWNZa1wiB8WoLlxzy29XpGVPgn1ut5VYcGyRLK7OCiJaDYMrAneJUkZWdw0yDgNm5nDowqLc0Kp581FO7QS4pC9S/YRW9xkVdNOj0ZHCp9anEZw3VEK/fopiDrkMObkcdJtT1g6+uzQ60bIdUPztdWZWy53m+v/zFYPOGHO4AZsalmtJNkyHrCAx1RXX7mt5g1L1pDezpkXv8wJwpVRSSaf2c26Y0rrXXxyWBptu/ovdak+VhkqjGBZUdvKygqANKA/MqZ/36kcGwFn90RnWp66ksKuHgitLFY8BU+F2ZvqpxpMY9qR3YwOUJ12fc0KUHVKdswcKXuwetErCnwvMKuXxfc/3RVJ2yFc+iosQd3X+WGSVz1UiuN2J156FyVyHbsOUp3krezaPUT/VxXqdfwvknb/Zgp+idTxTbrkLqYuKreRnhy65Gf4W0NsDoYiqf6uZsvr8V9eo6XWc5+3TVf/3N1TfeeOONN95444033njjjTfeSI1/IeOYOeO4fGAAAAAASUVORK5CYII=",yt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAElBMVEVRUVH+/v5HcEyZmZlRUVFRUVGm1ByOAAAABnRSTlPMzADMTZAJBBGsAAAEnElEQVR42t2cS27jMAyGf7/2U+QCQeDsbeQCgZDujaC5/1UmkzaJn+JDFGcw3LdfflKibJkkDnxrL7dbg7sNt6+L4O8OYBM+B0ys+QrGkHZG+OEEQ8g6go8Bx1GIGMdpNOQyIG6XdMgnSPtKhLQDGEZFBgYMkhKFtGBb0EIEjDgFRowoBVaMGAWpMedEfxMiZtwpUsgZCqtlkCNUdpVAWigtCCCDFtLwIWeoreZCWiRYYEKGFEjDg+yRZCUH0iLRAgNyToXUNCRZyMqWhGnUN2IPm3wSlwJ7IUspyCBkIQUZhCykIIeQuRTkEDKXAuM9srrtYbrZN7Y98giZSoFd+t1OxmMITG0dcrSFXFchZ1tIvQZpYWxhBbK3hpQrkMEa0iwh5t4a+QvZvDXyF7J5a+Qv5PPW21/I5623v5DPW29/IaO3Xv5Clrw1y1/Ikrdm+Qs5svw83yNnSJ5BQb4F/F7EIEJSnThGBAXxkFQfLOviQUE8JAUPsosHBfGQfDAtHhREQ1JxIV00KIgmrnRI84S0yAd5BAXxxJUck0f6Qnwr9qmr6xF5xLMjcwn/iudIEAdWnyjkEXlQKZiRVzoqRyLbgeUKKR8Q4alY7cSnoxzSf2ggsqehKr6YVpcXpOd7H93f60cKhOd7Re2LteUF4eLqiVS1mr0ge4io6C2+soaFkJ7MuuuQs1yITEp9hwwKISIpzR2iESKSIoT0rLNwuVHQqoSIpAQJpGce60vIUSdEIuUqgPTsJ5QFZK8UIpBS8iG94GFrDjlrhfCl8CG96Llxmle4kEr6vKWBPIVo9kqDQSRk9/3cWoikcCFPAd33v4dIChPyEvLzBA6RlEYWke4JEUnhKXkLeUEKxRHJFfKCQHGucIW8IdZSRkLeEGMpYyEjiK2UsZARxFTKRMgYYillImQMMZQyFTKB2EmZCplAuFLIHT8TMoWwpQwiIVMIUwqpZP5bp5CCvCTiQKr5f5lCQN+tPCBn2ZvVDFJwIDUP0m1BYAfZYRNSsCB7BqTbhoARePIxtZ9tgwWkoJcwCalmv3MBAemtO4R6dah2HaKQqj8Zvp9sQDjvJ21+SPCBHPJDDk6QITekEV7gqCC19CpKAym9IMfckKv4olMBCeIrWwVEfvkshzQekO9r9P1/ALk+IG1eSPCDiCJfyG+FyU+A6ZCa/piZDinpz7LpkCv5gdkAEshP5emQhv7onw6pGeULyZCSUYiRDAmMkpJkCKs4JhFSq8p8hJBSVbAkhARV6ZUQoisik0FqXTmcDHLVFfbJIEFXoiiCNMpiSxGkVJaNiiBBWQArgTTaUl4JpNQWJUsgQVteXQg+AKkLxQWFGKW+5J2+eVp4S168X3CF1CltCKdTJ8lb84YK2bUBO+wZW0Pqv9nk4tKu49N45NJC5dMM5tLW5tOg59Jq6NM06dL+abFXwr/RkuvTXJwae1abtE/Dt0/ruksTvs84AZ/BCC4jHnyGVfiM3VBQFANEXEah+Ax18RlP4zNox2dkkM/wI58xTn8yDCXGYCDV3W5RGSajtXyGhG1jbpbjzpwGt/0MJft8jqC7iUbQ/QZaxdnKqcIftwAAAABJRU5ErkJggg==";const vt=ve({name:"z-paging-empty-view",data:()=>({}),props:{emptyViewText:{type:String,default:"没有数据哦~"},emptyViewImg:{type:String,default:""},showEmptyViewReload:{type:Boolean,default:!1},emptyViewReloadText:{type:String,default:"重新加载"},isLoadFailed:{type:Boolean,default:!1},emptyViewStyle:{type:Object,default:function(){return{}}},emptyViewImgStyle:{type:Object,default:function(){return{}}},emptyViewTitleStyle:{type:Object,default:function(){return{}}},emptyViewReloadStyle:{type:Object,default:function(){return{}}},emptyViewZIndex:{type:Number,default:9},emptyViewFixed:{type:Boolean,default:!0},unit:{type:String,default:"rpx"}},computed:{emptyImg(){return this.isLoadFailed?ft:gt},finalEmptyViewStyle(){return this.emptyViewStyle["z-index"]=this.emptyViewZIndex,this.emptyViewStyle}},methods:{reloadClick(){this.$emit("reload")},emptyViewClick(){this.$emit("viewClick")}}},[["render",function(t,o,a,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass({"zp-container":!0,"zp-container-fixed":a.emptyViewFixed}),style:e.normalizeStyle([l.finalEmptyViewStyle]),onClick:o[1]||(o[1]=(...e)=>l.emptyViewClick&&l.emptyViewClick(...e))},[e.createElementVNode("view",{class:"zp-main"},[a.emptyViewImg.length?(e.openBlock(),e.createElementBlock("image",{key:1,class:e.normalizeClass({"zp-main-image-rpx":"rpx"===a.unit,"zp-main-image-px":"px"===a.unit}),mode:"aspectFit",style:e.normalizeStyle([a.emptyViewImgStyle]),src:a.emptyViewImg},null,14,["src"])):(e.openBlock(),e.createElementBlock("image",{key:0,class:e.normalizeClass({"zp-main-image-rpx":"rpx"===a.unit,"zp-main-image-px":"px"===a.unit}),style:e.normalizeStyle([a.emptyViewImgStyle]),src:l.emptyImg},null,14,["src"])),e.createElementVNode("text",{class:e.normalizeClass(["zp-main-title",{"zp-main-title-rpx":"rpx"===a.unit,"zp-main-title-px":"px"===a.unit}]),style:e.normalizeStyle([a.emptyViewTitleStyle])},e.toDisplayString(a.emptyViewText),7),a.showEmptyViewReload?(e.openBlock(),e.createElementBlock("text",{key:2,class:e.normalizeClass({"zp-main-error-btn":!0,"zp-main-error-btn-rpx":"rpx"===a.unit,"zp-main-error-btn-px":"px"===a.unit}),style:e.normalizeStyle([a.emptyViewReloadStyle]),onClick:o[0]||(o[0]=e.withModifiers(((...e)=>l.reloadClick&&l.reloadClick(...e)),["stop"]))},e.toDisplayString(a.emptyViewReloadText),7)):e.createCommentVNode("",!0)])],6)}],["__scopeId","data-v-5b8c527d"]]),wt="2.8.3",St=100,kt="z-paging-error-emit",bt="z-paging-complete-emit",Tt="z-paging-cache",Ct="zp_index",Nt="zp_unique_index",xt={},Bt="Z-PAGING-REFRESHER-TIME-STORAGE-KEY";let Vt=null,Et=!1;const It={};function _t(){return uni.getStorageSync(Bt)}function Rt(e){return uni.upx2px(e)}function Lt(){return(new Date).getTime()}function zt(e){return 1===(e=e.toString()).length?"0"+e:e}const Mt={gc:function(e,t){return()=>{if(function(){if(Et)return;xt&&Object.keys(xt).length&&(Vt=xt);!Vt&&uni.$zp&&(Vt=uni.$zp.config);Vt=Vt?Object.keys(Vt).reduce(((e,t)=>(e[function(e){return e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase()))}(t)]=Vt[t],e)),{}):null,Et=!0}(),!Vt)return t;const o=Vt[e];return void 0===o?t:o}},setRefesrherTime:function(e,t){const o=_t()||{};o[t]=e,uni.setStorageSync(Bt,o)},getRefesrherFormatTimeByKey:function(e,t){const o=function(e){const t=_t();return t&&t[e]?t[e]:null}(e),a=o?function(e,t){const o=new Date(e),a=new Date,i=new Date(e).setHours(0,0,0,0),n=(new Date).setHours(0,0,0,0),l=i-n;let r="";const s=function(e){const t=e.getHours(),o=e.getMinutes();return`${zt(t)}:${zt(o)}`}(o);r=0===l?t.today:-864e5===l?t.yesterday:function(e,t=!0){const o=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return t?`${o}-${zt(a)}-${zt(i)}`:`${zt(a)}-${zt(i)}`}(o,o.getFullYear()!==a.getFullYear());return`${r} ${s}`}(o,t):t.none;return`${t.title}${a}`},getTouch:function(e){let t=null;if(e.touches&&e.touches.length)t=e.touches[0];else if(e.changedTouches&&e.changedTouches.length)t=e.changedTouches[0];else{if(!e.datail||e.datail=={})return{touchX:0,touchY:0};t=e.datail}return{touchX:t.clientX,touchY:t.clientY}},getTouchFromZPaging:function e(t){if(t&&t.tagName&&"BODY"!==t.tagName&&"UNI-PAGE-BODY"!==t.tagName){const o=t.classList;return o&&o.contains("z-paging-content")?{isFromZp:!0,isPageScroll:o.contains("z-paging-content-page"),isReachedTop:o.contains("z-paging-reached-top"),isUseChatRecordMode:o.contains("z-paging-use-chat-record-mode")}:e(t.parentNode)}return{isFromZp:!1}},getParent:function e(t){return t?t.$refs.paging?t:e(t.$parent):null},convertToPx:function(e){if("[object Number]"===Object.prototype.toString.call(e))return e;let t=!1;return-1!==e.indexOf("rpx")||-1!==e.indexOf("upx")?(e=e.replace("rpx","").replace("upx",""),t=!0):-1!==e.indexOf("px")&&(e=e.replace("px","")),isNaN(e)?0:Number(t?Rt(e):e)},getTime:Lt,getInstanceId:function(){const e=[];for(let t=0;t<10;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e.join("")+Lt()},consoleErr:function(e){R("error","at uni_modules/z-paging/components/z-paging/js/z-paging-utils.js:76",`[z-paging]${e}`)},delay:function(e,t=St,o){const a=setTimeout(e,t);return o&&(It[o]&&clearTimeout(It[o]),It[o]=a),a},wait:function(e){return new Promise((t=>{setTimeout(t,e)}))},isPromise:function(e){return"[object Promise]"===Object.prototype.toString.call(e)},addUnit:function(e,t){if("[object String]"===Object.prototype.toString.call(e)){let t=e;t=t.replace("rpx","").replace("upx","").replace("px",""),-1===e.indexOf("rpx")&&-1===e.indexOf("upx")&&-1!==e.indexOf("px")&&(t=2*parseFloat(t)),e=t}return"rpx"===t?e+"rpx":e/2+"px"},deepCopy:function e(t){if("object"!=typeof t||null===t)return t;let o=Array.isArray(t)?[]:{};for(let a in t)t.hasOwnProperty(a)&&(o[a]=e(t[a]));return o},rpx2px:Rt},At={LoadingType:{Refresher:"refresher",LoadMore:"load-more"},Refresher:{Default:"default",ReleaseToRefresh:"release-to-refresh",Refreshing:"refreshing",Complete:"complete",GoF2:"go-f2"},More:{Default:"default",Loading:"loading",NoMore:"no-more",Fail:"fail"},QueryFrom:{UserPullDown:"user-pull-down",Reload:"reload",Refresh:"refresh",LoadMore:"load-more"},CellHeightMode:{Fixed:"fixed",Dynamic:"dynamic"},CacheMode:{Default:"default",Always:"always"}};const Dt=ve({name:"z-paging-refresh",data:()=>({R:At.Refresher,isIos:"ios"===uni.getSystemInfoSync().platform,refresherTimeText:"",zTheme:{title:{white:"#efefef",black:"#555555"},arrow:{white:ht,black:ct},flower:{white:dt,black:ut},success:{white:pt,black:mt},indicator:{white:"#eeeeee",black:"#777777"}}}),props:["status","defaultThemeStyle","defaultText","pullingText","refreshingText","completeText","goF2Text","defaultImg","pullingImg","refreshingImg","completeImg","refreshingAnimated","showUpdateTime","updateTimeKey","imgStyle","titleStyle","updateTimeStyle","updateTimeTextMap","unit"],computed:{ts(){return this.defaultThemeStyle},statusTextMap(){this.updateTime();const{R:e,defaultText:t,pullingText:o,refreshingText:a,completeText:i,goF2Text:n}=this;return{[e.Default]:t,[e.ReleaseToRefresh]:o,[e.Refreshing]:a,[e.Complete]:i,[e.GoF2]:n}},currentTitle(){return this.statusTextMap[this.status]||this.defaultText},leftImageClass(){const e=`zp-r-left-image-pre-size-${this.unit}`;return this.status===this.R.Complete?e:`zp-r-left-image ${e} ${this.status===this.R.Default?"zp-r-arrow-down":"zp-r-arrow-top"}`},leftImageStyle(){const e=this.showUpdateTime,t=e?Mt.addUnit(36,this.unit):Mt.addUnit(34,this.unit);return{width:t,height:t,"margin-right":e?Mt.addUnit(20,this.unit):Mt.addUnit(9,this.unit)}},leftImageSrc(){const e=this.R,t=this.status;return t===e.Default?this.defaultImg?this.defaultImg:this.zTheme.arrow[this.ts]:t===e.ReleaseToRefresh?this.pullingImg?this.pullingImg:this.defaultImg?this.defaultImg:this.zTheme.arrow[this.ts]:t===e.Refreshing?this.refreshingImg?this.refreshingImg:this.zTheme.flower[this.ts]:t===e.Complete?this.completeImg?this.completeImg:this.zTheme.success[this.ts]:t===e.GoF2?this.zTheme.arrow[this.ts]:""},rightTextStyle(){let e={};return e.color=this.zTheme.title[this.ts],e["font-size"]=Mt.addUnit(30,this.unit),e}},methods:{addUnit:(e,t)=>Mt.addUnit(e,t),updateTime(){this.showUpdateTime&&(this.refresherTimeText=Mt.getRefesrherFormatTimeByKey(this.updateTimeKey,this.updateTimeTextMap))}}},[["render",function(t,o,a,i,n,l){return e.openBlock(),e.createElementBlock("view",{style:{height:"100%"}},[e.createElementVNode("view",{class:e.normalizeClass(a.showUpdateTime?"zp-r-container zp-r-container-padding":"zp-r-container")},[e.createElementVNode("view",{class:"zp-r-left"},[a.status!==n.R.Refreshing?(e.openBlock(),e.createElementBlock("image",{key:0,class:e.normalizeClass(l.leftImageClass),style:e.normalizeStyle([l.leftImageStyle,a.imgStyle]),src:l.leftImageSrc},null,14,["src"])):(e.openBlock(),e.createElementBlock("image",{key:1,class:e.normalizeClass({"zp-line-loading-image":a.refreshingAnimated,"zp-r-left-image":!0,"zp-r-left-image-pre-size-rpx":"rpx"===a.unit,"zp-r-left-image-pre-size-px":"px"===a.unit}),style:e.normalizeStyle([l.leftImageStyle,a.imgStyle]),src:l.leftImageSrc},null,14,["src"]))]),e.createElementVNode("view",{class:"zp-r-right"},[e.createElementVNode("text",{class:"zp-r-right-text",style:e.normalizeStyle([l.rightTextStyle,a.titleStyle])},e.toDisplayString(l.currentTitle),5),a.showUpdateTime&&n.refresherTimeText.length?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(["zp-r-right-text",{"zp-r-right-time-text-rpx":"rpx"===a.unit,"zp-r-right-time-text-px":"px"===a.unit}]),style:e.normalizeStyle([{color:n.zTheme.title[l.ts]},a.updateTimeStyle])},e.toDisplayString(n.refresherTimeText),7)):e.createCommentVNode("",!0)])],2)])}],["__scopeId","data-v-7e1d23cb"]]);const Pt=ve({name:"z-paging-load-more",data:()=>({M:At.More,zTheme:{title:{white:"#efefef",black:"#a4a4a4"},line:{white:"#efefef",black:"#eeeeee"},circleBorder:{white:"#aaaaaa",black:"#c8c8c8"},circleBorderTop:{white:"#ffffff",black:"#444444"},flower:{white:dt,black:ut},indicator:{white:"#eeeeee",black:"#777777"}}}),props:["zConfig"],computed:{ts(){return this.c.defaultThemeStyle},c(){return this.zConfig||{}},ownLoadingMoreText(){return{[this.M.Default]:this.c.defaultText,[this.M.Loading]:this.c.loadingText,[this.M.NoMore]:this.c.noMoreText,[this.M.Fail]:this.c.failText}[this.finalStatus]},finalStatus(){return this.c.defaultAsLoading&&this.c.status===this.M.Default?this.M.Loading:this.c.status},finalLoadingIconType(){return this.c.loadingIconType}},methods:{doClick(){this.$emit("doClick")}}},[["render",function(t,o,a,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["zp-l-container",{"zp-l-container-rpx":"rpx"===l.c.unit,"zp-l-container-px":"px"===l.c.unit}]),style:e.normalizeStyle([l.c.customStyle]),onClick:o[0]||(o[0]=(...e)=>l.doClick&&l.doClick(...e))},[l.c.hideContent?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[l.c.showNoMoreLine&&l.finalStatus===n.M.NoMore?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass({"zp-l-line-rpx":"rpx"===l.c.unit,"zp-l-line-px":"px"===l.c.unit}),style:e.normalizeStyle([{backgroundColor:n.zTheme.line[l.ts]},l.c.noMoreLineCustomStyle])},null,6)):e.createCommentVNode("",!0),l.finalStatus===n.M.Loading&&l.c.loadingIconCustomImage?(e.openBlock(),e.createElementBlock("image",{key:1,src:l.c.loadingIconCustomImage,style:e.normalizeStyle([l.c.iconCustomStyle]),class:e.normalizeClass({"zp-l-line-loading-custom-image":!0,"zp-l-line-loading-custom-image-animated":l.c.loadingAnimated,"zp-l-line-loading-custom-image-rpx":"rpx"===l.c.unit,"zp-l-line-loading-custom-image-px":"px"===l.c.unit})},null,14,["src"])):e.createCommentVNode("",!0),l.finalStatus!==n.M.Loading||"flower"!==l.finalLoadingIconType||l.c.loadingIconCustomImage.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("image",{key:2,class:e.normalizeClass({"zp-line-loading-image":!0,"zp-line-loading-image-rpx":"rpx"===l.c.unit,"zp-line-loading-image-px":"px"===l.c.unit}),style:e.normalizeStyle([l.c.iconCustomStyle]),src:n.zTheme.flower[l.ts]},null,14,["src"])),l.finalStatus!==n.M.Loading||"circle"!==l.finalLoadingIconType||l.c.loadingIconCustomImage.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("text",{key:3,class:e.normalizeClass(["zp-l-circle-loading-view",{"zp-l-circle-loading-view-rpx":"rpx"===l.c.unit,"zp-l-circle-loading-view-px":"px"===l.c.unit}]),style:e.normalizeStyle([{borderColor:n.zTheme.circleBorder[l.ts],borderTopColor:n.zTheme.circleBorderTop[l.ts]},l.c.iconCustomStyle])},null,6)),!l.c.isChat||!l.c.chatDefaultAsLoading&&l.finalStatus===n.M.Default||l.finalStatus===n.M.Fail?(e.openBlock(),e.createElementBlock("text",{key:4,class:e.normalizeClass({"zp-l-text-rpx":"rpx"===l.c.unit,"zp-l-text-px":"px"===l.c.unit}),style:e.normalizeStyle([{color:n.zTheme.title[l.ts]},l.c.titleCustomStyle])},e.toDisplayString(l.ownLoadingMoreText),7)):e.createCommentVNode("",!0),l.c.showNoMoreLine&&l.finalStatus===n.M.NoMore?(e.openBlock(),e.createElementBlock("text",{key:5,class:e.normalizeClass({"zp-l-line-rpx":"rpx"===l.c.unit,"zp-l-line-px":"px"===l.c.unit}),style:e.normalizeStyle([{backgroundColor:n.zTheme.line[l.ts]},l.c.noMoreLineCustomStyle])},null,6)):e.createCommentVNode("",!0)],64))],6)}],["__scopeId","data-v-80237b32"]]),Ft={data:()=>({systemInfo:null,cssSafeAreaInsetBottom:-1,isReadyDestroy:!1}),computed:{windowTop(){return this.systemInfo&&this.systemInfo.windowTop||0},safeAreaBottom(){if(!this.systemInfo)return 0;let e=0;return e=this.systemInfo.safeAreaInsets.bottom||0,e},isOldWebView(){try{const e=uni.getSystemInfoSync().system.split(" "),t=e[0],o=parseInt(e[1]);if("iOS"===t&&o<=10||"Android"===t&&o<=6)return!0}catch(e){return!1}return!1},zSlots(){return this.$slots}},beforeDestroy(){this.isReadyDestroy=!0},unmounted(){this.isReadyDestroy=!0},methods:{updateFixedLayout(){this.fixed&&this.$nextTick((()=>{this.systemInfo=uni.getSystemInfoSync()}))},_getNodeClientRect(e,t=!0,o=!1,a=!1){if(this.isReadyDestroy)return Promise.resolve(!1);const i=a?this.$parent:this;let n=t||a?uni.createSelectorQuery().in(i):uni.createSelectorQuery();return o?n.select(e).scrollOffset():n.select(e).boundingClientRect(),new Promise(((e,t)=>{n.exec((t=>{e(!(!t||""==t||null==t||!t.length)&&t)}))}))},_updateLeftAndRightWidth(e,t){this.$nextTick((()=>{setTimeout((()=>{["left","right"].map((o=>{this._getNodeClientRect(`.${t}-${o}`).then((t=>{this.$set(e,o,t?t[0].width+"px":"0px")}))}))}),0)}))},_getCssSafeAreaInsetBottom(e){this._getNodeClientRect(".zp-safe-area-inset-bottom").then((t=>{this.cssSafeAreaInsetBottom=t?t[0].height:-1,t&&e&&e()}))}}},Ht="Query",Ot="FetchParams",$t="FetchResult",jt="Language2Local";function Ut(){return getApp()}function Wt(){return Ut()&&Ut().globalData}function Zt(e,t){try{setTimeout((function(){Wt()&&(Ut().globalData[`zp_handle${e}Callback`]=t)}),1)}catch(o){}}function Gt(e){return Wt()?Ut().globalData[`zp_handle${e}Callback`]:null}const Yt={handleQuery:function(e){return Zt(Ht,e),this},_handleQuery:function(e,t,o,a){const i=Gt(Ht);return i?i(e,t,o,a):[e,t,o]},handleFetchParams:function(e){return Zt(Ot,e),this},_handleFetchParams:function(e,t){const o=Gt(Ot);return o?o(e,t||{}):{pageNo:e.pageNo,pageSize:e.pageSize,...t||{}}},handleFetchResult:function(e){return Zt($t,e),this},_handleFetchResult:function(e,t,o){const a=Gt($t);return a&&a(e,t,o),!!a},handleLanguage2Local:function(e){return Zt(jt,e),this},_handleLanguage2Local:function(e,t){const o=Gt(jt);return o?o(e,t):t}},Qt={props:{defaultPageNo:{type:[Number,String],default:Mt.gc("defaultPageNo",1),observer:function(e){this.pageNo=e}},defaultPageSize:{type:[Number,String],default:Mt.gc("defaultPageSize",10),validator:e=>(e<=0&&Mt.consoleErr("default-page-size必须大于0！"),e>0)},dataKey:{type:[Number,String,Object],default:Mt.gc("dataKey",null)},useCache:{type:Boolean,default:Mt.gc("useCache",!1)},cacheKey:{type:String,default:Mt.gc("cacheKey",null)},cacheMode:{type:String,default:Mt.gc("cacheMode",At.CacheMode.Default)},autowireListName:{type:String,default:Mt.gc("autowireListName","")},autowireQueryName:{type:String,default:Mt.gc("autowireQueryName","")},fetch:{type:Function,default:null},fetchParams:{type:Object,default:Mt.gc("fetchParams",null)},auto:{type:Boolean,default:Mt.gc("auto",!0)},reloadWhenRefresh:{type:Boolean,default:Mt.gc("reloadWhenRefresh",!0)},autoScrollToTopWhenReload:{type:Boolean,default:Mt.gc("autoScrollToTopWhenReload",!0)},autoCleanListWhenReload:{type:Boolean,default:Mt.gc("autoCleanListWhenReload",!0)},showRefresherWhenReload:{type:Boolean,default:Mt.gc("showRefresherWhenReload",!1)},showLoadingMoreWhenReload:{type:Boolean,default:Mt.gc("showLoadingMoreWhenReload",!1)},createdReload:{type:Boolean,default:Mt.gc("createdReload",!1)},localPagingLoadingTime:{type:[Number,String],default:Mt.gc("localPagingLoadingTime",200)},concat:{type:Boolean,default:Mt.gc("concat",!0)},callNetworkReject:{type:Boolean,default:Mt.gc("callNetworkReject",!0)},value:{type:Array,default:function(){return[]}},modelValue:{type:Array,default:function(){return[]}}},data:()=>({currentData:[],totalData:[],realTotalData:[],totalLocalPagingList:[],dataPromiseResultMap:{reload:null,complete:null,localPaging:null},isSettingCacheList:!1,pageNo:1,currentRefreshPageSize:0,isLocalPaging:!1,isAddedData:!1,isTotalChangeFromAddData:!1,privateConcat:!0,myParentQuery:-1,firstPageLoaded:!1,pagingLoaded:!1,loaded:!1,isUserReload:!0,fromEmptyViewReload:!1,queryFrom:"",listRendering:!1,isHandlingRefreshToPage:!1,isFirstPageAndNoMore:!1,totalDataChangeThrow:!0}),computed:{pageSize(){return this.defaultPageSize},finalConcat(){return this.concat&&this.privateConcat},finalUseCache(){return this.useCache&&!this.cacheKey&&Mt.consoleErr("use-cache为true时，必须设置cache-key，否则缓存无效！"),this.useCache&&!!this.cacheKey},finalCacheKey(){return this.cacheKey?`${Tt}-${this.cacheKey}`:null},isFirstPage(){return this.pageNo===this.defaultPageNo}},watch:{totalData(e,t){this._totalDataChange(e,t,this.totalDataChangeThrow),this.totalDataChangeThrow=!0},currentData(e,t){this._currentDataChange(e,t)},useChatRecordMode(e,t){e&&(this.nLoadingMoreFixedHeight=!1)},value:{handler(e){e!==this.totalData&&(this.totalDataChangeThrow=!1,this.totalData=e)},immediate:!0},modelValue:{handler(e){e!==this.totalData&&(this.totalDataChangeThrow=!1,this.totalData=e)},immediate:!0}},methods:{complete(e,t=!0){return this.customNoMore=-1,this.addData(e,t)},completeByKey(e,t=null,o=!0){return null!==t&&null!==this.dataKey&&t!==this.dataKey?(this.isFirstPage&&this.endRefresh(),new Promise((e=>e()))):(this.customNoMore=-1,this.addData(e,o))},completeByTotal(e,t,o=!0){if("undefined"==t)this.customNoMore=-1;else{const a=this._checkDataType(e,o,!1);if(e=a.data,o=a.success,t>=0&&o)return new Promise(((a,i)=>{this.$nextTick((()=>{let n=!1;let l=(this.pageNo==this.defaultPageNo?0:this.realTotalData.length)+(this.privateConcat?e.length:0)-t;l>=0&&(n=!0,l=this.defaultPageSize-l,this.privateConcat&&l>0&&l<e.length&&(e=e.splice(0,l))),this.completeByNoMore(e,n,o).then((e=>a(e))).catch((()=>i()))}))}))}return this.addData(e,o)},completeByNoMore(e,t,o=!0){return"undefined"!=t&&(this.customNoMore=1==t?1:0),this.addData(e,o)},completeByError(e){return this.customerEmptyViewErrorText=e,this.complete(!1)},addData(e,t=!0){this.fromCompleteEmit||(this.disabledCompleteEmit=!0,this.fromCompleteEmit=!1);const o=Mt.getTime()-this.requestTimeStamp;let a=this.minDelay;this.isFirstPage&&this.finalShowRefresherWhenReload&&(a=Math.max(400,a));const i=this.requestTimeStamp>0&&o<a?a-o:0;return this.$nextTick((()=>{Mt.delay((()=>{this._addData(e,t,!1)}),this.delay>0?this.delay:i)})),new Promise(((e,t)=>{this.dataPromiseResultMap.complete={resolve:e,reject:t}}))},addDataFromTop(e,t=!0,o=!0){let a=!this.isChatRecordModeAndNotInversion;e="[object Array]"!==Object.prototype.toString.call(e)?[e]:a?e.reverse():e,this.finalUseVirtualList&&this._setCellIndex(e,"top"),this.totalData=a?[...e,...this.totalData]:[...this.totalData,...e],t&&Mt.delay((()=>this.useChatRecordMode?this.scrollToBottom(o):this.scrollToTop(o)))},resetTotalData(e){this.isTotalChangeFromAddData=!0,e="[object Array]"!==Object.prototype.toString.call(e)?[e]:e,this.totalData=e},setLocalPaging(e,t=!0){return this.isLocalPaging=!0,this.$nextTick((()=>{this._addData(e,t,!0)})),new Promise(((e,t)=>{this.dataPromiseResultMap.localPaging={resolve:e,reject:t}}))},reload(e=this.showRefresherWhenReload){return e&&(this.privateShowRefresherWhenReload=e,this.isUserPullDown=!0),this.showLoadingMoreWhenReload||(this.listRendering=!0),this.$nextTick((()=>{this._preReload(e,!1)})),new Promise(((e,t)=>{this.dataPromiseResultMap.reload={resolve:e,reject:t}}))},refresh(){return this._handleRefreshWithDisPageNo(this.pageNo-this.defaultPageNo+1)},refreshToPage(e){return this.isHandlingRefreshToPage=!0,this._handleRefreshWithDisPageNo(e+this.defaultPageNo-1)},updateCache(){this.finalUseCache&&this.totalData.length&&this._saveLocalCache(this.totalData.slice(0,Math.min(this.totalData.length,this.pageSize)))},clean(){this._reload(!0),this._addData([],!0,!1)},clear(){this.clean()},_preReload(e=this.showRefresherWhenReload,t=!0,o=0){const a=this.finalRefresherEnabled&&this.useCustomRefresher;-1===this.customRefresherHeight&&a?Mt.delay((()=>{++o%10==0&&this._updateCustomRefresherHeight(),this._preReload(e,t,o)}),St/2):(this.isUserReload=!0,this.loadingType=At.LoadingType.Refresher,e?(this.privateShowRefresherWhenReload=e,this.useCustomRefresher?this._doRefresherRefreshAnimate():this.refresherTriggered=!0):this._refresherEnd(!1,!1,!1,!1),this._reload(!1,t))},_reload(e=!1,t=!1,o=!1){if(this.isAddedData=!1,this.insideOfPaging=-1,this.cacheScrollNodeHeight=-1,this.pageNo=this.defaultPageNo,this._cleanRefresherEndTimeout(),!this.privateShowRefresherWhenReload&&!e&&this._startLoading(!0),this.firstPageLoaded=!0,this.isTotalChangeFromAddData=!1,this.isSettingCacheList||(this.totalData=[]),!e){this._emitQuery(this.pageNo,this.defaultPageSize,o?At.QueryFrom.UserPullDown:At.QueryFrom.Reload);let e=0;Mt.delay(this._callMyParentQuery,e),!t&&this.autoScrollToTopWhenReload&&this._scrollToTop(!1)}},_addData(e,t,o){this.isAddedData=!0,this.fromEmptyViewReload=!1,this.isTotalChangeFromAddData=!0,this.refresherTriggered=!1,this._endSystemLoadingAndRefresh();const a=this.isUserPullDown;this.showRefresherUpdateTime&&this.isFirstPage&&(Mt.setRefesrherTime(Mt.getTime(),this.refresherUpdateTimeKey),this.$refs.refresh&&this.$refs.refresh.updateTime()),!o&&a&&this.isFirstPage&&(this.isUserPullDown=!1),this.isFirstPage?this.listRendering=!1:(this.listRendering=!0,this.$nextTick((()=>{Mt.delay((()=>this.listRendering=!1))})));let i=this._checkDataType(e,t,o);e=i.data,t=i.success;let n=St;if(this.useChatRecordMode&&(n=0),this.loadingForNow=!1,Mt.delay((()=>{this.pagingLoaded=!0,this.$nextTick((()=>{!o&&this._refresherEnd(n>0,!0,a)}))})),this.isFirstPage&&(this.isLoadFailed=!t,this.$emit("isLoadFailedChange",this.isLoadFailed),this.finalUseCache&&t&&(this.cacheMode===At.CacheMode.Always||this.isSettingCacheList)&&this._saveLocalCache(e)),this.isSettingCacheList=!1,t){if((!1!==this.privateConcat||this.isHandlingRefreshToPage||this.loadingStatus!==At.More.NoMore)&&(this.loadingStatus=At.More.Default),o){this.totalLocalPagingList=e;const t=this.defaultPageNo,o=this.queryFrom!==At.QueryFrom.Refresh?this.defaultPageSize:this.currentRefreshPageSize;this._localPagingQueryList(t,o,0,(e=>{Mt.delay((()=>{this.completeByTotal(e,this.totalLocalPagingList.length)}),0)}))}else{let t=0;Mt.delay((()=>{this._currentDataChange(e,this.currentData),this._callDataPromise(!0,this.totalData)}),t)}this.isHandlingRefreshToPage&&(this.isHandlingRefreshToPage=!1,this.pageNo=this.defaultPageNo+Math.ceil(e.length/this.pageSize)-1,e.length%this.pageSize!=0&&(this.customNoMore=1))}else this._currentDataChange(e,this.currentData),this._callDataPromise(!1),this.loadingStatus=At.More.Fail,this.isHandlingRefreshToPage=!1,this.loadingType===At.LoadingType.LoadMore&&this.pageNo--},_totalDataChange(e,t,o=!0){(this.isUserReload&&this.autoCleanListWhenReload||!this.firstPageLoaded||e.length||!t.length)&&(this._doCheckScrollViewShouldFullHeight(e),this.realTotalData.length||e.length||(o=!1),this.realTotalData=e,o&&(this.$emit("input",e),this.$emit("update:modelValue",e),this.$emit("update:list",e),this.$emit("listChange",e),this._callMyParentList(e)),this.firstPageLoaded=!1,this.isTotalChangeFromAddData=!1,this.$nextTick((()=>{Mt.delay((()=>{this._getNodeClientRect(".zp-paging-container-content").then((e=>{e&&this.$emit("contentHeightChanged",e[0].height)}))}),St*(this.isIos?1:3))})))},_currentDataChange(e,t){e=[...e],this.finalUseVirtualList&&this._setCellIndex(e,"bottom"),this.isFirstPage&&this.finalConcat&&(this.totalData=[]),-1!==this.customNoMore?(1===this.customNoMore||0!==this.customNoMore&&!e.length)&&(this.loadingStatus=At.More.NoMore):(!e.length||e.length&&e.length<this.defaultPageSize)&&(this.loadingStatus=At.More.NoMore),this.totalData.length&&this.finalConcat?(this.oldScrollTop,this.totalData=[...this.totalData,...e]):this.totalData=e,this.privateConcat=!0},_handleRefreshWithDisPageNo(e){if(!this.isHandlingRefreshToPage&&!this.realTotalData.length)return this.reload();if(e>=1){this.loading=!0,this.privateConcat=!1;const t=e*this.pageSize;this.currentRefreshPageSize=t,this.isLocalPaging&&this.isHandlingRefreshToPage?this._localPagingQueryList(this.defaultPageNo,t,0,(e=>{this.complete(e)})):(this._emitQuery(this.defaultPageNo,t,At.QueryFrom.Refresh),this._callMyParentQuery(this.defaultPageNo,t))}return new Promise(((e,t)=>{this.dataPromiseResultMap.reload={resolve:e,reject:t}}))},_localPagingQueryList(e,t,o,a){e=Math.max(1,e),t=Math.max(1,t);const i=[...this.totalLocalPagingList],n=(e-1)*t,l=Math.min(i.length,n+t),r=i.splice(n,l-n);Mt.delay((()=>a(r)),o)},_saveLocalCache(e){uni.setStorageSync(this.finalCacheKey,e)},_setListByLocalCache(){this.totalData=uni.getStorageSync(this.finalCacheKey)||[],this.isSettingCacheList=!0},_callMyParentList(e){if(this.autowireListName.length){const t=Mt.getParent(this.$parent);t&&t[this.autowireListName]&&(t[this.autowireListName]=e)}},_callMyParentQuery(e=0,t=0){if(this.autowireQueryName){if(-1===this.myParentQuery){const e=Mt.getParent(this.$parent);e&&e[this.autowireQueryName]&&(this.myParentQuery=e[this.autowireQueryName])}-1!==this.myParentQuery&&(t>0?this.myParentQuery(e,t):this.myParentQuery(this.pageNo,this.defaultPageSize))}},_emitQuery(e,t,o){this.queryFrom=o,this.requestTimeStamp=Mt.getTime();const[a]=this.realTotalData.slice(-1);if(this.fetch){const i=Yt._handleFetchParams({pageNo:e,pageSize:t,from:o,lastItem:a||null},this.fetchParams),n=this.fetch(i);Yt._handleFetchResult(n,this,i)||(Mt.isPromise(n)?n.then((e=>{this.complete(e)})).catch((e=>{this.complete(!1)})):this.complete(n))}else this.$emit("query",...Yt._handleQuery(e,t,o,a||null))},_callDataPromise(e,t){for(const o in this.dataPromiseResultMap){const a=this.dataPromiseResultMap[o];a&&(e?a.resolve({totalList:t,noMore:this.loadingStatus===At.More.NoMore}):this.callNetworkReject&&a.reject(`z-paging-${o}-error`))}},_checkDataType(e,t,o){const a=Object.prototype.toString.call(e);return"[object Boolean]"===a?(t=e,e=[]):"[object Array]"!==a&&(e=[],"[object Undefined]"!==a&&"[object Null]"!==a&&Mt.consoleErr((o?"setLocalPaging":"complete")+"参数类型不正确，第一个参数类型必须为Array!")),{data:e,success:t}}}},Jt=["{","}"];const Kt=/^(?:\d)+/,Xt=/^(?:\w)+/;const qt="zh-Hans",eo="zh-Hant",to="en",oo=Object.prototype.hasOwnProperty,ao=(e,t)=>oo.call(e,t),io=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,o=Jt){if(!t)return[e];let a=this._caches[e];return a||(a=function(e,[t,o]){const a=[];let i=0,n="";for(;i<e.length;){let l=e[i++];if(l===t){n&&a.push({type:"text",value:n}),n="";let t="";for(l=e[i++];void 0!==l&&l!==o;)t+=l,l=e[i++];const r=l===o,s=Kt.test(t)?"list":r&&Xt.test(t)?"named":"unknown";a.push({value:t,type:s})}else n+=l}return n&&a.push({type:"text",value:n}),a}(e,o),this._caches[e]=a),function(e,t){const o=[];let a=0;const i=Array.isArray(t)?"list":(n=t,null!==n&&"object"==typeof n?"named":"unknown");var n;if("unknown"===i)return o;for(;a<e.length;){const n=e[a];switch(n.type){case"text":o.push(n.value);break;case"list":o.push(t[parseInt(n.value,10)]);break;case"named":"named"===i&&o.push(t[n.value])}a++}return o}(a,t)}};function no(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return qt;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?qt:e.indexOf("-hant")>-1?eo:(o=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==o.indexOf(e)))?eo:qt);var o;let a=[to,"fr","es"];t&&Object.keys(t).length>0&&(a=Object.keys(t));const i=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,a);return i||void 0}class lo{constructor({locale:e,fallbackLocale:t,messages:o,watcher:a,formater:i}){this.locale=to,this.fallbackLocale=to,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=i||io,this.messages=o||{},this.setLocale(e||to),a&&this.watchLocale(a)}setLocale(e){const t=this.locale;this.locale=no(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,o=!0){const a=this.messages[e];a?o?Object.assign(a,t):Object.keys(t).forEach((e=>{ao(a,e)||(a[e]=t[e])})):this.messages[e]=t}f(e,t,o){return this.formater.interpolate(e,t,o).join("")}t(e,t,o){let a=this.message;return"string"==typeof t?(t=no(t,this.messages))&&(a=this.messages[t]):o=t,ao(a,e)?this.formater.interpolate(a[e],o).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}const ro={en:{"zp.refresher.default":"Pull down to refresh","zp.refresher.pulling":"Release to refresh","zp.refresher.refreshing":"Refreshing...","zp.refresher.complete":"Refresh succeeded","zp.refresher.f2":"Refresh to enter 2f","zp.loadingMore.default":"Click to load more","zp.loadingMore.loading":"Loading...","zp.loadingMore.noMore":"No more data","zp.loadingMore.fail":"Load failed,click to reload","zp.emptyView.title":"No data","zp.emptyView.reload":"Reload","zp.emptyView.error":"Sorry,load failed","zp.refresherUpdateTime.title":"Last update: ","zp.refresherUpdateTime.none":"None","zp.refresherUpdateTime.today":"Today","zp.refresherUpdateTime.yesterday":"Yesterday","zp.systemLoading.title":"Loading..."},"zh-Hans":{"zp.refresher.default":"继续下拉刷新","zp.refresher.pulling":"松开立即刷新","zp.refresher.refreshing":"正在刷新...","zp.refresher.complete":"刷新成功","zp.refresher.f2":"松手进入二楼","zp.loadingMore.default":"点击加载更多","zp.loadingMore.loading":"正在加载...","zp.loadingMore.noMore":"没有更多了","zp.loadingMore.fail":"加载失败，点击重新加载","zp.emptyView.title":"没有数据哦~","zp.emptyView.reload":"重新加载","zp.emptyView.error":"很抱歉，加载失败","zp.refresherUpdateTime.title":"最后更新：","zp.refresherUpdateTime.none":"无","zp.refresherUpdateTime.today":"今天","zp.refresherUpdateTime.yesterday":"昨天","zp.systemLoading.title":"加载中..."},"zh-Hant":{"zp.refresher.default":"繼續下拉重繪","zp.refresher.pulling":"鬆開立即重繪","zp.refresher.refreshing":"正在重繪...","zp.refresher.complete":"重繪成功","zp.refresher.f2":"鬆手進入二樓","zp.loadingMore.default":"點擊加載更多","zp.loadingMore.loading":"正在加載...","zp.loadingMore.noMore":"沒有更多了","zp.loadingMore.fail":"加載失敗，點擊重新加載","zp.emptyView.title":"沒有數據哦~","zp.emptyView.reload":"重新加載","zp.emptyView.error":"很抱歉，加載失敗","zp.refresherUpdateTime.title":"最後更新：","zp.refresherUpdateTime.none":"無","zp.refresherUpdateTime.today":"今天","zp.refresherUpdateTime.yesterday":"昨天","zp.systemLoading.title":"加載中..."}},{t:so}=function(e,t={},o,a){if("string"!=typeof e){const o=[t,e];e=o[0],t=o[1]}"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():to),"string"!=typeof o&&(o="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||to);const i=new lo({locale:e,fallbackLocale:o,messages:t,watcher:a});let n=(e,t)=>{if("function"!=typeof getApp)n=function(e,t){return i.t(e,t)};else{let e=!1;n=function(t,o){const a=getApp().$vm;return a&&(a.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(a,i))),i.t(t,o)}}return n(e,t)};return{i18n:i,f:(e,t,o)=>i.f(e,t,o),t:(e,t)=>n(e,t),add:(e,t,o=!0)=>i.add(e,t,o),watch:e=>i.watchLocale(e),getLocale:()=>i.getLocale(),setLocale:e=>i.setLocale(e)}}(ro),co=uni.getSystemInfoSync().language,ho={data:()=>({language:co}),computed:{finalLanguage(){try{const e=uni.getLocale(),t=this.language;return"auto"===e?Yt._handleLanguage2Local(t,this._language2Local(t)):e}catch(e){return"zh-Hans"}},finalRefresherDefaultText(){return this._getI18nText("zp.refresher.default",this.refresherDefaultText)},finalRefresherPullingText(){return this._getI18nText("zp.refresher.pulling",this.refresherPullingText)},finalRefresherRefreshingText(){return this._getI18nText("zp.refresher.refreshing",this.refresherRefreshingText)},finalRefresherCompleteText(){return this._getI18nText("zp.refresher.complete",this.refresherCompleteText)},finalRefresherUpdateTimeTextMap:()=>({title:so("zp.refresherUpdateTime.title"),none:so("zp.refresherUpdateTime.none"),today:so("zp.refresherUpdateTime.today"),yesterday:so("zp.refresherUpdateTime.yesterday")}),finalRefresherGoF2Text(){return this._getI18nText("zp.refresher.f2",this.refresherGoF2Text)},finalLoadingMoreDefaultText(){return this._getI18nText("zp.loadingMore.default",this.loadingMoreDefaultText)},finalLoadingMoreLoadingText(){return this._getI18nText("zp.loadingMore.loading",this.loadingMoreLoadingText)},finalLoadingMoreNoMoreText(){return this._getI18nText("zp.loadingMore.noMore",this.loadingMoreNoMoreText)},finalLoadingMoreFailText(){return this._getI18nText("zp.loadingMore.fail",this.loadingMoreFailText)},finalEmptyViewText(){return this.isLoadFailed?this.finalEmptyViewErrorText:this._getI18nText("zp.emptyView.title",this.emptyViewText)},finalEmptyViewReloadText(){return this._getI18nText("zp.emptyView.reload",this.emptyViewReloadText)},finalEmptyViewErrorText(){return this.customerEmptyViewErrorText||this._getI18nText("zp.emptyView.error",this.emptyViewErrorText)},finalSystemLoadingText(){return this._getI18nText("zp.systemLoading.title",this.systemLoadingText)}},methods:{getLanguage(){return this.finalLanguage},_getI18nText(e,t){const o=Object.prototype.toString.call(t);if("[object Object]"===o){const e=t[this.finalLanguage];if(e)return e}else if("[object String]"===o)return t;return so(e)},_language2Local(e){const t=e.toLowerCase().replace(new RegExp("_",""),"-");return-1!==t.indexOf("zh")?"zh"===t||"zh-cn"===t||-1!==t.indexOf("zh-hans")?"zh-Hans":"zh-Hant":-1!==t.indexOf("en")?"en":e}}},uo={props:{},data:()=>({nRefresherLoading:!1,nListIsDragging:!1,nShowBottom:!0,nFixFreezing:!1,nShowRefresherReveal:!1,nLoadingMoreFixedHeight:!1,nShowRefresherRevealHeight:0,nOldShowRefresherRevealHeight:-1,nRefresherWidth:Mt.rpx2px(750),nF2Opacity:0}),computed:{},mounted(){},methods:{}},mo={props:{hideEmptyView:{type:Boolean,default:Mt.gc("hideEmptyView",!1)},emptyViewText:{type:[String,Object],default:Mt.gc("emptyViewText",null)},showEmptyViewReload:{type:Boolean,default:Mt.gc("showEmptyViewReload",!1)},showEmptyViewReloadWhenError:{type:Boolean,default:Mt.gc("showEmptyViewReloadWhenError",!0)},emptyViewReloadText:{type:[String,Object],default:Mt.gc("emptyViewReloadText",null)},emptyViewImg:{type:String,default:Mt.gc("emptyViewImg","")},emptyViewErrorText:{type:[String,Object],default:Mt.gc("emptyViewErrorText",null)},emptyViewErrorImg:{type:String,default:Mt.gc("emptyViewErrorImg","")},emptyViewStyle:{type:Object,default:Mt.gc("emptyViewStyle",{})},emptyViewSuperStyle:{type:Object,default:Mt.gc("emptyViewSuperStyle",{})},emptyViewImgStyle:{type:Object,default:Mt.gc("emptyViewImgStyle",{})},emptyViewTitleStyle:{type:Object,default:Mt.gc("emptyViewTitleStyle",{})},emptyViewReloadStyle:{type:Object,default:Mt.gc("emptyViewReloadStyle",{})},emptyViewFixed:{type:Boolean,default:Mt.gc("emptyViewFixed",!1)},emptyViewCenter:{type:Boolean,default:Mt.gc("emptyViewCenter",!0)},autoHideEmptyViewWhenLoading:{type:Boolean,default:Mt.gc("autoHideEmptyViewWhenLoading",!0)},autoHideEmptyViewWhenPull:{type:Boolean,default:Mt.gc("autoHideEmptyViewWhenPull",!0)},emptyViewZIndex:{type:Number,default:Mt.gc("emptyViewZIndex",9)}},data:()=>({customerEmptyViewErrorText:""}),computed:{finalEmptyViewImg(){return this.isLoadFailed?this.emptyViewErrorImg:this.emptyViewImg},finalShowEmptyViewReload(){return this.isLoadFailed?this.showEmptyViewReloadWhenError:this.showEmptyViewReload},showEmpty(){return!(this.refresherOnly||this.hideEmptyView||this.realTotalData.length)&&(!this.autoHideEmptyViewWhenLoading||(!(!this.isAddedData||this.firstPageLoaded||this.loading)||!this.autoHideEmptyViewWhenPull&&!this.isUserReload))}},methods:{_emptyViewReload(){let e=!1;this.$emit("emptyViewReload",(t=>{void 0!==t&&!0!==t||(this.fromEmptyViewReload=!0,this.reload().catch((()=>{}))),e=!0})),this.$nextTick((()=>{e||(this.fromEmptyViewReload=!0,this.reload().catch((()=>{})))}))},_emptyViewClick(){this.$emit("emptyViewClick")}}},po={props:{refresherThemeStyle:{type:String,default:Mt.gc("refresherThemeStyle","")},refresherImgStyle:{type:Object,default:Mt.gc("refresherImgStyle",{})},refresherTitleStyle:{type:Object,default:Mt.gc("refresherTitleStyle",{})},refresherUpdateTimeStyle:{type:Object,default:Mt.gc("refresherUpdateTimeStyle",{})},watchRefresherTouchmove:{type:Boolean,default:Mt.gc("watchRefresherTouchmove",!1)},loadingMoreThemeStyle:{type:String,default:Mt.gc("loadingMoreThemeStyle","")},refresherOnly:{type:Boolean,default:Mt.gc("refresherOnly",!1)},refresherDefaultDuration:{type:[Number,String],default:Mt.gc("refresherDefaultDuration",100)},refresherCompleteDelay:{type:[Number,String],default:Mt.gc("refresherCompleteDelay",0)},refresherCompleteDuration:{type:[Number,String],default:Mt.gc("refresherCompleteDuration",300)},refresherRefreshingScrollable:{type:Boolean,default:Mt.gc("refresherRefreshingScrollable",!0)},refresherCompleteScrollable:{type:Boolean,default:Mt.gc("refresherCompleteScrollable",!1)},useCustomRefresher:{type:Boolean,default:Mt.gc("useCustomRefresher",!0)},refresherFps:{type:[Number,String],default:Mt.gc("refresherFps",40)},refresherMaxAngle:{type:[Number,String],default:Mt.gc("refresherMaxAngle",40)},refresherAngleEnableChangeContinued:{type:Boolean,default:Mt.gc("refresherAngleEnableChangeContinued",!1)},refresherDefaultText:{type:[String,Object],default:Mt.gc("refresherDefaultText",null)},refresherPullingText:{type:[String,Object],default:Mt.gc("refresherPullingText",null)},refresherRefreshingText:{type:[String,Object],default:Mt.gc("refresherRefreshingText",null)},refresherCompleteText:{type:[String,Object],default:Mt.gc("refresherCompleteText",null)},refresherGoF2Text:{type:[String,Object],default:Mt.gc("refresherGoF2Text",null)},refresherDefaultImg:{type:String,default:Mt.gc("refresherDefaultImg",null)},refresherPullingImg:{type:String,default:Mt.gc("refresherPullingImg",null)},refresherRefreshingImg:{type:String,default:Mt.gc("refresherRefreshingImg",null)},refresherCompleteImg:{type:String,default:Mt.gc("refresherCompleteImg",null)},refresherRefreshingAnimated:{type:Boolean,default:Mt.gc("refresherRefreshingAnimated",!0)},refresherEndBounceEnabled:{type:Boolean,default:Mt.gc("refresherEndBounceEnabled",!0)},refresherEnabled:{type:Boolean,default:Mt.gc("refresherEnabled",!0)},refresherThreshold:{type:[Number,String],default:Mt.gc("refresherThreshold","80rpx")},refresherDefaultStyle:{type:String,default:Mt.gc("refresherDefaultStyle","black")},refresherBackground:{type:String,default:Mt.gc("refresherBackground","transparent")},refresherFixedBackground:{type:String,default:Mt.gc("refresherFixedBackground","transparent")},refresherFixedBacHeight:{type:[Number,String],default:Mt.gc("refresherFixedBacHeight",0)},refresherOutRate:{type:Number,default:Mt.gc("refresherOutRate",.65)},refresherF2Enabled:{type:Boolean,default:Mt.gc("refresherF2Enabled",!1)},refresherF2Threshold:{type:[Number,String],default:Mt.gc("refresherF2Threshold","200rpx")},refresherF2Duration:{type:[Number,String],default:Mt.gc("refresherF2Duration",200)},showRefresherF2:{type:Boolean,default:Mt.gc("showRefresherF2",!0)},refresherPullRate:{type:Number,default:Mt.gc("refresherPullRate",.75)},showRefresherUpdateTime:{type:Boolean,default:Mt.gc("showRefresherUpdateTime",!1)},refresherUpdateTimeKey:{type:String,default:Mt.gc("refresherUpdateTimeKey","default")},refresherVibrate:{type:Boolean,default:Mt.gc("refresherVibrate",!1)},refresherNoTransform:{type:Boolean,default:Mt.gc("refresherNoTransform",!1)},useRefresherStatusBarPlaceholder:{type:Boolean,default:Mt.gc("useRefresherStatusBarPlaceholder",!1)}},data:()=>({R:At.Refresher,refresherStatus:At.Refresher.Default,refresherTouchstartY:0,lastRefresherTouchmove:null,refresherReachMaxAngle:!0,refresherTransform:"translateY(0px)",refresherTransition:"",finalRefresherDefaultStyle:"black",refresherRevealStackCount:0,refresherCompleteTimeout:null,refresherCompleteSubTimeout:null,refresherEndTimeout:null,isTouchmovingTimeout:null,refresherTriggered:!1,isTouchmoving:!1,isTouchEnded:!1,isUserPullDown:!1,privateRefresherEnabled:-1,privateShowRefresherWhenReload:!1,customRefresherHeight:-1,showCustomRefresher:!1,doRefreshAnimateAfter:!1,isRefresherInComplete:!1,showF2:!1,f2Transform:"",pullDownTimeStamp:0,moveDis:0,oldMoveDis:0,currentDis:0,oldCurrentMoveDis:0,oldRefresherTouchmoveY:0,oldTouchDirection:"",oldEmitedTouchDirection:"",oldPullingDistance:-1,refresherThresholdUpdateTag:0}),watch:{refresherDefaultStyle:{handler(e){e.length&&(this.finalRefresherDefaultStyle=e)},immediate:!0},refresherStatus(e){e===At.Refresher.Refreshing&&this._cleanRefresherEndTimeout(),this.refresherVibrate&&(e===At.Refresher.ReleaseToRefresh||e===At.Refresher.GoF2)&&this._doVibrateShort(),this.$emit("refresherStatusChange",e),this.$emit("update:refresherStatus",e)},refresherEnabled(e){!e&&this.endRefresh()}},computed:{pullDownDisTimeStamp(){return 1e3/this.refresherFps},refresherThresholdUnitConverted(){return Mt.addUnit(this.refresherThreshold,this.unit)},finalRefresherEnabled(){return!this.useChatRecordMode&&(-1===this.privateRefresherEnabled?this.refresherEnabled:1===this.privateRefresherEnabled)},finalRefresherThreshold(){let e=this.refresherThresholdUnitConverted,t=!1;return e===Mt.addUnit(80,this.unit)&&(t=!0,this.showRefresherUpdateTime&&(e=Mt.addUnit(120,this.unit))),t&&this.customRefresherHeight>0?this.customRefresherHeight+this.finalRefresherThresholdPlaceholder:Mt.convertToPx(e)+this.finalRefresherThresholdPlaceholder},finalRefresherF2Threshold(){return Mt.convertToPx(Mt.addUnit(this.refresherF2Threshold,this.unit))},finalRefresherThresholdPlaceholder(){return this.useRefresherStatusBarPlaceholder?this.statusBarHeight:0},finalRefresherFixedBacHeight(){return Mt.convertToPx(this.refresherFixedBacHeight)},finalRefresherThemeStyle(){return this.refresherThemeStyle.length?this.refresherThemeStyle:this.defaultThemeStyle},finalRefresherOutRate(){let e=this.refresherOutRate;return e=Math.max(0,e),e=Math.min(1,e),e},finalRefresherPullRate(){let e=this.refresherPullRate;return e=Math.max(0,e),e},finalRefresherTransform(){return this.refresherNoTransform||"translateY(0px)"===this.refresherTransform?"none":this.refresherTransform},finalShowRefresherWhenReload(){return this.showRefresherWhenReload||this.privateShowRefresherWhenReload},finalRefresherTriggered(){return!(!this.finalRefresherEnabled||this.useCustomRefresher)&&this.refresherTriggered},showRefresher(){const e=this.finalRefresherEnabled||this.useCustomRefresher&&!this.useChatRecordMode;return this.active&&-1===this.customRefresherHeight&&e&&this.updateCustomRefresherHeight(),e},hasTouchmove(){return this.watchRefresherTouchmove}},methods:{endRefresh(){this.totalData=this.realTotalData,this._refresherEnd(),this._endSystemLoadingAndRefresh(),this._handleScrollViewBounce({bounce:!0}),this.$nextTick((()=>{this.refresherTriggered=!1}))},updateCustomRefresherHeight(){Mt.delay((()=>this.$nextTick(this._updateCustomRefresherHeight)))},closeF2(){this._handleCloseF2()},_onRefresh(e=!1,t=!0){(!e||this.finalRefresherEnabled&&!this.useCustomRefresher)&&(this.$emit("onRefresh"),this.$emit("Refresh"),this.loading||this.isRefresherInComplete||(this.loadingType=At.LoadingType.Refresher,this.nShowRefresherReveal||(this.isUserPullDown=t,this.isUserReload=!t,this._startLoading(!0),this.refresherTriggered=!0,this.reloadWhenRefresh&&t&&(this.useChatRecordMode?this._onLoadingMore("click"):this._reload(!1,!1,t)))))},_onRestore(){this.refresherTriggered="restore",this.$emit("onRestore"),this.$emit("Restore")},_handleRefresherTouchstart(e){!this.loading&&this.isTouchEnded&&(this.isTouchmoving=!1),this.loadingType=At.LoadingType.Refresher,this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this.isTouchEnded=!1,this.refresherTransition="",this.refresherTouchstartY=e.touchY,this.$emit("refresherTouchstart",this.refresherTouchstartY),this.lastRefresherTouchmove=e,this._cleanRefresherCompleteTimeout(),this._cleanRefresherEndTimeout()},_refresherTouchmove(e){const t=Mt.getTime();let o=null,a=0;if(this.watchTouchDirectionChange){o=Mt.getTouch(e),a=o.touchY;const t=a>this.oldRefresherTouchmoveY?"top":"bottom";t===this.oldTouchDirection&&t!==this.oldEmitedTouchDirection&&(this._handleTouchDirectionChange({direction:t}),this.oldEmitedTouchDirection=t),this.oldTouchDirection=t,this.oldRefresherTouchmoveY=a}if(this.pullDownTimeStamp&&t-this.pullDownTimeStamp<=this.pullDownDisTimeStamp)return;if(this._touchDisabled())return;this.pullDownTimeStamp=Number(t),o=Mt.getTouch(e),a=o.touchY;let i=a-this.refresherTouchstartY;if(!(i<0)){if(this.refresherMaxAngle>=0&&this.refresherMaxAngle<=90&&this.lastRefresherTouchmove&&this.lastRefresherTouchmove.touchY<=a){if(!i&&!this.refresherAngleEnableChangeContinued&&this.moveDis<1&&!this.refresherReachMaxAngle)return;const e=Math.abs(o.touchX-this.lastRefresherTouchmove.touchX),t=Math.abs(a-this.lastRefresherTouchmove.touchY),n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2));if((e||t)&&e>1){if(Math.asin(t/n)/Math.PI*180<this.refresherMaxAngle)return this.lastRefresherTouchmove=o,void(this.refresherReachMaxAngle=!1)}}i=this._getFinalRefresherMoveDis(i),this._handleRefresherTouchmove(i,o),this.disabledBounce||(this._handleScrollViewBounce({bounce:!1}),this.disabledBounce=!0),this._emitTouchmove({pullingDistance:i,dy:this.moveDis-this.oldMoveDis})}},_handleRefresherTouchmove(e,t){this.refresherReachMaxAngle=!0,this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this.isTouchmoving=!0,this.isTouchEnded=!1,e>=this.finalRefresherThreshold?this.refresherStatus=this.refresherF2Enabled&&e>=this.finalRefresherF2Threshold?At.Refresher.GoF2:At.Refresher.ReleaseToRefresh:this.refresherStatus=At.Refresher.Default,this.moveDis=e},_handleRefresherTouchend(e){this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this.refresherReachMaxAngle=!0,this.isTouchEnded=!0;const t=this.finalRefresherThreshold;e>=t&&(this.refresherStatus===At.Refresher.ReleaseToRefresh||this.refresherStatus===At.Refresher.GoF2)?this.refresherStatus===At.Refresher.GoF2?(this._handleGoF2(),this._refresherEnd()):(Mt.delay((()=>{this._emitTouchmove({pullingDistance:t,dy:this.moveDis-t})}),.1),this.moveDis=t,this.refresherStatus=At.Refresher.Refreshing,this._doRefresherLoad()):(this._refresherEnd(),this.isTouchmovingTimeout=Mt.delay((()=>{this.isTouchmoving=!1}),this.refresherDefaultDuration)),this.scrollEnable=!0,this.$emit("refresherTouchend",e)},_handleListTouchstart(){this.useChatRecordMode&&this.autoHideKeyboardWhenChat&&(uni.hideKeyboard(),this.$emit("hidedKeyboard"))},_handleScrollViewBounce({bounce:e}){this.usePageScroll||this.scrollToTopBounceEnabled||(this.wxsScrollTop<=5?(this.refresherTransition="",this.scrollEnable=e):e&&(this.scrollEnable=e))},_handleWxsPullingDownStatusChange(e){this.wxsOnPullingDown=e,e&&!this.useChatRecordMode&&(this.renderPropScrollTop=0)},_handleWxsPullingDown({moveDis:e,diffDis:t}){this._emitTouchmove({pullingDistance:e,dy:t})},_handleTouchDirectionChange({direction:e}){this.$emit("touchDirectionChange",e)},_handlePropUpdate(){this.wxsPropType=Mt.getTime().toString()},_refresherEnd(e=!0,t=!1,o=!1,a=!0){if(this.loadingType===At.LoadingType.Refresher){const e=t&&(o||this.showRefresherWhenReload)?this.refresherCompleteDelay:0,a=e>0?At.Refresher.Complete:At.Refresher.Default;if(this.finalShowRefresherWhenReload){const e=this.refresherRevealStackCount;if(this.refresherRevealStackCount--,e>1)return}this._cleanRefresherEndTimeout(),this.refresherEndTimeout=Mt.delay((()=>{this.refresherStatus=a,a!==At.Refresher.Complete&&(this.isRefresherInComplete=!1)}),this.refresherStatus!==At.Refresher.Default&&a===At.Refresher.Default?this.refresherCompleteDuration:0),e>0&&(this.isRefresherInComplete=!0),this._cleanRefresherCompleteTimeout(),this.refresherCompleteTimeout=Mt.delay((()=>{let e=1;const o=this.refresherEndBounceEnabled&&t?"cubic-bezier(0.19,1.64,0.42,0.72)":"linear";t&&(e=this.refresherEndBounceEnabled?this.refresherCompleteDuration/1e3:this.refresherCompleteDuration/3e3),this.refresherTransition=`transform ${t?e:this.refresherDefaultDuration/1e3}s ${o}`,this.wxsPropType=this.refresherTransition+"end"+Mt.getTime(),this.moveDis=0,a===At.Refresher.Complete&&(this.refresherCompleteSubTimeout&&(clearTimeout(this.refresherCompleteSubTimeout),this.refresherCompleteSubTimeout=null),this.refresherCompleteSubTimeout=Mt.delay((()=>{this.$nextTick((()=>{this.refresherStatus=At.Refresher.Default,this.isRefresherInComplete=!1}))}),800*e)),this._emitTouchmove({pullingDistance:0,dy:this.moveDis})}),e)}a&&(Mt.delay((()=>this.loading=!1),e?10:0),o&&this._onRestore())},_handleGoF2(){!this.showF2&&this.refresherF2Enabled&&(this.$emit("refresherF2Change","go"),this.showRefresherF2&&(this.f2Transform=`translateY(${-this.superContentHeight}px)`,this.showF2=!0,Mt.delay((()=>{this.f2Transform="translateY(0px)"}),100,"f2ShowDelay")))},_handleCloseF2(){this.showF2&&this.refresherF2Enabled&&(this.$emit("refresherF2Change","close"),this.showRefresherF2&&(this.f2Transform=`translateY(${-this.superContentHeight}px)`,Mt.delay((()=>{this.showF2=!1,this.nF2Opacity=0}),this.refresherF2Duration,"f2CloseDelay")))},_doRefresherRefreshAnimate(){this._cleanRefresherCompleteTimeout();!this.doRefreshAnimateAfter&&this.finalShowRefresherWhenReload&&-1===this.customRefresherHeight&&this.refresherThreshold===Mt.addUnit(80,this.unit)?this.doRefreshAnimateAfter=!0:(this.refresherRevealStackCount++,this.wxsPropType="begin"+Mt.getTime(),this.moveDis=this.finalRefresherThreshold,this.refresherStatus=At.Refresher.Refreshing,this.isTouchmoving=!0,this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this._doRefresherLoad(!1))},_doRefresherLoad(e=!0){this._onRefresh(!1,e),this.loading=!0},_updateCustomRefresherHeight(){this._getNodeClientRect(".zp-custom-refresher-slot-view").then((e=>{this.customRefresherHeight=e?e[0].height:0,this.showCustomRefresher=this.customRefresherHeight>0,this.doRefreshAnimateAfter&&(this.doRefreshAnimateAfter=!1,this._doRefresherRefreshAnimate())}))},_emitTouchmove(e){e.viewHeight=this.finalRefresherThreshold,e.rate=e.viewHeight>0?e.pullingDistance/e.viewHeight:0,this.hasTouchmove&&this.oldPullingDistance!==e.pullingDistance&&this.$emit("refresherTouchmove",e),this.oldPullingDistance=e.pullingDistance},_cleanRefresherCompleteTimeout(){this.refresherCompleteTimeout=this._cleanTimeout(this.refresherCompleteTimeout)},_cleanRefresherEndTimeout(){this.refresherEndTimeout=this._cleanTimeout(this.refresherEndTimeout)}}},go={props:{loadingMoreCustomStyle:{type:Object,default:Mt.gc("loadingMoreCustomStyle",{})},loadingMoreTitleCustomStyle:{type:Object,default:Mt.gc("loadingMoreTitleCustomStyle",{})},loadingMoreLoadingIconCustomStyle:{type:Object,default:Mt.gc("loadingMoreLoadingIconCustomStyle",{})},loadingMoreLoadingIconType:{type:String,default:Mt.gc("loadingMoreLoadingIconType","flower")},loadingMoreLoadingIconCustomImage:{type:String,default:Mt.gc("loadingMoreLoadingIconCustomImage","")},loadingMoreLoadingAnimated:{type:Boolean,default:Mt.gc("loadingMoreLoadingAnimated",!0)},loadingMoreEnabled:{type:Boolean,default:Mt.gc("loadingMoreEnabled",!0)},toBottomLoadingMoreEnabled:{type:Boolean,default:Mt.gc("toBottomLoadingMoreEnabled",!0)},loadingMoreDefaultAsLoading:{type:Boolean,default:Mt.gc("loadingMoreDefaultAsLoading",!1)},loadingMoreDefaultText:{type:[String,Object],default:Mt.gc("loadingMoreDefaultText",null)},loadingMoreLoadingText:{type:[String,Object],default:Mt.gc("loadingMoreLoadingText",null)},loadingMoreNoMoreText:{type:[String,Object],default:Mt.gc("loadingMoreNoMoreText",null)},loadingMoreFailText:{type:[String,Object],default:Mt.gc("loadingMoreFailText",null)},hideNoMoreInside:{type:Boolean,default:Mt.gc("hideNoMoreInside",!1)},hideNoMoreByLimit:{type:Number,default:Mt.gc("hideNoMoreByLimit",0)},showDefaultLoadingMoreText:{type:Boolean,default:Mt.gc("showDefaultLoadingMoreText",!0)},showLoadingMoreNoMoreView:{type:Boolean,default:Mt.gc("showLoadingMoreNoMoreView",!0)},showLoadingMoreNoMoreLine:{type:Boolean,default:Mt.gc("showLoadingMoreNoMoreLine",!0)},loadingMoreNoMoreLineCustomStyle:{type:Object,default:Mt.gc("loadingMoreNoMoreLineCustomStyle",{})},insideMore:{type:Boolean,default:Mt.gc("insideMore",!1)},lowerThreshold:{type:[Number,String],default:Mt.gc("lowerThreshold","100rpx")}},data:()=>({M:At.More,loadingStatus:At.More.Default,loadingStatusAfterRender:At.More.Default,loadingMoreTimeStamp:0,loadingMoreDefaultSlot:null,showLoadingMore:!1,customNoMore:-1}),computed:{zLoadMoreConfig(){return{status:this.loadingStatusAfterRender,defaultAsLoading:this.loadingMoreDefaultAsLoading||this.useChatRecordMode&&this.chatLoadingMoreDefaultAsLoading,defaultThemeStyle:this.finalLoadingMoreThemeStyle,customStyle:this.loadingMoreCustomStyle,titleCustomStyle:this.loadingMoreTitleCustomStyle,iconCustomStyle:this.loadingMoreLoadingIconCustomStyle,loadingIconType:this.loadingMoreLoadingIconType,loadingIconCustomImage:this.loadingMoreLoadingIconCustomImage,loadingAnimated:this.loadingMoreLoadingAnimated,showNoMoreLine:this.showLoadingMoreNoMoreLine,noMoreLineCustomStyle:this.loadingMoreNoMoreLineCustomStyle,defaultText:this.finalLoadingMoreDefaultText,loadingText:this.finalLoadingMoreLoadingText,noMoreText:this.finalLoadingMoreNoMoreText,failText:this.finalLoadingMoreFailText,hideContent:!this.loadingMoreDefaultAsLoading&&this.listRendering,unit:this.unit,isChat:this.useChatRecordMode,chatDefaultAsLoading:this.chatLoadingMoreDefaultAsLoading}},finalLoadingMoreThemeStyle(){return this.loadingMoreThemeStyle.length?this.loadingMoreThemeStyle:this.defaultThemeStyle},finalLowerThreshold(){return Mt.convertToPx(this.lowerThreshold)},showLoadingMoreDefault(){return this._showLoadingMore("Default")},showLoadingMoreLoading(){return this._showLoadingMore("Loading")},showLoadingMoreNoMore(){return this._showLoadingMore("NoMore")},showLoadingMoreFail(){return this._showLoadingMore("Fail")},showLoadingMoreCustom(){return this._showLoadingMore("Custom")},loadingMoreFixedHeight(){return Mt.addUnit("80rpx",this.unit)}},methods:{pageReachBottom(){!this.useChatRecordMode&&this.toBottomLoadingMoreEnabled&&this._onLoadingMore("toBottom")},doLoadMore(e){this._onLoadingMore(e)},_checkScrolledToBottom(e,t=!1){-1===this.cacheScrollNodeHeight?this._getNodeClientRect(".zp-scroll-view").then((t=>{if(t){const o=t[0].height;this.cacheScrollNodeHeight=o,e-o<=this.finalLowerThreshold&&this._onLoadingMore("toBottom")}})):(e-this.cacheScrollNodeHeight<=this.finalLowerThreshold?this._onLoadingMore("toBottom"):e-this.cacheScrollNodeHeight<=500&&!t&&Mt.delay((()=>{this._getNodeClientRect(".zp-scroll-view",!0,!0).then((e=>{if(e){this.oldScrollTop=e[0].scrollTop;const t=e[0].scrollHeight-this.oldScrollTop;this._checkScrolledToBottom(t,!0)}}))}),150,"checkScrolledToBottomDelay"),this.oldScrollTop<=150&&0!==this.oldScrollTop&&Mt.delay((()=>{0!==this.oldScrollTop&&this._getNodeClientRect(".zp-scroll-view",!0,!0).then((e=>{e&&0===e[0].scrollTop&&0!==this.oldScrollTop&&this._onScrollToUpper()}))}),150,"checkScrolledToTopDelay"))},_onLoadingMore(e="click"){this.isIos&&"toBottom"===e&&!this.scrollToBottomBounceEnabled&&this.scrollEnable&&(this.scrollEnable=!1,this.$nextTick((()=>{this.scrollEnable=!0}))),this.$emit("scrolltolower",e),this.refresherOnly||!this.loadingMoreEnabled||this.loadingStatus!==At.More.Default&&this.loadingStatus!==At.More.Fail||this.loading||this.showEmpty||this._doLoadingMore()},_doLoadingMore(){this.pageNo>=this.defaultPageNo&&this.loadingStatus!==At.More.NoMore&&(this.pageNo++,this._startLoading(!1),this.isLocalPaging?this._localPagingQueryList(this.pageNo,this.defaultPageSize,this.localPagingLoadingTime,(e=>{this.completeByTotal(e,this.totalLocalPagingList.length),this.queryFrom=At.QueryFrom.LoadMore})):(this._emitQuery(this.pageNo,this.defaultPageSize,At.QueryFrom.LoadMore),this._callMyParentQuery()),this.loadingType=At.LoadingType.LoadMore)},_preCheckShowNoMoreInside(e,t,o){this.loadingStatus===At.More.NoMore&&this.hideNoMoreByLimit>0&&e.length?this.showLoadingMore=e.length>this.hideNoMoreByLimit:this.loadingStatus===At.More.NoMore&&this.hideNoMoreInside&&e.length||this.insideMore&&!1!==this.insideOfPaging&&e.length?(this.$nextTick((()=>{this._checkShowNoMoreInside(e,t,o)})),this.insideMore&&!1!==this.insideOfPaging&&e.length&&(this.showLoadingMore=e.length)):this.showLoadingMore=e.length},async _checkShowNoMoreInside(e,t,o){try{const e=t||await this._getNodeClientRect(".zp-scroll-view");if(this.usePageScroll){if(e){const t=e[0].top+e[0].height;this.insideOfPaging=t<this.windowHeight,this.hideNoMoreInside&&(this.showLoadingMore=!this.insideOfPaging),this._updateInsideOfPaging()}}else{const t=o||await this._getNodeClientRect(".zp-paging-container-content"),a=t?t[0].height:0,i=e?e[0].height:0;this.insideOfPaging=a<i,this.hideNoMoreInside&&(this.showLoadingMore=!this.insideOfPaging),this._updateInsideOfPaging()}}catch(a){this.insideOfPaging=!e.length,this.hideNoMoreInside&&(this.showLoadingMore=!this.insideOfPaging),this._updateInsideOfPaging()}},_showLoadingMore(e){if(!this.showLoadingMoreWhenReload&&(this.loadingStatus===At.More.Default&&!this.nShowBottom||!this.realTotalData.length))return!1;if((!this.showLoadingMoreWhenReload||this.isUserPullDown||this.loadingStatus!==At.More.Loading)&&!this.showLoadingMore||!this.loadingMoreEnabled&&(!this.showLoadingMoreWhenReload||this.isUserPullDown||this.loadingStatus!==At.More.Loading)||this.refresherOnly)return!1;if(this.useChatRecordMode&&"Loading"!==e)return!1;if(!this.zSlots)return!1;if("Custom"===e)return this.showDefaultLoadingMoreText&&!(this.loadingStatus===At.More.NoMore&&!this.showLoadingMoreNoMoreView);return this.loadingStatus===At.More[e]&&this.zSlots[`loadingMore${e}`]&&("NoMore"!==e||this.showLoadingMoreNoMoreView)}}},fo={props:{autoHideLoadingAfterFirstLoaded:{type:Boolean,default:Mt.gc("autoHideLoadingAfterFirstLoaded",!0)},loadingFullFixed:{type:Boolean,default:Mt.gc("loadingFullFixed",!1)},autoShowSystemLoading:{type:Boolean,default:Mt.gc("autoShowSystemLoading",!1)},systemLoadingMask:{type:Boolean,default:Mt.gc("systemLoadingMask",!0)},systemLoadingText:{type:[String,Object],default:Mt.gc("systemLoadingText",null)}},data:()=>({loading:!1,loadingForNow:!1}),watch:{loadingStatus(e){this.$emit("loadingStatusChange",e),this.$nextTick((()=>{this.loadingStatusAfterRender=e})),!this.useChatRecordMode||!this.isFirstPage||e!==At.More.NoMore&&e!==At.More.Fail?this.isFirstPageAndNoMore=!1:this.isFirstPageAndNoMore=!0},loading(e){e&&(this.loadingForNow=e)}},computed:{showLoading(){return!(this.firstPageLoaded||!this.loading||!this.loadingForNow)&&(this.finalShowSystemLoading&&uni.showLoading({title:this.finalSystemLoadingText,mask:this.systemLoadingMask}),this.autoHideLoadingAfterFirstLoaded?!!this.fromEmptyViewReload||!this.pagingLoaded:this.loadingType===At.LoadingType.Refresher)},finalShowSystemLoading(){return this.autoShowSystemLoading&&this.loadingType===At.LoadingType.Refresher}},methods:{_startLoading(e=!1){(this.showLoadingMoreWhenReload&&!this.isUserPullDown||!e)&&(this.loadingStatus=At.More.Loading),this.loading=!0},_endSystemLoadingAndRefresh(){this.finalShowSystemLoading&&uni.hideLoading(),!this.useCustomRefresher&&uni.stopPullDownRefresh()}}},yo={props:{useChatRecordMode:{type:Boolean,default:Mt.gc("useChatRecordMode",!1)},chatRecordMoreOffset:{type:[Number,String],default:Mt.gc("chatRecordMoreOffset","0rpx")},autoHideKeyboardWhenChat:{type:Boolean,default:Mt.gc("autoHideKeyboardWhenChat",!0)},autoAdjustPositionWhenChat:{type:Boolean,default:Mt.gc("autoAdjustPositionWhenChat",!0)},chatAdjustPositionOffset:{type:[Number,String],default:Mt.gc("chatAdjustPositionOffset","0rpx")},autoToBottomWhenChat:{type:Boolean,default:Mt.gc("autoToBottomWhenChat",!1)},showChatLoadingWhenReload:{type:Boolean,default:Mt.gc("showChatLoadingWhenReload",!1)},chatLoadingMoreDefaultAsLoading:{type:Boolean,default:Mt.gc("chatLoadingMoreDefaultAsLoading",!0)}},data:()=>({keyboardHeight:0,isKeyboardHeightChanged:!1}),computed:{finalChatRecordMoreOffset(){return Mt.convertToPx(this.chatRecordMoreOffset)},finalChatAdjustPositionOffset(){return Mt.convertToPx(this.chatAdjustPositionOffset)},chatRecordRotateStyle(){let e;return e=this.useChatRecordMode?{transform:"scaleY(-1)"}:{},this.$emit("update:cellStyle",e),this.$emit("cellStyleChange",e),this.$nextTick((()=>{this.isFirstPage&&this.isChatRecordModeAndNotInversion&&this.$nextTick((()=>{this._scrollToBottom(!1),Mt.delay((()=>{this._scrollToBottom(!1),Mt.delay((()=>{this._scrollToBottom(!1)}),50)}),50)}))})),e},isChatRecordModeHasTransform(){return this.useChatRecordMode&&this.chatRecordRotateStyle&&this.chatRecordRotateStyle.transform},isChatRecordModeAndNotInversion(){return this.isChatRecordModeHasTransform&&"scaleY(1)"===this.chatRecordRotateStyle.transform},isChatRecordModeAndInversion(){return this.isChatRecordModeHasTransform&&"scaleY(-1)"===this.chatRecordRotateStyle.transform},chatRecordModeSafeAreaBottom(){return this.safeAreaInsetBottom&&!this.keyboardHeight?this.safeAreaBottom:0}},mounted(){this.useChatRecordMode&&uni.onKeyboardHeightChange(this._handleKeyboardHeightChange)},methods:{addChatRecordData(e,t=!0,o=!0){this.useChatRecordMode&&(this.isTotalChangeFromAddData=!0,this.addDataFromTop(e,t,o))},doChatRecordLoadMore(){this.useChatRecordMode&&this._onLoadingMore("click")},_handleKeyboardHeightChange(e){this.$emit("keyboardHeightChange",e),this.autoAdjustPositionWhenChat&&(this.isKeyboardHeightChanged=!0,this.keyboardHeight=e.height>0?e.height+this.finalChatAdjustPositionOffset:e.height),this.autoToBottomWhenChat&&this.keyboardHeight>0&&Mt.delay((()=>{this.scrollToBottom(!1),Mt.delay((()=>{this.scrollToBottom(!1)}))}))}}},vo={props:{usePageScroll:{type:Boolean,default:Mt.gc("usePageScroll",!1)},scrollable:{type:Boolean,default:Mt.gc("scrollable",!0)},showScrollbar:{type:Boolean,default:Mt.gc("showScrollbar",!0)},scrollX:{type:Boolean,default:Mt.gc("scrollX",!1)},scrollToTopBounceEnabled:{type:Boolean,default:Mt.gc("scrollToTopBounceEnabled",!1)},scrollToBottomBounceEnabled:{type:Boolean,default:Mt.gc("scrollToBottomBounceEnabled",!0)},scrollWithAnimation:{type:Boolean,default:Mt.gc("scrollWithAnimation",!1)},scrollIntoView:{type:String,default:Mt.gc("scrollIntoView","")}},data:()=>({scrollTop:0,oldScrollTop:0,scrollViewStyle:{},scrollViewContainerStyle:{},scrollViewInStyle:{},pageScrollTop:-1,scrollEnable:!0,privateScrollWithAnimation:-1,cacheScrollNodeHeight:-1,superContentHeight:0}),watch:{oldScrollTop(e){!this.usePageScroll&&this._scrollTopChange(e,!1)},pageScrollTop(e){this.usePageScroll&&this._scrollTopChange(e,!0)},usePageScroll:{handler(e){this.loaded&&this.autoHeight&&this._setAutoHeight(!e)},immediate:!0},finalScrollTop(e){this.renderPropScrollTop=e<6?0:10}},computed:{finalScrollWithAnimation(){return-1!==this.privateScrollWithAnimation?1===this.privateScrollWithAnimation:this.scrollWithAnimation},finalScrollViewStyle(){return 1!=this.superContentZIndex&&(this.scrollViewStyle["z-index"]=this.superContentZIndex,this.scrollViewStyle.position="relative"),this.scrollViewStyle},finalScrollTop(){return this.usePageScroll?this.pageScrollTop:this.oldScrollTop},finalIsOldWebView(){return this.isOldWebView&&!this.usePageScroll},finalScrollable(){return this.scrollable&&!this.usePageScroll&&this.scrollEnable&&(!!this.refresherCompleteScrollable||this.refresherStatus!==At.Refresher.Complete)&&(!!this.refresherRefreshingScrollable||this.refresherStatus!==At.Refresher.Refreshing)}},methods:{scrollToTop(e,t=!0){this.useChatRecordMode&&t&&!this.isChatRecordModeAndNotInversion?this.scrollToBottom(e,!1):this.$nextTick((()=>{this._scrollToTop(e,!1)}))},scrollToBottom(e,t=!0){this.useChatRecordMode&&t&&!this.isChatRecordModeAndNotInversion?this.scrollToTop(e,!1):this.$nextTick((()=>{this._scrollToBottom(e)}))},scrollIntoViewById(e,t,o){this._scrollIntoView(e,t,o)},scrollIntoViewByNodeTop(e,t,o){this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this._scrollIntoViewByNodeTop(e,t,o)}))},scrollToY(e,t,o){this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this._scrollToY(e,t,o)}))},scrollIntoViewByIndex(e,t,o){e>=this.realTotalData.length?Mt.consoleErr("当前滚动的index超出已渲染列表长度，请先通过refreshToPage加载到对应index页并等待渲染成功后再调用此方法！"):this.$nextTick((()=>{if(this.finalUseVirtualList){const a=this.cellHeightMode===At.CellHeightMode.Fixed;Mt.delay((()=>{if(this.finalUseVirtualList){const i=a?this.virtualCellHeight*e:this.virtualHeightCacheList[e].lastTotalHeight;this.scrollToY(i,t,o)}}),a?0:100)}}))},scrollIntoViewByView(e,t,o){this._scrollIntoView(e,t,o)},updatePageScrollTop(e){this.pageScrollTop=e},updatePageScrollTopHeight(){this._updatePageScrollTopOrBottomHeight("top")},updatePageScrollBottomHeight(){this._updatePageScrollTopOrBottomHeight("bottom")},updateLeftAndRightWidth(){this.finalIsOldWebView&&this.$nextTick((()=>this._updateLeftAndRightWidth(this.scrollViewContainerStyle,"zp-page")))},updateScrollViewScrollTop(e,t=!0){this._updatePrivateScrollWithAnimation(t),this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this.scrollTop=e,this.oldScrollTop=this.scrollTop}))},_onScrollToUpper(){this.$emit("scrolltoupper"),this.$emit("scrollTopChange",0),this.$nextTick((()=>{this.oldScrollTop=0}))},_onScrollToLower(e){(!e.detail||!e.detail.direction||"bottom"===e.detail.direction)&&this.toBottomLoadingMoreEnabled&&this._onLoadingMore(this.useChatRecordMode?"click":"toBottom")},_scrollToTop(e=!0,t=!0){this.usePageScroll?this.$nextTick((()=>{uni.pageScrollTo({scrollTop:0,duration:e?100:0})})):(this._updatePrivateScrollWithAnimation(e),this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this.scrollTop=0,this.oldScrollTop=this.scrollTop})))},async _scrollToBottom(e=!0){if(this.usePageScroll)this.$nextTick((()=>{uni.pageScrollTo({scrollTop:Number.MAX_VALUE,duration:e?100:0})}));else try{this._updatePrivateScrollWithAnimation(e);const t=await this._getNodeClientRect(".zp-paging-container"),o=await this._getNodeClientRect(".zp-scroll-view"),a=t?t[0].height:0,i=o?o[0].height:0;a>i&&(this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this.scrollTop=a-i+this.virtualPlaceholderTopHeight,this.oldScrollTop=this.scrollTop})))}catch(t){}},_scrollIntoView(e,t=0,o=!1,a){try{this.scrollTop=this.oldScrollTop,this.$nextTick((()=>{this._getNodeClientRect("#"+e.replace("#",""),this.$parent).then((e=>{if(e){let i=e[0].top;this._scrollIntoViewByNodeTop(i,t,o),a&&a()}}))}))}catch(i){}},_scrollIntoViewByNodeTop(e,t=0,o=!1){this.isChatRecordModeAndInversion?this._getNodeClientRect(".zp-scroll-view").then((a=>{a&&this._scrollToY(a[0].height-e,t,o,!0)})):this._scrollToY(e,t,o,!0)},_scrollToY(e,t=0,o=!1,a=!1){this._updatePrivateScrollWithAnimation(o),Mt.delay((()=>{if(this.usePageScroll){a&&-1!==this.pageScrollTop&&(e+=this.pageScrollTop);const i=e-t;uni.pageScrollTo({scrollTop:i,duration:o?100:0})}else a&&(e+=this.oldScrollTop),this.scrollTop=e-t}),10)},_scroll(e){this.$emit("scroll",e);const t=e.detail.scrollTop;this.finalUseVirtualList&&this._updateVirtualScroll(t,this.oldScrollTop-t),this.oldScrollTop=t;const o=e.detail.scrollHeight-this.oldScrollTop;!this.isIos&&this._checkScrolledToBottom(o)},_updatePrivateScrollWithAnimation(e){this.privateScrollWithAnimation=e?1:0,Mt.delay((()=>this.$nextTick((()=>{this.privateScrollWithAnimation=-1}))),100,"updateScrollWithAnimationDelay")},_doCheckScrollViewShouldFullHeight(e){this.autoFullHeight&&this.usePageScroll&&this.isTotalChangeFromAddData?this.$nextTick((()=>{this._checkScrollViewShouldFullHeight(((t,o)=>{this._preCheckShowNoMoreInside(e,t,o)}))})):this._preCheckShowNoMoreInside(e)},async _checkScrollViewShouldFullHeight(e){try{const t=await this._getNodeClientRect(".zp-scroll-view"),o=await this._getNodeClientRect(".zp-paging-container-content");if(!t||!o)return;const a=o[0].height,i=t[0].top;this.isAddedData&&a+i<=this.windowHeight?(this._setAutoHeight(!0,t),e(t,o)):(this._setAutoHeight(!1),e(null,null))}catch(t){e(null,null)}},async _updateCachedSuperContentHeight(){const e=await this._getNodeClientRect(".z-paging-content");e&&(this.superContentHeight=e[0].height)},_scrollTopChange(e,t){this.$emit("scrollTopChange",e),this.$emit("update:scrollTop",e),this._checkShouldShowBackToTop(e);const o=e>5?6:0;t&&this.wxsPageScrollTop!==o?this.wxsPageScrollTop=o:t||this.wxsScrollTop===o||(this.wxsScrollTop=o,o>6&&(this.scrollEnable=!0))},_updatePageScrollTopOrBottomHeight(e){if(!this.usePageScroll)return;this._doCheckScrollViewShouldFullHeight(this.realTotalData);const t=`.zp-page-${e}`,o=`margin${e.slice(0,1).toUpperCase()+e.slice(1)}`;let a=this.safeAreaInsetBottom;this.$nextTick((()=>{Mt.delay((()=>{this._getNodeClientRect(t).then((t=>{if(t){let i=t[0].height;"bottom"===e?a&&(i+=this.safeAreaBottom):this.cacheTopHeight=i,this.$set(this.scrollViewStyle,o,`${i}px`)}else a&&this.$set(this.scrollViewStyle,o,`${this.safeAreaBottom}px`)}))}),0)}))}}},wo={props:{autoShowBackToTop:{type:Boolean,default:Mt.gc("autoShowBackToTop",!1)},backToTopThreshold:{type:[Number,String],default:Mt.gc("backToTopThreshold","400rpx")},backToTopImg:{type:String,default:Mt.gc("backToTopImg","")},backToTopWithAnimate:{type:Boolean,default:Mt.gc("backToTopWithAnimate",!0)},backToTopBottom:{type:[Number,String],default:Mt.gc("backToTopBottom","160rpx")},backToTopStyle:{type:Object,default:Mt.gc("backToTopStyle",{})},enableBackToTop:{type:Boolean,default:Mt.gc("enableBackToTop",!0)}},data:()=>({backToTopClass:"zp-back-to-top zp-back-to-top-hide",lastBackToTopShowTime:0,showBackToTopClass:!1}),computed:{backToTopThresholdUnitConverted(){return Mt.addUnit(this.backToTopThreshold,this.unit)},backToTopBottomUnitConverted(){return Mt.addUnit(this.backToTopBottom,this.unit)},finalEnableBackToTop(){return!this.usePageScroll&&this.enableBackToTop},finalBackToTopThreshold(){return Mt.convertToPx(this.backToTopThresholdUnitConverted)},finalBackToTopStyle(){const e=this.backToTopStyle;return e.bottom||(e.bottom=this.windowBottom+Mt.convertToPx(this.backToTopBottomUnitConverted)+"px"),e.position||(e.position=this.usePageScroll?"fixed":"absolute"),e},finalBackToTopClass(){return`${this.backToTopClass} zp-back-to-top-${this.unit}`}},methods:{_backToTopClick(){let e=!1;this.$emit("backToTopClick",(t=>{(void 0===t||!0===t)&&this._handleToTop(),e=!0})),this.$nextTick((()=>{!e&&this._handleToTop()}))},_handleToTop(){!this.backToTopWithAnimate&&this._checkShouldShowBackToTop(0),this.useChatRecordMode?this.scrollToBottom(this.backToTopWithAnimate):this.scrollToTop(this.backToTopWithAnimate)},_checkShouldShowBackToTop(e){this.autoShowBackToTop?e>this.finalBackToTopThreshold?this.showBackToTopClass||(this.showBackToTopClass=!0,this.lastBackToTopShowTime=(new Date).getTime(),Mt.delay((()=>{this.backToTopClass="zp-back-to-top zp-back-to-top-show"}),300)):this.showBackToTopClass&&(this.backToTopClass="zp-back-to-top zp-back-to-top-hide",Mt.delay((()=>{this.showBackToTopClass=!1}),(new Date).getTime()-this.lastBackToTopShowTime<500?0:300)):this.showBackToTopClass=!1}}},So={props:{useVirtualList:{type:Boolean,default:Mt.gc("useVirtualList",!1)},useCompatibilityMode:{type:Boolean,default:Mt.gc("useCompatibilityMode",!1)},extraData:{type:Object,default:Mt.gc("extraData",{})},useInnerList:{type:Boolean,default:Mt.gc("useInnerList",!1)},forceCloseInnerList:{type:Boolean,default:Mt.gc("forceCloseInnerList",!1)},cellKeyName:{type:String,default:Mt.gc("cellKeyName","")},innerListStyle:{type:Object,default:Mt.gc("innerListStyle",{})},innerCellStyle:{type:Object,default:Mt.gc("innerCellStyle",{})},preloadPage:{type:[Number,String],default:Mt.gc("preloadPage",12),validator:e=>(e<=0&&Mt.consoleErr("preload-page必须大于0！"),e>0)},cellHeightMode:{type:String,default:Mt.gc("cellHeightMode",At.CellHeightMode.Fixed)},fixedCellHeight:{type:[Number,String],default:Mt.gc("fixedCellHeight",0)},virtualListCol:{type:[Number,String],default:Mt.gc("virtualListCol",1)},virtualScrollFps:{type:[Number,String],default:Mt.gc("virtualScrollFps",80)},virtualCellIdPrefix:{type:String,default:Mt.gc("virtualCellIdPrefix","")}},data:()=>({virtualListKey:Mt.getInstanceId(),virtualPageHeight:0,virtualCellHeight:0,virtualScrollTimeStamp:0,virtualList:[],virtualPlaceholderTopHeight:0,virtualPlaceholderBottomHeight:0,virtualTopRangeIndex:0,virtualBottomRangeIndex:0,lastVirtualTopRangeIndex:0,lastVirtualBottomRangeIndex:0,virtualItemInsertedCount:0,virtualHeightCacheList:[],getCellHeightRetryCount:{fixed:0,dynamic:0},pagingOrgTop:-1,updateVirtualListFromDataChange:!1}),watch:{realTotalData(){this.updateVirtualListRender()},virtualList(e){this.$emit("update:virtualList",e),this.$emit("virtualListChange",e)},virtualPlaceholderTopHeight(e){this.$emit("virtualTopHeightChange",e)}},computed:{virtualCellIndexKey:()=>Ct,finalUseVirtualList(){return this.useVirtualList&&this.usePageScroll&&Mt.consoleErr("使用页面滚动时，开启虚拟列表无效！"),this.useVirtualList&&!this.usePageScroll},finalUseInnerList(){return this.useInnerList||this.finalUseVirtualList&&!this.forceCloseInnerList},finalCellKeyName(){return this.cellKeyName},finalVirtualPageHeight(){return this.virtualPageHeight>0?this.virtualPageHeight:this.windowHeight},finalFixedCellHeight(){return Mt.convertToPx(this.fixedCellHeight)},fianlVirtualCellIdPrefix(){return(this.virtualCellIdPrefix?this.virtualCellIdPrefix+"-":"")+"zp-id"},virtualRangePageHeight(){return this.finalVirtualPageHeight*this.preloadPage},virtualScrollDisTimeStamp(){return 1e3/this.virtualScrollFps}},methods:{doInsertVirtualListItem(e,t){if(this.cellHeightMode!==At.CellHeightMode.Dynamic)return;this.realTotalData.splice(t,0,e),this.realTotalData=[...this.realTotalData],this.virtualItemInsertedCount++,e&&"[object Object]"===Object.prototype.toString.call(e)||(e={item:e});const o=this.virtualCellIndexKey;e[o]=`custom-${this.virtualItemInsertedCount}`,e[Nt]=`${this.virtualListKey}-${e[o]}`,this.$nextTick((async()=>{let a=0;for(;a<=10;){await Mt.wait(St);const i=await this._getVirtualCellNodeByIndex(e[o]);if(!i){a++;continue}const n=i?i[0].height:0,l=this.virtualHeightCacheList[t-1],r=l?l.totalHeight:0;this.virtualHeightCacheList.splice(t,0,{height:n,lastTotalHeight:r,totalHeight:r+n});for(let e=t+1;e<this.virtualHeightCacheList.length;e++){const t=this.virtualHeightCacheList[e];t.lastTotalHeight+=n,t.totalHeight+=n}this._updateVirtualScroll(this.oldScrollTop);break}}))},didUpdateVirtualListCell(e){if(this.cellHeightMode!==At.CellHeightMode.Dynamic)return;const t=this.virtualHeightCacheList[e];this.$nextTick((()=>{this._getVirtualCellNodeByIndex(e).then((o=>{const a=o?o[0].height:0,i=a-t.height;t.height=a,t.totalHeight=t.lastTotalHeight+a;for(let t=e+1;t<this.virtualHeightCacheList.length;t++){const e=this.virtualHeightCacheList[t];e.totalHeight+=i,e.lastTotalHeight+=i}}))}))},didDeleteVirtualListCell(e){if(this.cellHeightMode!==At.CellHeightMode.Dynamic)return;const t=this.virtualHeightCacheList[e];for(let o=e+1;o<this.virtualHeightCacheList.length;o++){const e=this.virtualHeightCacheList[o];e.totalHeight-=t.height,e.lastTotalHeight-=t.height}this.virtualHeightCacheList.splice(e,1)},updateVirtualListRender(){this.finalUseVirtualList&&(this.updateVirtualListFromDataChange=!0,this.$nextTick((()=>{this.getCellHeightRetryCount.fixed=0,this.realTotalData.length?this.cellHeightMode===At.CellHeightMode.Fixed&&this.isFirstPage&&this._updateFixedCellHeight():this._resetDynamicListState(!this.isUserPullDown),this._updateVirtualScroll(this.oldScrollTop)})))},_virtualListInit(){this.$nextTick((()=>{Mt.delay((()=>{this._getNodeClientRect(".zp-scroll-view").then((e=>{e&&(this.pagingOrgTop=e[0].top,this.virtualPageHeight=e[0].height)}))}))}))},_updateFixedCellHeight(){this.finalFixedCellHeight?this.virtualCellHeight=this.finalFixedCellHeight:this.$nextTick((()=>{Mt.delay((()=>{this._getVirtualCellNodeByIndex(0).then((e=>{if(e)this.virtualCellHeight=e[0].height,this._updateVirtualScroll(this.oldScrollTop);else{if(this.getCellHeightRetryCount.fixed>10)return;this.getCellHeightRetryCount.fixed++,this._updateFixedCellHeight()}}))}),St,"updateFixedCellHeightDelay")}))},_updateDynamicCellHeight(e,t="bottom"){const o="top"===t,a=this.virtualHeightCacheList,i=o?[]:a;let n=0;this.$nextTick((()=>{Mt.delay((async()=>{for(let l=0;l<e.length;l++){const r=await this._getVirtualCellNodeByIndex(e[l][this.virtualCellIndexKey]),s=r?r[0].height:0;if(!r)return void(this.getCellHeightRetryCount.dynamic<=10&&(a.splice(a.length-l,l),this.getCellHeightRetryCount.dynamic++,this._updateDynamicCellHeight(e,t)));const c=i.length?i.slice(-1)[0]:null,h=c?c.totalHeight:0;i.push({height:s,lastTotalHeight:h,totalHeight:h+s}),o&&(n+=s)}if(o&&e.length){for(let e=0;e<a.length;e++){const t=a[e];t.lastTotalHeight+=n,t.totalHeight+=n}this.virtualHeightCacheList=i.concat(a)}this._updateVirtualScroll(this.oldScrollTop)}),St,"updateDynamicCellHeightDelay")}))},_setCellIndex(e,t="bottom"){let o=0;const a=this.virtualCellIndexKey;if("bottom"===t&&[At.QueryFrom.Refresh,At.QueryFrom.Reload].indexOf(this.queryFrom)>=0&&this._resetDynamicListState(),this.totalData.length&&this.queryFrom!==At.QueryFrom.Refresh){if("bottom"===t){o=this.realTotalData.length;const e=this.realTotalData.length?this.realTotalData.slice(-1)[0]:null;e&&void 0!==e[a]&&(o=e[a]+1)}else if("top"===t){const t=this.realTotalData.length?this.realTotalData[0]:null;t&&void 0!==t[a]&&(o=t[a]-e.length)}}else this._resetDynamicListState();for(let i=0;i<e.length;i++){let t=e[i];t&&"[object Object]"===Object.prototype.toString.call(t)||(t={item:t}),t[Nt]&&(t=Mt.deepCopy(t)),t[a]=o+i,t[Nt]=`${this.virtualListKey}-${t[a]}`,e[i]=t}this.getCellHeightRetryCount.dynamic=0,this.cellHeightMode===At.CellHeightMode.Dynamic&&this._updateDynamicCellHeight(e,t)},_updateVirtualScroll(e,t=0){const o=Mt.getTime();if(0===e&&this._resetTopRange(),0!==e&&this.virtualScrollTimeStamp&&o-this.virtualScrollTimeStamp<=this.virtualScrollDisTimeStamp)return;this.virtualScrollTimeStamp=o;let a=0;const i=this.cellHeightMode;if(i===At.CellHeightMode.Fixed)a=parseInt(e/this.virtualCellHeight)||0,this._updateFixedTopRangeIndex(a),this._updateFixedBottomRangeIndex(a);else if(i===At.CellHeightMode.Dynamic){const o=t>0?"top":"bottom",a=this.virtualRangePageHeight,i=e-a,n=e+this.finalVirtualPageHeight+a;let l=0,r=0,s=!1;const c=this.virtualHeightCacheList,h=c?c.slice(-1)[0]:null;let u=this.virtualTopRangeIndex;if("bottom"===o)for(let e=u;e<c.length;e++){const t=c[e];if(t&&t.totalHeight>i){this.virtualTopRangeIndex=e,this.virtualPlaceholderTopHeight=t.lastTotalHeight;break}}else{let e=!1;for(let t=u;t>=0;t--){const o=c[t];if(o&&o.totalHeight<i){this.virtualTopRangeIndex=t,this.virtualPlaceholderTopHeight=o.lastTotalHeight,e=!0;break}}!e&&this._resetTopRange()}for(let e=this.virtualTopRangeIndex;e<c.length;e++){const t=c[e];if(t&&t.totalHeight>n){l=e,r=h.totalHeight-t.totalHeight,s=!0;break}}s&&0!==this.virtualBottomRangeIndex?(this.virtualBottomRangeIndex=l,this.virtualPlaceholderBottomHeight=r):(this.virtualBottomRangeIndex=this.realTotalData.length?this.realTotalData.length-1:this.pageSize,this.virtualPlaceholderBottomHeight=0),this._updateVirtualList()}},_updateFixedTopRangeIndex(e){let t=0===this.virtualCellHeight?0:e-(parseInt(this.finalVirtualPageHeight/this.virtualCellHeight)||1)*this.preloadPage;t*=this.virtualListCol,t=Math.max(0,t),this.virtualTopRangeIndex=t,this.virtualPlaceholderTopHeight=t/this.virtualListCol*this.virtualCellHeight},_updateFixedBottomRangeIndex(e){let t=0===this.virtualCellHeight?this.pageSize:e+(parseInt(this.finalVirtualPageHeight/this.virtualCellHeight)||1)*(this.preloadPage+1);t*=this.virtualListCol,t=Math.min(this.realTotalData.length,t),this.virtualBottomRangeIndex=t,this.virtualPlaceholderBottomHeight=(this.realTotalData.length-t)*this.virtualCellHeight/this.virtualListCol,this._updateVirtualList()},_updateVirtualList(){(this.updateVirtualListFromDataChange||this.lastVirtualTopRangeIndex!==this.virtualTopRangeIndex||this.lastVirtualBottomRangeIndex!==this.virtualBottomRangeIndex)&&(this.updateVirtualListFromDataChange=!1,this.lastVirtualTopRangeIndex=this.virtualTopRangeIndex,this.lastVirtualBottomRangeIndex=this.virtualBottomRangeIndex,this.virtualList=this.realTotalData.slice(this.virtualTopRangeIndex,this.virtualBottomRangeIndex+1))},_resetDynamicListState(e=!1){this.virtualHeightCacheList=[],e&&(this.virtualList=[]),this.virtualTopRangeIndex=0,this.virtualPlaceholderTopHeight=0},_resetTopRange(){this.virtualTopRangeIndex=0,this.virtualPlaceholderTopHeight=0,this._updateVirtualList()},_checkVirtualListScroll(){this.finalUseVirtualList&&this.$nextTick((()=>{this._getNodeClientRect(".zp-paging-touch-view").then((e=>{const t=e?e[0].top:0;(!e||t===this.pagingOrgTop&&0!==this.virtualPlaceholderTopHeight)&&this._updateVirtualScroll(0)}))}))},_getVirtualCellNodeByIndex(e){return this._getNodeClientRect(`#${this.fianlVirtualCellIdPrefix}-${e}`,this.finalUseInnerList,!1,!1)},_innerCellClick(e,t){this.$emit("innerCellClick",e,t)}}},ko=uni.getSystemInfoSync(),bo={name:"z-paging",components:{zPagingRefresh:Dt,zPagingLoadMore:Pt,zPagingEmptyView:vt},mixins:[Ft,Qt,ho,uo,mo,po,go,fo,yo,vo,wo,So],data:()=>({base64BackToTop:yt,loadingType:At.LoadingType.Refresher,requestTimeStamp:0,wxsPropType:"",renderPropScrollTop:-1,checkScrolledToBottomTimeOut:null,cacheTopHeight:-1,statusBarHeight:ko.statusBarHeight,insideOfPaging:-1,isLoadFailed:!1,isIos:"ios"===ko.platform,disabledBounce:!1,fromCompleteEmit:!1,disabledCompleteEmit:!1,pageLaunched:!1,active:!1,wxsIsScrollTopInTopRange:!0,wxsScrollTop:0,wxsPageScrollTop:0,wxsOnPullingDown:!1}),props:{delay:{type:[Number,String],default:Mt.gc("delay",0)},minDelay:{type:[Number,String],default:Mt.gc("minDelay",0)},pagingStyle:{type:Object,default:Mt.gc("pagingStyle",{})},height:{type:String,default:Mt.gc("height","")},width:{type:String,default:Mt.gc("width","")},maxWidth:{type:String,default:Mt.gc("maxWidth","")},bgColor:{type:String,default:Mt.gc("bgColor","")},pagingContentStyle:{type:Object,default:Mt.gc("pagingContentStyle",{})},autoHeight:{type:Boolean,default:Mt.gc("autoHeight",!1)},autoHeightAddition:{type:[Number,String],default:Mt.gc("autoHeightAddition","0px")},defaultThemeStyle:{type:String,default:Mt.gc("defaultThemeStyle","black")},fixed:{type:Boolean,default:Mt.gc("fixed",!0)},safeAreaInsetBottom:{type:Boolean,default:Mt.gc("safeAreaInsetBottom",!1)},useSafeAreaPlaceholder:{type:Boolean,default:Mt.gc("useSafeAreaPlaceholder",!1)},bottomBgColor:{type:String,default:Mt.gc("bottomBgColor","")},topZIndex:{type:Number,default:Mt.gc("topZIndex",99)},superContentZIndex:{type:Number,default:Mt.gc("superContentZIndex",1)},contentZIndex:{type:Number,default:Mt.gc("contentZIndex",1)},f2ZIndex:{type:Number,default:Mt.gc("f2ZIndex",100)},autoFullHeight:{type:Boolean,default:Mt.gc("autoFullHeight",!0)},watchTouchDirectionChange:{type:Boolean,default:Mt.gc("watchTouchDirectionChange",!1)},unit:{type:String,default:Mt.gc("unit","rpx")}},created(){this.createdReload&&!this.refresherOnly&&this.auto&&(this._startLoading(),this.$nextTick(this._preReload))},mounted(){this.active=!0,this.wxsPropType=Mt.getTime().toString(),this.renderJsIgnore,this.createdReload||this.refresherOnly||!this.auto||Mt.delay((()=>this.$nextTick(this._preReload)),0),this.finalUseCache&&this._setListByLocalCache(),this.$nextTick((()=>{this.systemInfo=uni.getSystemInfoSync(),!this.usePageScroll&&this.autoHeight&&this._setAutoHeight(),this.loaded=!0,Mt.delay((()=>{this.updateFixedLayout(),this._updateCachedSuperContentHeight()}))})),this.updatePageScrollTopHeight(),this.updatePageScrollBottomHeight(),this.updateLeftAndRightWidth(),this.finalRefresherEnabled&&this.useCustomRefresher&&this.$nextTick((()=>{this.isTouchmoving=!0})),this._onEmit(),this.finalUseVirtualList&&this._virtualListInit()},destroyed(){this._handleUnmounted()},unmounted(){this._handleUnmounted()},watch:{defaultThemeStyle:{handler(e){e.length&&(this.finalRefresherDefaultStyle=e)},immediate:!0},autoHeight(e){this.loaded&&!this.usePageScroll&&this._setAutoHeight(e)},autoHeightAddition(e){this.loaded&&!this.usePageScroll&&this.autoHeight&&this._setAutoHeight(e)}},computed:{finalPagingStyle(){const e={...this.pagingStyle};if(!this.systemInfo)return e;const{windowTop:t,windowBottom:o}=this;return!this.usePageScroll&&this.fixed&&(t&&!e.top&&(e.top=t+"px"),o&&!e.bottom&&(e.bottom=o+"px")),this.bgColor.length&&!e.background&&(e.background=this.bgColor),this.height.length&&!e.height&&(e.height=this.height),this.width.length&&!e.width&&(e.width=this.width),this.maxWidth.length&&!e["max-width"]&&(e["max-width"]=this.maxWidth,e.margin="0 auto"),e},finalPagingContentStyle(){return 1!=this.contentZIndex&&(this.pagingContentStyle["z-index"]=this.contentZIndex,this.pagingContentStyle.position="relative"),this.pagingContentStyle},renderJsIgnore(){return(this.usePageScroll&&this.useChatRecordMode||!this.refresherEnabled&&this.scrollable||!this.useCustomRefresher)&&this.$nextTick((()=>{this.renderPropScrollTop=10})),0},windowHeight(){return this.systemInfo&&this.systemInfo.windowHeight||0},windowBottom(){if(!this.systemInfo)return 0;let e=this.systemInfo.windowBottom||0;return!this.safeAreaInsetBottom||this.useSafeAreaPlaceholder||this.useChatRecordMode||(e+=this.safeAreaBottom),e},isIosAndH5:()=>!1},methods:{getVersion:()=>`z-paging v${wt}`,setSpecialEffects(e){this.setListSpecialEffects(e)},setListSpecialEffects(e){this.nFixFreezing=e&&Object.keys(e).length,this.isIos&&(this.privateRefresherEnabled=0),!this.usePageScroll&&this.$refs["zp-n-list"].setSpecialEffects(e)},_handlePageLaunch(){this.pageLaunched&&(this.refresherThresholdUpdateTag=1,this.$nextTick((()=>{this.refresherThresholdUpdateTag=0})),this._checkVirtualListScroll()),this.pageLaunched=!0},_doVibrateShort(){if(this.isIos){const e=new(plus.ios.importClass("UISelectionFeedbackGenerator"));e.init(),setTimeout((()=>{e.selectionChanged()}),0)}else plus.device.vibrate(15)},async _setAutoHeight(e=!0,t=null){const o="min-height";try{if(e){let e=t||await this._getNodeClientRect(".zp-scroll-view"),a=await this._getNodeClientRect(".zp-page-bottom");if(e){const t=e[0].top;let i=this.windowHeight-t;i-=a?a[0].height:0;const n=i+Mt.convertToPx(this.autoHeightAddition)-(this.insideMore?1:0)+"px !important";this.$set(this.scrollViewStyle,o,n),this.$set(this.scrollViewInStyle,o,n)}}else this.$delete(this.scrollViewStyle,o),this.$delete(this.scrollViewInStyle,o)}catch(a){}},_handleUnmounted(){this.active=!1,this._offEmit(),this.useChatRecordMode&&uni.offKeyboardHeightChange(this._handleKeyboardHeightChange)},_updateInsideOfPaging(){this.insideMore&&!0===this.insideOfPaging&&setTimeout(this.doLoadMore,200)},_cleanTimeout:e=>(e&&(clearTimeout(e),e=null),e),_onEmit(){uni.$on(kt,(e=>{this.loading&&(e&&(this.customerEmptyViewErrorText=e),this.complete(!1).catch((()=>{})))})),uni.$on(bt,(e=>{setTimeout((()=>{if(this.loading)if(this.disabledCompleteEmit)this.disabledCompleteEmit=!1;else{const t=e.type||"normal",o=e.list||e,a=e.rule;switch(this.fromCompleteEmit=!0,t){case"normal":this.complete(o);break;case"total":this.completeByTotal(o,a);break;case"nomore":this.completeByNoMore(o,a);break;case"key":this.completeByKey(o,a)}}}),1)}))},_offEmit(){uni.$off(kt),uni.$off(bt)}}},To=e=>{(e.$wxs||(e.$wxs=[])).push("pagingWxs"),(e.$wxsModules||(e.$wxsModules={})).pagingWxs="bca0bb86"},Co=e=>{(e.$renderjs||(e.$renderjs=[])).push("pagingRenderjs"),(e.$renderjsModules||(e.$renderjsModules={})).pagingRenderjs="a5d206f8"};To(bo),Co(bo);const No=ve(bo,[["render",function(t,o,a,i,n,l){const r=e.resolveComponent("z-paging-refresh"),s=e.resolveComponent("z-paging-load-more"),c=L(e.resolveDynamicComponent("z-paging-empty-view"),vt);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass({"z-paging-content":!0,"z-paging-content-full":!t.usePageScroll,"z-paging-content-fixed":!t.usePageScroll&&t.fixed,"z-paging-content-page":t.usePageScroll,"z-paging-reached-top":t.renderPropScrollTop<1,"z-paging-use-chat-record-mode":t.useChatRecordMode}),style:e.normalizeStyle([t.finalPagingStyle])},[t.showF2&&t.showRefresherF2?(e.openBlock(),e.createElementBlock("view",{key:0,onTouchmove:o[0]||(o[0]=e.withModifiers((()=>{}),["stop","prevent"])),class:"zp-f2-content",style:e.normalizeStyle([{transform:t.f2Transform,transition:"transform .2s linear",height:t.superContentHeight+"px","z-index":t.f2ZIndex}])},[e.renderSlot(t.$slots,"f2",{},void 0,!0)],36)):e.createCommentVNode("",!0),!t.usePageScroll&&t.zSlots.top?e.renderSlot(t.$slots,"top",{key:1},void 0,!0):t.usePageScroll&&t.zSlots.top?(e.openBlock(),e.createElementBlock("view",{key:2,class:"zp-page-top",onTouchmove:o[1]||(o[1]=e.withModifiers((()=>{}),["stop","prevent"])),style:e.normalizeStyle([{top:`${t.windowTop}px`,"z-index":t.topZIndex}])},[e.renderSlot(t.$slots,"top",{},void 0,!0)],36)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass({"zp-view-super":!0,"zp-scroll-view-super":!t.usePageScroll}),style:e.normalizeStyle([t.finalScrollViewStyle])},[t.zSlots.left?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass({"zp-page-left":!0,"zp-absoulte":t.finalIsOldWebView})},[e.renderSlot(t.$slots,"left",{},void 0,!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass({"zp-scroll-view-container":!0,"zp-absoulte":t.finalIsOldWebView}),style:e.normalizeStyle([t.scrollViewContainerStyle])},[e.createElementVNode("scroll-view",{ref:"zp-scroll-view",class:e.normalizeClass({"zp-scroll-view":!0,"zp-scroll-view-absolute":!t.usePageScroll,"zp-scroll-view-hide-scrollbar":!t.showScrollbar}),style:e.normalizeStyle([t.chatRecordRotateStyle]),"scroll-top":t.scrollTop,"scroll-x":t.scrollX,"scroll-y":t.finalScrollable,"enable-back-to-top":t.finalEnableBackToTop,"show-scrollbar":t.showScrollbar,"scroll-with-animation":t.finalScrollWithAnimation,"scroll-into-view":t.scrollIntoView,"lower-threshold":t.finalLowerThreshold,"upper-threshold":5,"refresher-enabled":t.finalRefresherEnabled&&!t.useCustomRefresher,"refresher-threshold":t.finalRefresherThreshold,"refresher-default-style":t.finalRefresherDefaultStyle,"refresher-background":t.refresherBackground,"refresher-triggered":t.finalRefresherTriggered,onScroll:o[12]||(o[12]=(...e)=>t._scroll&&t._scroll(...e)),onScrolltolower:o[13]||(o[13]=(...e)=>t._onScrollToLower&&t._onScrollToLower(...e)),onScrolltoupper:o[14]||(o[14]=(...e)=>t._onScrollToUpper&&t._onScrollToUpper(...e)),onRefresherrestore:o[15]||(o[15]=(...e)=>t._onRestore&&t._onRestore(...e)),onRefresherrefresh:o[16]||(o[16]=e=>t._onRefresh(!0))},[e.createElementVNode("view",{class:"zp-paging-touch-view",onTouchstart:o[4]||(o[4]=(...e)=>t.pagingWxs.touchstart&&t.pagingWxs.touchstart(...e)),onTouchmove:o[5]||(o[5]=(...e)=>t.pagingWxs.touchmove&&t.pagingWxs.touchmove(...e)),onTouchend:o[6]||(o[6]=(...e)=>t.pagingWxs.touchend&&t.pagingWxs.touchend(...e)),onTouchcancel:o[7]||(o[7]=(...e)=>t.pagingWxs.touchend&&t.pagingWxs.touchend(...e)),onMousedown:o[8]||(o[8]=(...e)=>t.pagingWxs.mousedown&&t.pagingWxs.mousedown(...e)),onMousemove:o[9]||(o[9]=(...e)=>t.pagingWxs.mousemove&&t.pagingWxs.mousemove(...e)),onMouseup:o[10]||(o[10]=(...e)=>t.pagingWxs.mouseup&&t.pagingWxs.mouseup(...e)),onMouseleave:o[11]||(o[11]=(...e)=>t.pagingWxs.mouseleave&&t.pagingWxs.mouseleave(...e))},[t.finalRefresherFixedBacHeight>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"zp-fixed-bac-view",style:e.normalizeStyle([{background:t.refresherFixedBackground,height:`${t.finalRefresherFixedBacHeight}px`}])},null,4)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"zp-paging-main",style:e.normalizeStyle([t.scrollViewInStyle,{transform:t.finalRefresherTransform,transition:t.refresherTransition}]),"change:prop":t.pagingWxs.propObserver,prop:e.wp(t.wxsPropType),"data-refresherThreshold":t.finalRefresherThreshold,"data-refresherF2Enabled":t.refresherF2Enabled,"data-refresherF2Threshold":t.finalRefresherF2Threshold,"data-isIos":t.isIos,"data-loading":t.loading||t.isRefresherInComplete,"data-useChatRecordMode":t.useChatRecordMode,"data-refresherEnabled":t.refresherEnabled,"data-useCustomRefresher":t.useCustomRefresher,"data-pageScrollTop":t.wxsPageScrollTop,"data-scrollTop":t.wxsScrollTop,"data-refresherMaxAngle":t.refresherMaxAngle,"data-refresherNoTransform":t.refresherNoTransform,"data-refresherAecc":t.refresherAngleEnableChangeContinued,"data-usePageScroll":t.usePageScroll,"data-watchTouchDirectionChange":t.watchTouchDirectionChange,"data-oldIsTouchmoving":t.isTouchmoving,"data-refresherOutRate":t.finalRefresherOutRate,"data-refresherPullRate":t.finalRefresherPullRate,"data-hasTouchmove":t.hasTouchmove,"change:renderPropIsIosAndH5":t.pagingRenderjs.renderPropIsIosAndH5Change,renderPropIsIosAndH5:e.wp(t.isIosAndH5)},[t.showRefresher?(e.openBlock(),e.createElementBlock("view",{key:0,class:"zp-custom-refresher-view",style:e.normalizeStyle([{"margin-top":`-${t.finalRefresherThreshold+t.refresherThresholdUpdateTag}px`,background:t.refresherBackground,opacity:t.isTouchmoving?1:0}])},[e.createElementVNode("view",{class:"zp-custom-refresher-container",style:e.normalizeStyle([{height:`${t.finalRefresherThreshold}px`,background:t.refresherBackground}])},[t.useRefresherStatusBarPlaceholder?(e.openBlock(),e.createElementBlock("view",{key:0,class:"zp-custom-refresher-status-bar-placeholder",style:e.normalizeStyle([{height:`${t.statusBarHeight}px`}])},null,4)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"zp-custom-refresher-slot-view"},[t.zSlots.refresherComplete&&t.refresherStatus===t.R.Complete||t.zSlots.refresherF2&&t.refresherStatus===t.R.GoF2?e.createCommentVNode("",!0):e.renderSlot(t.$slots,"refresher",{key:0,refresherStatus:t.refresherStatus},void 0,!0)]),t.zSlots.refresherComplete&&t.refresherStatus===t.R.Complete?e.renderSlot(t.$slots,"refresherComplete",{key:1},void 0,!0):t.zSlots.refresherF2&&t.refresherStatus===t.R.GoF2?e.renderSlot(t.$slots,"refresherF2",{key:2},void 0,!0):t.showCustomRefresher?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(r,{key:3,ref:"refresh",class:"zp-custom-refresher-refresh",style:e.normalizeStyle([{height:t.finalRefresherThreshold-t.finalRefresherThresholdPlaceholder+"px"}]),status:t.refresherStatus,defaultThemeStyle:t.finalRefresherThemeStyle,defaultText:t.finalRefresherDefaultText,pullingText:t.finalRefresherPullingText,refreshingText:t.finalRefresherRefreshingText,completeText:t.finalRefresherCompleteText,goF2Text:t.finalRefresherGoF2Text,defaultImg:t.refresherDefaultImg,pullingImg:t.refresherPullingImg,refreshingImg:t.refresherRefreshingImg,completeImg:t.refresherCompleteImg,refreshingAnimated:t.refresherRefreshingAnimated,showUpdateTime:t.showRefresherUpdateTime,updateTimeKey:t.refresherUpdateTimeKey,updateTimeTextMap:t.finalRefresherUpdateTimeTextMap,imgStyle:t.refresherImgStyle,titleStyle:t.refresherTitleStyle,updateTimeStyle:t.refresherUpdateTimeStyle,unit:t.unit},null,8,["style","status","defaultThemeStyle","defaultText","pullingText","refreshingText","completeText","goF2Text","defaultImg","pullingImg","refreshingImg","completeImg","refreshingAnimated","showUpdateTime","updateTimeKey","updateTimeTextMap","imgStyle","titleStyle","updateTimeStyle","unit"]))],4)],4)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"zp-paging-container",style:e.normalizeStyle([{justifyContent:t.useChatRecordMode?"flex-end":"flex-start"}])},[t.showLoading&&t.zSlots.loading&&!t.loadingFullFixed?e.renderSlot(t.$slots,"loading",{key:0},void 0,!0):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"zp-paging-container-content",style:e.normalizeStyle([t.finalPagingContentStyle])},[t.useVirtualList?(e.openBlock(),e.createElementBlock("view",{key:0,class:"zp-virtual-placeholder",style:e.normalizeStyle([{height:t.virtualPlaceholderTopHeight+"px"}])},null,4)):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"default",{},void 0,!0),t.finalUseInnerList?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.renderSlot(t.$slots,"header",{},void 0,!0),e.createElementVNode("view",{class:"zp-list-container",style:e.normalizeStyle([t.innerListStyle])},[t.finalUseVirtualList?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(t.virtualList,((o,a)=>(e.openBlock(),e.createElementBlock("view",{class:"zp-list-cell",style:e.normalizeStyle([t.innerCellStyle]),id:`${t.fianlVirtualCellIdPrefix}-${o[t.virtualCellIndexKey]}`,key:o.zp_unique_index,onClick:e=>t._innerCellClick(o,t.virtualTopRangeIndex+a)},[t.useCompatibilityMode?(e.openBlock(),e.createElementBlock("view",{key:0},"使用兼容模式请在组件源码z-paging.vue第101行中注释这一行，并打开下面一行注释")):e.renderSlot(t.$slots,"cell",{key:1,item:o,index:t.virtualTopRangeIndex+a},void 0,!0)],12,["id","onClick"])))),128)):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(t.realTotalData,((o,a)=>(e.openBlock(),e.createElementBlock("view",{class:"zp-list-cell",key:a,onClick:e=>t._innerCellClick(o,a)},[e.renderSlot(t.$slots,"cell",{item:o,index:a},void 0,!0)],8,["onClick"])))),128))],4),e.renderSlot(t.$slots,"footer",{},void 0,!0)],64)):e.createCommentVNode("",!0),t.useChatRecordMode&&t.realTotalData.length>=t.defaultPageSize&&(t.loadingStatus!==t.M.NoMore||t.zSlots.chatNoMore)&&(t.realTotalData.length||t.showChatLoadingWhenReload&&t.showLoading)&&!t.isFirstPageAndNoMore?(e.openBlock(),e.createElementBlock("view",{key:2,style:e.normalizeStyle([t.chatRecordRotateStyle])},[t.loadingStatus===t.M.NoMore&&t.zSlots.chatNoMore?e.renderSlot(t.$slots,"chatNoMore",{key:0},void 0,!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.zSlots.chatLoading?e.renderSlot(t.$slots,"chatLoading",{key:0,loadingMoreStatus:t.loadingStatus},void 0,!0):(e.openBlock(),e.createBlock(s,{key:1,onDoClick:o[2]||(o[2]=e=>t._onLoadingMore("click")),zConfig:t.zLoadMoreConfig},null,8,["zConfig"]))],64))],4)):e.createCommentVNode("",!0),t.useVirtualList?(e.openBlock(),e.createElementBlock("view",{key:3,class:"zp-virtual-placeholder",style:e.normalizeStyle([{height:t.virtualPlaceholderBottomHeight+"px"}])},null,4)):e.createCommentVNode("",!0),t.showLoadingMoreDefault?e.renderSlot(t.$slots,"loadingMoreDefault",{key:4},void 0,!0):t.showLoadingMoreLoading?e.renderSlot(t.$slots,"loadingMoreLoading",{key:5},void 0,!0):t.showLoadingMoreNoMore?e.renderSlot(t.$slots,"loadingMoreNoMore",{key:6},void 0,!0):t.showLoadingMoreFail?e.renderSlot(t.$slots,"loadingMoreFail",{key:7},void 0,!0):t.showLoadingMoreCustom?(e.openBlock(),e.createBlock(s,{key:8,onDoClick:o[3]||(o[3]=e=>t._onLoadingMore("click")),zConfig:t.zLoadMoreConfig},null,8,["zConfig"])):e.createCommentVNode("",!0),t.safeAreaInsetBottom&&t.useSafeAreaPlaceholder&&!t.useChatRecordMode?(e.openBlock(),e.createElementBlock("view",{key:9,class:"zp-safe-area-placeholder",style:e.normalizeStyle([{height:t.safeAreaBottom+"px"}])},null,4)):e.createCommentVNode("",!0)],4),t.showEmpty?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass({"zp-empty-view":!0,"zp-empty-view-center":t.emptyViewCenter}),style:e.normalizeStyle([t.emptyViewSuperStyle,t.chatRecordRotateStyle])},[t.zSlots.empty?e.renderSlot(t.$slots,"empty",{key:0,isLoadFailed:t.isLoadFailed},void 0,!0):(e.openBlock(),e.createBlock(c,{key:1,emptyViewImg:t.finalEmptyViewImg,emptyViewText:t.finalEmptyViewText,showEmptyViewReload:t.finalShowEmptyViewReload,emptyViewReloadText:t.finalEmptyViewReloadText,isLoadFailed:t.isLoadFailed,emptyViewStyle:t.emptyViewStyle,emptyViewTitleStyle:t.emptyViewTitleStyle,emptyViewImgStyle:t.emptyViewImgStyle,emptyViewReloadStyle:t.emptyViewReloadStyle,emptyViewZIndex:t.emptyViewZIndex,emptyViewFixed:t.emptyViewFixed,unit:t.unit,onReload:t._emptyViewReload,onViewClick:t._emptyViewClick},null,8,["emptyViewImg","emptyViewText","showEmptyViewReload","emptyViewReloadText","isLoadFailed","emptyViewStyle","emptyViewTitleStyle","emptyViewImgStyle","emptyViewReloadStyle","emptyViewZIndex","emptyViewFixed","unit","onReload","onViewClick"]))],6)):e.createCommentVNode("",!0)],4)],12,["change:prop","prop","data-refresherThreshold","data-refresherF2Enabled","data-refresherF2Threshold","data-isIos","data-loading","data-useChatRecordMode","data-refresherEnabled","data-useCustomRefresher","data-pageScrollTop","data-scrollTop","data-refresherMaxAngle","data-refresherNoTransform","data-refresherAecc","data-usePageScroll","data-watchTouchDirectionChange","data-oldIsTouchmoving","data-refresherOutRate","data-refresherPullRate","data-hasTouchmove","change:renderPropIsIosAndH5","renderPropIsIosAndH5"])],32)],46,["scroll-top","scroll-x","scroll-y","enable-back-to-top","show-scrollbar","scroll-with-animation","scroll-into-view","lower-threshold","refresher-enabled","refresher-threshold","refresher-default-style","refresher-background","refresher-triggered"])],6),t.zSlots.right?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass({"zp-page-right":!0,"zp-absoulte zp-right":t.finalIsOldWebView})},[e.renderSlot(t.$slots,"right",{},void 0,!0)],2)):e.createCommentVNode("",!0)],6),e.createElementVNode("view",{class:"zp-page-bottom-container",style:e.normalizeStyle({background:t.bottomBgColor})},[!t.usePageScroll&&t.zSlots.bottom?e.renderSlot(t.$slots,"bottom",{key:0},void 0,!0):t.usePageScroll&&t.zSlots.bottom?(e.openBlock(),e.createElementBlock("view",{key:1,class:"zp-page-bottom",onTouchmove:o[17]||(o[17]=e.withModifiers((()=>{}),["stop","prevent"])),style:e.normalizeStyle([{bottom:`${t.windowBottom}px`}])},[e.renderSlot(t.$slots,"bottom",{},void 0,!0)],36)):e.createCommentVNode("",!0),t.useChatRecordMode&&t.autoAdjustPositionWhenChat?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("view",{style:e.normalizeStyle([{height:t.chatRecordModeSafeAreaBottom+"px"}])},null,4),e.createElementVNode("view",{class:"zp-page-bottom-keyboard-placeholder-animate",style:e.normalizeStyle([{height:t.keyboardHeight+"px"}])},null,4)],64)):e.createCommentVNode("",!0)],4),t.showBackToTopClass?(e.openBlock(),e.createElementBlock("view",{key:3,class:e.normalizeClass(t.finalBackToTopClass),style:e.normalizeStyle([t.finalBackToTopStyle]),onClick:o[18]||(o[18]=e.withModifiers(((...e)=>t._backToTopClick&&t._backToTopClick(...e)),["stop"]))},[t.zSlots.backToTop?e.renderSlot(t.$slots,"backToTop",{key:0},void 0,!0):(e.openBlock(),e.createElementBlock("image",{key:1,class:e.normalizeClass(["zp-back-to-top-img",{"zp-back-to-top-img-inversion":t.useChatRecordMode&&!t.backToTopImg.length}]),src:t.backToTopImg.length?t.backToTopImg:t.base64BackToTop},null,10,["src"]))],6)):e.createCommentVNode("",!0),t.showLoading&&t.zSlots.loading&&t.loadingFullFixed?(e.openBlock(),e.createElementBlock("view",{key:4,class:"zp-loading-fixed"},[e.renderSlot(t.$slots,"loading",{},void 0,!0)])):e.createCommentVNode("",!0)],6)}],["__scopeId","data-v-99734d6e"]]),xo=ve({__name:"mid-area-item",props:{pageName:{type:String,default:""},refresh:{type:Boolean,default:!0},customStyle:{type:Object,default:()=>{}}},emits:["onRefresh","onScrollToLower"],setup(t,{expose:o,emit:a}){const i=a,n=e.ref(null),l=()=>{i("onRefresh")},r=()=>{i("onScrollToLower")};return o({endRefresh:()=>{n.value.endRefresh()}}),(o,a)=>{const i=L(e.resolveDynamicComponent("uv-load-more"),st),s=L(e.resolveDynamicComponent("z-paging"),No);return e.openBlock(),e.createElementBlock("view",{class:"item"},[e.createVNode(s,{ref_key:"page",ref:n,"refresher-enabled":t.refresh,fixed:!1,width:"100%",height:"100%","refresher-only":"",onOnRefresh:l,onScrolltolower:r},{refresher:e.withCtx((()=>[e.createElementVNode("view",{class:"loading"},[e.createVNode(tt,{type:"pulldown"})])])),loadingMoreDefault:e.withCtx((()=>[e.createVNode(i,{status:"loading","loading-text":"努力加载中..."})])),default:e.withCtx((()=>[e.createElementVNode("view",{class:"scroll-box",style:e.normalizeStyle(t.customStyle)},[e.createElementVNode("view",{class:"container"},[e.renderSlot(o.$slots,"default",{},void 0,!0)])],4)])),_:3},8,["refresher-enabled"])])}}},[["__scopeId","data-v-9259fc7a"]]);class Bo{constructor(e,t){this.options=e,this.animation=uni.createAnimation({...e}),this.currentStepAnimates={},this.next=0,this.$=t}_nvuePushAnimates(e,t){let o=this.currentStepAnimates[this.next],a={};if(a=o||{styles:{},config:{}},Vo.includes(e)){a.styles.transform||(a.styles.transform="");let o="";"rotate"===e&&(o="deg"),a.styles.transform+=`${e}(${t+o}) `}else a.styles[e]=`${t}`;this.currentStepAnimates[this.next]=a}_animateRun(e={},t={}){let o=this.$.$refs.ani.ref;if(o)return new Promise(((a,i)=>{nvueAnimation.transition(o,{styles:e,...t},(e=>{a()}))}))}_nvueNextAnimate(e,t=0,o){let a=e[t];if(a){let{styles:i,config:n}=a;this._animateRun(i,n).then((()=>{t+=1,this._nvueNextAnimate(e,t,o)}))}else this.currentStepAnimates={},"function"==typeof o&&o(),this.isEnd=!0}step(e={}){return this.animation.step(e),this}run(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof e&&e()}),this.$.durationTime)}}const Vo=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function Eo(e,t){if(t)return clearTimeout(t.timer),new Bo(e,t)}Vo.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((e=>{Bo.prototype[e]=function(...t){return this.animation[e](...t),this}}));const Io=ve({name:"uv-transition",mixins:[_,fe],emits:["click","change"],props:{show:{type:Boolean,default:!1},mode:{type:[Array,String,null],default:()=>"fade"},duration:{type:[String,Number],default:300},timingFunction:{type:String,default:"ease-out"},customClass:{type:String,default:""},cellChild:{type:Boolean,default:!1}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{transformStyles(){const e={transform:this.transform,opacity:this.opacity,...this.$uv.addStyle(this.customStyle),"transition-duration":this.duration/1e3+"s"};return this.$uv.addStyle(e,"string")}},created(){this.config={duration:this.duration,timingFunction:this.timingFunction,transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=Eo(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let t in e)try{"object"==typeof e[t]?this.animation[t](...e[t]):this.animation[t](e[t])}catch(o){R("error","at uni_modules/uv-transition/components/uv-transition/uv-transition.vue:166",`方法 ${t} 不存在`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);void 0!==e&&(this.opacity=e),this.transform=t,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=Eo(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})}),20)}))},close(e){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:e,transform:t}=this.styleInit(!1);this.opacity=e||1,this.transform=t,this.$emit("change",{detail:this.isShow})}))},styleInit(e){let t={transform:""},o=(e,o)=>{"fade"===o?t.opacity=this.animationType(e)[o]:t.transform+=this.animationType(e)[o]+" "};return"string"==typeof this.mode?o(e,this.mode):this.mode.forEach((t=>{o(e,t)})),t},tranfromInit(e){let t=(e,t)=>{let o=null;"fade"===t?o=e?0:1:(o=e?"-100%":"0","zoom-in"===t&&(o=e?.8:1),"zoom-out"===t&&(o=e?1.2:1),"slide-right"===t&&(o=e?"100%":"0"),"slide-bottom"===t&&(o=e?"100%":"0")),this.animation[this.animationMode()[t]](o)};return"string"==typeof this.mode?t(e,this.mode):this.mode.forEach((o=>{t(e,o)})),this.animation},animationType:e=>({fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,o,a,i,n,l){return n.isShow?(e.openBlock(),e.createElementBlock("view",{key:0,ref:"ani",animation:n.animationData,class:e.normalizeClass(a.customClass),style:e.normalizeStyle(l.transformStyles),onClick:o[0]||(o[0]=(...e)=>l.onClick&&l.onClick(...e))},[e.renderSlot(t.$slots,"default")],14,["animation"])):e.createCommentVNode("",!0)}]]);const _o=ve({name:"uv-image",emits:["click","load","error"],mixins:[_,fe,{props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},width:{type:[String,Number],default:"300"},height:{type:[String,Number],default:"225"},shape:{type:String,default:"square"},radius:{type:[String,Number],default:0},lazyLoad:{type:Boolean,default:!0},observeLazyLoad:{type:Boolean,default:!1},showMenuByLongpress:{type:Boolean,default:!0},loadingIcon:{type:String,default:"photo"},errorIcon:{type:String,default:"error-circle"},showLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!0},fade:{type:Boolean,default:!0},webp:{type:Boolean,default:!1},duration:{type:[String,Number],default:500},bgColor:{type:String,default:"#f3f4f6"},cellChild:{type:Boolean,default:!1},...null==(h=null==(c=uni.$uv)?void 0:c.props)?void 0:h.image}}],data(){return{isError:!1,loading:!0,backgroundStyle:{},show:!1,observeShow:!this.observeLazyLoad,elIndex:"",imgWidth:this.width,imgHeight:this.height,thresholdValue:50}},watch:{src:{immediate:!0,handler(e){e?(this.isError=!1,this.loading=!0):this.isError=!0}},width(e){this.show=!1,this.$uv.sleep(2).then((e=>{this.show=!0})),this.imgWidth=e},height(e){this.show=!1,this.$uv.sleep(2).then((e=>{this.show=!0})),this.imgHeight=e}},computed:{wrapStyle(){let e={};return"heightFix"!==this.mode&&(e.width=this.$uv.addUnit(this.imgWidth)),"widthFix"!==this.mode&&(e.height=this.$uv.addUnit(this.imgHeight)),e.borderRadius="circle"==this.shape?"10000px":this.$uv.addUnit(this.radius),e.overflow=this.radius>0?"hidden":"visible",this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))},imageStyle(){let e={};return e.borderRadius="circle"==this.shape?"10000px":this.$uv.addUnit(this.radius),e}},created(){this.elIndex=this.$uv.guid(),this.observer={},this.observerName="lazyLoadContentObserver"},mounted(){this.show=!0,this.$nextTick((()=>{this.observeLazyLoad&&this.observerFn()}))},methods:{onClick(){this.$emit("click")},onErrorHandler(e){this.loading=!1,this.isError=!0,this.$emit("error",e)},onLoadHandler(e){"widthFix"==this.mode&&(this.imgHeight="auto"),"heightFix"==this.mode&&(this.imgWidth="auto"),this.loading=!1,this.isError=!1,this.$emit("load",e),this.removeBgColor()},removeBgColor(){this.backgroundStyle={backgroundColor:"transparent"}},observerFn(){this.$nextTick((()=>{uni.$once("onLazyLoadReachBottom",(()=>{this.observeShow||(this.observeShow=!0)}))})),setTimeout((()=>{this.disconnectObserver(this.observerName);const e=uni.createIntersectionObserver(this);e.relativeToViewport({bottom:this.thresholdValue}).observe(`.uv-image--${this.elIndex}`,(e=>{e.intersectionRatio>0&&(this.observeShow=!0,this.disconnectObserver(this.observerName))})),this[this.observerName]=e}),50)},disconnectObserver(e){const t=this[e];t&&t.disconnect()}}},[["render",function(t,o,a,i,n,l){const r=L(e.resolveDynamicComponent("uv-icon"),we),s=L(e.resolveDynamicComponent("uv-transition"),Io);return n.show?(e.openBlock(),e.createBlock(s,{key:0,show:n.show,mode:"fade",duration:t.fade?t.duration:0,"cell-child":t.cellChild,"custom-style":l.wrapStyle},{default:e.withCtx((()=>[e.createElementVNode("view",{class:e.normalizeClass(["uv-image",[`uv-image--${n.elIndex}`]]),onClick:o[2]||(o[2]=(...e)=>l.onClick&&l.onClick(...e)),style:e.normalizeStyle([l.wrapStyle,n.backgroundStyle])},[!n.isError&&n.observeShow?(e.openBlock(),e.createElementBlock("image",{key:0,src:t.src,mode:t.mode,onError:o[0]||(o[0]=(...e)=>l.onErrorHandler&&l.onErrorHandler(...e)),onLoad:o[1]||(o[1]=(...e)=>l.onLoadHandler&&l.onLoadHandler(...e)),"show-menu-by-longpress":t.showMenuByLongpress,"lazy-load":t.lazyLoad,class:"uv-image__image",style:e.normalizeStyle([l.imageStyle]),webp:t.webp},null,44,["src","mode","show-menu-by-longpress","lazy-load","webp"])):e.createCommentVNode("",!0),t.showLoading&&n.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uv-image__loading",style:e.normalizeStyle({borderRadius:"circle"==t.shape?"50%":t.$uv.addUnit(t.radius),backgroundColor:t.bgColor,width:t.$uv.addUnit(t.width),height:t.$uv.addUnit(t.height)})},[e.renderSlot(t.$slots,"loading",{},(()=>[e.createVNode(r,{name:t.loadingIcon,width:t.width,height:t.height},null,8,["name","width","height"])]),!0)],4)):e.createCommentVNode("",!0),t.showError&&n.isError&&!n.loading?(e.openBlock(),e.createElementBlock("view",{key:2,class:"uv-image__error",style:e.normalizeStyle({borderRadius:"circle"==t.shape?"50%":t.$uv.addUnit(t.radius),width:t.$uv.addUnit(t.width),height:t.$uv.addUnit(t.height)})},[e.renderSlot(t.$slots,"error",{},(()=>[e.createVNode(r,{name:t.errorIcon,width:t.width,height:t.height},null,8,["name","width","height"])]),!0)],4)):e.createCommentVNode("",!0)],6)])),_:3},8,["show","duration","cell-child","custom-style"])):e.createCommentVNode("",!0)}],["__scopeId","data-v-7d4ce7f7"]]),Ro=ve({__name:"recommed",props:{isLoaded:{default:!1,type:Boolean},novelList:{default:()=>[],type:Array},current:{type:Number,default:0}},emits:["changeRank"],setup(t,{emit:o}){const a=Be(),i=o,n=e.ref(["推荐榜","点击榜","完本榜"]);return(o,l)=>{const r=L(e.resolveDynamicComponent("uv-image"),_o);return e.openBlock(),e.createElementBlock("view",{class:"recommend"},[e.createElementVNode("view",{class:"title"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((o,a)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass([t.current==a?"active":""]),key:a,onClick:e=>(e=>{i("changeRank",e)})(a)},e.toDisplayString(o),11,["onClick"])))),128))]),e.createElementVNode("view",{class:"list"},[e.withDirectives(e.createVNode(tt,null,null,512),[[e.vShow,!t.isLoaded]]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.novelList,((o,i)=>e.withDirectives((e.openBlock(),e.createElementBlock("view",{class:"list-item",onClick:e=>{return t=o,a.commit("setCurrentNovelDetail",{...t,type:"novel"}),void uni.navigateTo({url:"/pages/nove-detail/index",animationType:"slide-in-right"});var t},key:o.id},[e.createElementVNode("view",{class:"l"},[e.createVNode(r,{src:o.cover,"lazy-load":"",observeLazyLoad:"",fade:"",loadingIcon:"photo-fill",duration:"450",radius:"5",width:"50",height:"60"},null,8,["src"])]),e.createElementVNode("view",{class:"r"},[e.createElementVNode("view",{class:"name"},[e.createElementVNode("text",{class:e.normalizeClass(["num",i<3?"advanced":""])},e.toDisplayString(i+1),3),e.createTextVNode(" "+e.toDisplayString(o.name),1)]),e.createElementVNode("view",{class:"info"},[e.createTextVNode(e.toDisplayString(o.genre)+" ",1),e.createElementVNode("text",null,e.toDisplayString(o.author),1),e.createElementVNode("text",null,e.toDisplayString(o.words_count),1)])])],8,["onClick"])),[[e.vShow,t.isLoaded]]))),128))])])}}},[["__scopeId","data-v-d61ec4b0"]]),Lo=ve({__name:"novel-list",props:{novelList:{type:Array,default:()=>[]}},emits:["onLayout"],setup(t,{emit:o}){const a=Be(),i=e.getCurrentInstance(),n=o,l=t,r=e.watch((()=>l.novelList),(()=>{e.nextTick((async()=>{const e=await at(i,".list");n("onLayout",e)})),r()}));return(o,i)=>{const n=L(e.resolveDynamicComponent("uv-image"),_o);return e.openBlock(),e.createElementBlock("view",{class:"list-container"},[e.createElementVNode("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.novelList,(t=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.id,onClick:e=>{return o=t,a.commit("setCurrentNovelDetail",{...o,name:(i=o.name,i.replace(/<[^>]+>/g,""))}),void uni.navigateTo({url:"/pages/nove-detail/index",animationType:"slide-in-right"});var o,i}},[e.createElementVNode("view",{class:"l"},[e.createVNode(n,{src:t.cover,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"90",height:"120"},null,8,["src"])]),e.createElementVNode("view",{class:"r"},[e.createElementVNode("view",{class:"name",innerHTML:t.name},null,8,["innerHTML"]),e.createElementVNode("view",{class:"info"},e.toDisplayString(t.intro),1),e.createElementVNode("view",{class:"b"},[e.createElementVNode("text",{class:"status"},e.toDisplayString(t.status),1),e.createTextVNode(" "+e.toDisplayString(t.words_count),1)])])],8,["onClick"])))),128))])])}}},[["__scopeId","data-v-dfaf0f84"]]),zo=ve({__name:"guessyoulike",props:{novelList:{default:()=>[],type:Array}},setup:t=>(o,a)=>(e.openBlock(),e.createElementBlock("view",{class:"guess-like-container"},[e.createElementVNode("view",{class:"title"},"猜你喜欢"),e.createVNode(Lo,{novelList:t.novelList},null,8,["novelList"])]))},[["__scopeId","data-v-44d21c2c"]]),Mo=e.reactive({events:{}}),Ao={on(e,t){Mo.events[e]?R("warn","at utiles/eventBus.js:16",`${e}事件已存在`):Mo.events[e]=t},emit(e,t){if(Mo.events[e])return Mo.events[e](t)},off(e){Mo.events[e]&&delete Mo.events[e]}},Do=(e,t="get",o={})=>new Promise(((a,i)=>{uni.request({url:"http://192.168.0.100"+e,data:o,method:t,timeout:1e4,success(e){a(e)},fail(e){throw i(e),new Error("网络请求失败")}})}));const Po=e=>Do(`/novel/chapters?novel_id=${e}`),Fo=(e,t)=>Do(`/novel/chapter/content?novel_id=${e}&content_id=${t}`),Ho=()=>Do("/novel/hotnovels"),Oo=(e,t,o)=>Do(`/novel/getBookByGenre?genre=${e}&size=${t}&offset=${o}`),$o=e=>Do(`/comic/rank?gender=${e}`),jo=(e,t=10)=>Do(`/comic/category?className=${e}&size=${t}`),Uo=(e,t,o=375)=>Do(`/comic/content?name=${e}&chapter_n=${t}&device_width=${o}`),Wo=e=>Do(`/comic/chapters?name=${e}`),Zo=(e,t,o)=>Do(`/comic/search?name=${e}&offset=${t}&size=${o}`),Go=(e,t,o)=>Do(`/comic/getBookByGenre?genre=${e}&size=${t}&offset=${o}`),Yo=new class{constructor(){this.name="_localStorage_novel",this.path="_doc/novel_app.db",this.init()}async init(){try{this.isDatabaseOpen()||await this.openDatabase(),await this.createChaptersTable(),await this.createHistoryTable(),await this.createBookShellTable()}catch(e){R("error","at api/utils/db.js:21","数据库初始化失败:",e.message)}}async insertChapter(e){if(!e||3!==e.length)return void R("error","at api/utils/db.js:27","参数无效");const[t,o,a]=e;return new Promise(((e,i)=>{plus.sqlite.executeSql({name:this.name,sql:`INSERT INTO chapters (chapter_name, novel_id, chapter_n) VALUES ("${t}", ${o}, ${a})`,success(t){R("log","at api/utils/db.js:36","插入成功"),e()},fail(e){R("error","at api/utils/db.js:40","插入失败:"+e.message),i()}})}))}async openDatabase(){try{await plus.sqlite.openDatabase({name:this.name,path:this.path}),R("log","at api/utils/db.js:52","数据库打开成功")}catch(e){R("error","at api/utils/db.js:54","数据库打开失败:",e.message)}}async createChaptersTable(){try{await plus.sqlite.executeSql({name:this.name,sql:"CREATE TABLE IF NOT EXISTS chapters (\n\t\t\t\t\tid INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\n\t\t\t\t\tchapter_name TEXT DEFAULT NULL, \n\t\t\t\t\tnovel_id INTEGER NOT NULL, \n\t\t\t\t\tchapter_n INTEGER NOT NULL);"}),R("log","at api/utils/db.js:68","章节表创建成功或已存在")}catch(e){R("error","at api/utils/db.js:70","创建章节表失败:",e.message)}}async createHistoryTable(){try{await plus.sqlite.executeSql({name:this.name,sql:"\n\t\t\t\t\tCREATE TABLE IF NOT EXISTS history (\n\t\t\t\t\t    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\n\t\t\t\t\t    novel_id INTEGER NOT NULL UNIQUE, \n\t\t\t\t\t    offsetY INTEGER DEFAULT 0,\n\t\t\t\t\t    chapter_n INTEGER NOT NULL,\n\t\t\t\t\t    chapter_name TEXT NOT NULL,\n\t\t\t\t\t\tread_time DATETIME DEFAULT CURRENT_TIMESTAMP,\n\t\t\t\t\t\ttype TEXT Default 'novel'\n\t\t\t\t\t);\n\t\t\t\t"}),R("log","at api/utils/db.js:90","历史记录表创建成功或已存在")}catch(e){R("error","at api/utils/db.js:92","创建历史记录表失败:",e.message)}}async isExistHistory(e,t="novel"){return await this.select(`\n\t\t\tselect *\n\t\t\tfrom history \n\t\t\twhere novel_id=${e} \n\t\t\t\tand \n\t\t\ttype='${t}'\n\t\t `)}insterBookShell({id:e,name:t,author:o,intro:a,cover:i,genre:n,status:l,words_count:r,type:s="novel"}){return new Promise(((c,h)=>{plus.sqlite.executeSql({name:this.name,sql:`INSERT INTO bookshell (novel_id, name, author, intro, cover, genre, status, words_count,type) \n\t\t\t          VALUES (${e}, '${t}', '${o}', '${a}', '${i}', '${n}', '${l}', '${r}','${s}')`,success(e){R("log","at api/utils/db.js:123",`《${t}》添加到书架成功`),c()},fail(e){R("error","at api/utils/db.js:127",`《${t}》添加到书架失败`),R("log","at api/utils/db.js:128",e),h()}})}))}insertHistory(e){const[t,o,a,i,n="novel"]=e;return new Promise(((e,l)=>{plus.sqlite.executeSql({name:this.name,sql:`\n\t\t\tINSERT INTO history(novel_id, offsetY, chapter_n,chapter_name,type) VALUES(${t}, ${o}, ${a},'${i}','${n}')`,success(t){R("log","at api/utils/db.js:143","插入历史成功"),e()},fail(e){R("error","at api/utils/db.js:147","插入历史失败:"+e.message),l()}})}))}isDatabaseOpen(){return plus.sqlite.isOpenDatabase({name:this.name,path:this.path})}async select(e){return new Promise(((t,o)=>{plus.sqlite.selectSql({name:this.name,sql:e,success(e){t(e)},fail(e){R("log","at api/utils/db.js:169","查询失败:"+e.message),o()}})}))}async createBookShellTable(){try{await plus.sqlite.executeSql({name:this.name,sql:"\n                CREATE TABLE IF NOT EXISTS bookshell (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,  -- 自动递增的主键 \n                    novel_id INTEGER NOT NULL UNIQUE,  -- 小说id\n                    name TEXT NOT NULL,  -- 小说名称 \n                    author TEXT,  -- 小说作者 \n                    intro TEXT NOT NULL,  -- 小说简介 \n                    cover TEXT,  -- 小说封面 \n                    genre TEXT NOT NULL,  -- 小说题材 \n                    status TEXT NOT NULL DEFAULT '连载中',  -- 小说状态(使用TEXT代替ENUM) \n                    words_count TEXT DEFAULT NULL,  -- 小说字数 (改为 INTEGER)\n\t\t\t\t\ttype TEXT Default 'novel'\n                );\n            "}),R("log","at api/utils/db.js:196","书架表创建成功或已存在")}catch(e){R("error","at api/utils/db.js:198","创建书架表失败:",e.message)}}executeSql(e){return new Promise(((t,o)=>{plus.sqlite.executeSql({name:this.name,sql:e,success(e){t(e)},fail(e){R("error","at api/utils/db.js:211",e.message),reject()}})}))}async closeDatabase(){try{await plus.sqlite.closeDatabase({name:this.name,path:this.path}),R("log","at api/utils/db.js:224","数据库关闭成功！")}catch(e){R("error","at api/utils/db.js:226","数据库关闭失败:",e.message)}}},Qo=e=>Yo.insertHistory(e),Jo=(e,t="novle")=>Yo.isExistHistory(e,t),Ko=(e,t,o,a,i="novel")=>Yo.executeSql(`\n\t\tupdate history\n\t\tset chapter_n=${t},chapter_name='${o}', offsetY=${a}, read_time = CURRENT_TIMESTAMP\n\t\twhere novel_id = ${e} and type='${i}'\n`),Xo=e=>Yo.insterBookShell(e),qo=(e="novel")=>"all"!==e?Yo.select(`select * from bookshell where type='${e}'`):Yo.select("select * from bookshell"),ea=async(e,t="novel")=>(await Yo.select(`select * from bookshell where novel_id=${e} and type='${t}'`)).length>0,ta=(e,t="novel")=>Yo.executeSql(`delete from bookshell where novel_id=${e} and type='${t}'`),oa=ve({__name:"novel",setup(t){const o=e.ref(null),a=e.ref([]),i=e.ref([]),n=e.ref(0),l=e.ref(!1),r=e.ref([]);e.onMounted((async()=>{c(0),h()}));const s=()=>{h()},c=async(e=0)=>{l.value=!1,n.value=e;try{if(i.value[e])a.value=i.value[e];else if(0==e||1==e){const{data:t}=await Do("/rank/recommend");i.value[e]=t,a.value=t}else{const{data:t}=await Do("/rank/finished");i.value[e]=t,a.value=t}l.value=!0}catch(t){R("log","at components/home/novel.vue:69",t.message)}},h=async()=>{let{data:e}=await Do("/guessyoulike");e=e.map((e=>({...e,type:"novel"}))),r.value=[...r.value,...e]},u=async()=>{i.value=[],await c(0),r.value=[],await h(),o.value.endRefresh()};return(t,i)=>{const h=L(e.resolveDynamicComponent("uv-load-more"),st);return e.openBlock(),e.createBlock(xo,{ref_key:"novelPage",ref:o,pageName:"novel",onOnRefresh:u,onOnScrollToLower:s},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"novel-page"},[e.createVNode(Ro,{current:n.value,novelList:a.value,isLoaded:l.value,onChangeRank:c},null,8,["current","novelList","isLoaded"]),e.createVNode(zo,{novelList:r.value},null,8,["novelList"]),e.createVNode(h,{status:"loading","loading-text":"努力加载中..."})])])),_:1},512)}}},[["__scopeId","data-v-6433dbe8"]]),aa=ve({__name:"comic-gender-recommend",props:{rankList:{type:Array,default:()=>[]}},emits:["changeRank","changeAchange"],setup(t,{emit:o}){const a=["男生精选","女生精选"],i=e.ref(0),n=o,l=()=>{n("changeAchange")};return(o,r)=>{const s=L(e.resolveDynamicComponent("uv-icon"),we),c=L(e.resolveDynamicComponent("uv-image"),_o);return e.openBlock(),e.createElementBlock("view",{class:"gender-recommend"},[e.createElementVNode("view",{class:"recommend-top"},[e.createElementVNode("view",{class:"title-list"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(a,((t,o)=>e.createElementVNode("view",{class:e.normalizeClass(i.value==o?"active":""),onClick:e=>(async e=>{i.value=e,n("changeRank",e)})(o),key:o},e.toDisplayString(t),11,["onClick"]))),64))]),e.createElementVNode("view",{class:"more",onClick:l},[e.createElementVNode("view",null,"换一换"),e.createVNode(s,{name:"reload",color:"#000",size:"14",bold:""})])]),e.createElementVNode("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.rankList,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.id},[e.createVNode(c,{src:`http://192.168.0.100/comic/cover/${t.name}.png`,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"100%",height:"200rpx"},null,8,["src"]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1)])))),128))])])}}},[["__scopeId","data-v-dd05fb3a"]]),ia=ve({__name:"comic-hot-recommend",props:{comicList:{type:Array,default:()=>[]},title:{type:String,default:" "}},setup:t=>(o,a)=>{const i=L(e.resolveDynamicComponent("uv-icon"),we),n=L(e.resolveDynamicComponent("uv-image"),_o);return e.openBlock(),e.createElementBlock("view",{class:"hot"},[e.createElementVNode("view",{class:"hot-top"},[e.createElementVNode("view",{class:"l"},[e.createVNode(i,{name:"fire",color:"red","custom-prefix":"custom-icon",size:"16"}),e.createTextVNode(" "+e.toDisplayString(t.title),1)]),e.createElementVNode("view",{class:"r"},[e.createTextVNode(" 更多 "),e.createVNode(i,{name:"arrow-right",color:"#000",size:"12",bold:""})])]),e.createElementVNode("view",{class:"comic-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.comicList,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"comic-item",key:t.id*(o+1)},[e.createVNode(n,{src:`http://192.168.0.100/comic/cover/${t.name}.png`,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"100%",height:"150"},null,8,["src"]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"genre-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.genre.split(",").slice(0,3),((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"genre-item",key:o},e.toDisplayString(t),1)))),128))])])))),128))])])}},[["__scopeId","data-v-06fc1ba3"]]),na=ve({__name:"comic-more-recomend",props:{comicList:{type:Array,default:()=>[]}},setup(t){const o=Be();return(a,i)=>{const n=L(e.resolveDynamicComponent("uv-image"),_o);return e.openBlock(),e.createElementBlock("view",{class:"more-recomend"},[e.createElementVNode("view",{class:"title"},"专属你的热门推荐"),e.createElementVNode("view",{class:"comic-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.comicList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{return a=t,o.commit("setCurrentNovelDetail",{...a,type:"comic"}),void uni.navigateTo({url:"/pages/nove-detail/index"});var a},class:"comic-item",key:t.id},[e.createVNode(n,{bgColor:"#fff",src:`http://192.168.0.100/comic/cover/${t.name}.png`,"lazy-load":"",observeLazyLoad:"",fade:"",width:"100%",height:"250"},null,8,["src"]),e.createElementVNode("view",{class:"bottom"},[e.createElementVNode("view",{class:"comic-name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"comic-genre"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.genre.split(","),((t,o)=>(e.openBlock(),e.createElementBlock("view",{key:o},e.toDisplayString(t),1)))),128))])])],8,["onClick"])))),128))])])}}},[["__scopeId","data-v-3b0c8c9e"]]),la=ve({__name:"comic",setup(t){const{ranks:o,rankIndex:a,rankList:i,changeRank:n,changeAchange:l,getRankList:r}=(()=>{const t=e.ref([]),o=e.ref(0),a=e.computed((()=>t.value[o.value])),i=async e=>{const a=await $o(0==o.value?"boy":"girl");t.value[e]=a.data.data};return{ranks:t,rankIndex:o,rankList:a,changeRank:async e=>{o.value=e,t.value[e]||await i(e)},changeAchange:async()=>{await i(o.value)},getRankList:i}})(),s=e.ref(null);Be();const c=e.ref(!0),h=e.ref([]),u=e.ref([]),d=e.reactive({offset:0,size:10,list:[]}),m=async()=>{const e=await jo("国漫",6);h.value=e.data.data},p=async()=>{const e=await jo("日漫",6);u.value=e.data.data},g=async()=>{const e=await((e=10,t=0)=>Do(`/comic/recommend?size=${e}&offset=${t}`))(d.size,d.offset);d.list=[...d.list,...e.data.data]},f=async()=>{d.offset+=d.size,await g()};e.onMounted((async()=>{Ao.on("comic_show",(async()=>{await r(0),await m(),await p(),await g(),c.value=!1}))}));const y=async()=>{await(async()=>{const e=await $o(0);o.value=[],o.value[0]=e.data.data,a.value=0})(),await m(),await p(),d.list=[],await g(),c.value=!1,s.value.endRefresh()};return(t,o)=>{const a=L(e.resolveDynamicComponent("uv-load-more"),st);return e.openBlock(),e.createBlock(xo,{ref_key:"comicPage",ref:s,onOnRefresh:y,onOnScrollToLower:f},{default:e.withCtx((()=>[c.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-box"},[e.createVNode(tt)])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"comic-page"},[e.createVNode(aa,{onChangeAchange:e.unref(l),rankList:e.unref(i),onChangeRank:e.unref(n)},null,8,["onChangeAchange","rankList","onChangeRank"]),e.createVNode(ia,{title:"国漫也精彩",comicList:h.value},null,8,["comicList"]),e.createVNode(ia,{title:"日漫大世界",comicList:u.value},null,8,["comicList"]),e.createVNode(na,{comicList:d.list},null,8,["comicList"]),e.createVNode(a,{status:"loading","loading-text":"努力加载中..."})]))])),_:1},512)}}},[["__scopeId","data-v-2b88501e"]]),ra=()=>{const t=e.ref(0),o=e.computed((()=>a.value.map((e=>e.alias)))),a=e.ref([{name:"novel",alias:"小说",hasShown:!0},{name:"comic",alias:"漫画",hasShown:!1}]),i=e.computed((()=>a.value[t.value]));return{currentActiveTabbar:t,pageChange:e=>{"l"==e?t.value--:"r"==e&&t.value++},handelTopChange:e=>{t.value=e.index},tabBarList:o,pageList:a,currentPage:i}},sa=ve({__name:"index",setup(t){const{currentActiveTabbar:o,pageChange:a,tabBarList:i,pageList:n,handelTopChange:l}=ra();Be();const r=e.ref(0),s=e.computed((()=>n.value[o.value])),c=e.ref(["linear-gradient(45deg, rgba(250, 223, 209,0.5), rgba(205, 254, 209,0.5))","linear-gradient(45deg, rgba(254, 205, 240,0.5), rgba(204, 255, 209,0.5))"]);e.watch(s,(e=>{e.hasShown||(Ao.emit(`${e.name}_show`),n.value[o.value]={...e,hasShown:!0})}));const h=e.ref([]);e.onMounted((async()=>{u();const e=await Ho();h.value=e.data.data,d.value=h.value[0].name,Ao.on("changeTab",(e=>{o.value=e}))}));const u=async()=>{const t=await e.getCurrentInstance(),o=await ke(),a=await at(t,".home-top");r.value=o.windowHeight-a.height},d=e.ref(""),m=e=>{d.value=h.value[e.detail.current].name},p=()=>{uni.navigateTo({url:`/pages/search/search?novel_name=${d.value}`})};return(t,n)=>{const u=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"home bcg-color-white"},[e.createElementVNode("view",{class:"home-top",style:e.normalizeStyle({background:c.value[e.unref(o)]})},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"search-box bcg-color-white",onClick:p},[e.createVNode(u,{name:"search",color:"#989898",size:"24"}),e.createElementVNode("swiper",{onChange:m,"disable-touch":"","indicator-dots":!1,autoplay:!0,circular:"",vertical:"",interval:3e3,duration:1e3},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,((t,o)=>(e.openBlock(),e.createElementBlock("swiper-item",{key:t.id},e.toDisplayString(t.name),1)))),128))],32)]),e.createVNode(Se,{tabBarList:e.unref(i),value:e.unref(o),onChange:e.unref(l)},null,8,["tabBarList","value","onChange"])],4),e.createVNode(ot,{height:r.value,length:e.unref(i).length,pageName:s.value.name,current:e.unref(o),onPageChange:e.unref(a)},{default:e.withCtx((()=>[e.createVNode(oa),e.createVNode(la)])),_:1},8,["height","length","pageName","current","onPageChange"])])}}},[["__scopeId","data-v-323ee81a"]]);const ca=ve({name:"uv-link",emits:["click"],mixins:[_,fe,{props:{color:{type:String,default:""},fontSize:{type:[String,Number],default:14},underLine:{type:Boolean,default:!1},href:{type:String,default:""},mpTips:{type:String,default:"链接已复制，请在浏览器打开"},lineColor:{type:String,default:""},text:{type:String,default:""},...null==(d=null==(u=uni.$uv)?void 0:u.props)?void 0:d.link}}],computed:{linkStyle(){return{color:this.color,fontSize:this.$uv.addUnit(this.fontSize),lineHeight:this.$uv.addUnit(this.$uv.getPx(this.fontSize)+2),textDecoration:this.underLine?"underline":"none"}}},methods:{openLink(){plus.runtime.openURL(this.href),this.$emit("click")}}},[["render",function(t,o,a,i,n,l){return e.openBlock(),e.createElementBlock("text",{class:"uv-link",onClick:o[0]||(o[0]=e.withModifiers(((...e)=>l.openLink&&l.openLink(...e)),["stop"])),style:e.normalizeStyle([l.linkStyle,t.$uv.addStyle(t.customStyle)])},e.toDisplayString(t.text),5)}],["__scopeId","data-v-d02f9df8"]]);const ha=ve({name:"uv-text",emits:["click"],mixins:[_,fe,{computed:{value(){const{text:e,mode:t,format:o,href:a}=this;return"price"===t?Z(o)?o(e):se(e,2):"date"===t?(O(e),Z(o)?o(e):ne(e,o||"yyyy-mm-dd")):"phone"===t?Z(o)?o(e):"encrypt"===o?`${e.substr(0,3)}****${e.substr(7)}`:e:"name"===t?Z(o)?o(e):"encrypt"===o?this.formatName(e):e:e}},methods:{formatName(e){let t="";if(2===e.length)t=e.substr(0,1)+"*";else if(e.length>2){let o="";for(let t=0,a=e.length-2;t<a;t++)o+="*";t=e.substr(0,1)+o+e.substr(-1,1)}else t=e;return t}}},{props:{type:{type:String,default:""},show:{type:Boolean,default:!0},text:{type:[String,Number],default:""},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},mode:{type:String,default:""},href:{type:String,default:""},format:{type:[String,Function],default:""},call:{type:Boolean,default:!0},openType:{type:String,default:""},bold:{type:Boolean,default:!1},block:{type:Boolean,default:!1},lines:{type:[String,Number],default:""},color:{type:String,default:"#303133"},size:{type:[String,Number],default:15},iconStyle:{type:[Object,String],default:()=>({fontSize:"15px"})},decoration:{type:String,default:"none"},margin:{type:[Object,String,Number],default:0},lineHeight:{type:[String,Number],default:""},align:{type:String,default:"left"},wordWrap:{type:String,default:"normal"},...null==(p=null==(m=uni.$uv)?void 0:m.props)?void 0:p.text}}],computed:{valueStyle(){const e={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:this.$uv.addUnit(this.size)};return!this.type&&(e.color=this.color),this.isNvue&&this.lines&&(e.lines=this.lines),!this.isNvue||"price"==this.mode||this.prefixIcon||this.suffixIcon||(e.flex=1,e.textAlign="left"===this.align?"flex-start":"center"===this.align?"center":"right"),this.lineHeight&&(e.lineHeight=this.$uv.addUnit(this.lineHeight)),!this.isNvue&&this.block&&(e.display="block"),this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))},isNvue:()=>!1,isMp:()=>!1},data:()=>({}),methods:{clickHandler(){this.call&&"phone"===this.mode&&uni.makePhoneCall({phoneNumber:this.text}),this.$emit("click")}}},[["render",function(t,o,a,i,n,l){const r=L(e.resolveDynamicComponent("uv-icon"),we),s=L(e.resolveDynamicComponent("uv-link"),ca);return t.show?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uv-text",[]]),style:e.normalizeStyle({margin:t.margin,justifyContent:"left"===t.align?"flex-start":"center"===t.align?"center":"flex-end"}),onClick:o[6]||(o[6]=(...e)=>l.clickHandler&&l.clickHandler(...e))},["price"===t.mode?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(["uv-text__price",t.type&&`uv-text__value--${t.type}`]),style:e.normalizeStyle([l.valueStyle])},"￥",6)):e.createCommentVNode("",!0),t.prefixIcon?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uv-text__prefix-icon"},[e.createVNode(r,{name:t.prefixIcon,customStyle:t.$uv.addStyle(t.iconStyle)},null,8,["name","customStyle"])])):e.createCommentVNode("",!0),"link"===t.mode?(e.openBlock(),e.createBlock(s,{key:2,text:t.value,href:t.href,underLine:""},null,8,["text","href"])):t.openType&&l.isMp?(e.openBlock(),e.createElementBlock("button",{key:3,class:"uv-reset-button uv-text__value",style:e.normalizeStyle([l.valueStyle]),openType:t.openType,onGetuserinfo:o[0]||(o[0]=(...e)=>t.onGetUserInfo&&t.onGetUserInfo(...e)),onContact:o[1]||(o[1]=(...e)=>t.onContact&&t.onContact(...e)),onGetphonenumber:o[2]||(o[2]=(...e)=>t.onGetPhoneNumber&&t.onGetPhoneNumber(...e)),onError:o[3]||(o[3]=(...e)=>t.onError&&t.onError(...e)),onLaunchapp:o[4]||(o[4]=(...e)=>t.onLaunchApp&&t.onLaunchApp(...e)),onOpensetting:o[5]||(o[5]=(...e)=>t.onOpenSetting&&t.onOpenSetting(...e)),lang:t.lang,"session-from":t.sessionFrom,"send-message-title":t.sendMessageTitle,"send-message-path":t.sendMessagePath,"send-message-img":t.sendMessageImg,"show-message-card":t.showMessageCard,"app-parameter":t.appParameter},e.toDisplayString(t.value),45,["openType","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter"])):(e.openBlock(),e.createElementBlock("text",{key:4,class:e.normalizeClass(["uv-text__value",[t.type&&`uv-text__value--${t.type}`,t.lines&&`uv-line-${t.lines}`]]),style:e.normalizeStyle([l.valueStyle])},e.toDisplayString(t.value),7)),t.suffixIcon?(e.openBlock(),e.createElementBlock("view",{key:5,class:"uv-text__suffix-icon"},[e.createVNode(r,{name:t.suffixIcon,customStyle:t.$uv.addStyle(t.iconStyle)},null,8,["name","customStyle"])])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)}],["__scopeId","data-v-4c65a453"]]);const ua=ve({name:"uv-read-more",mixins:[_,fe,{props:{showHeight:{type:[String,Number],default:400},toggle:{type:Boolean,default:!1},closeText:{type:String,default:"展开阅读全文"},openText:{type:String,default:"收起"},color:{type:String,default:"#2979ff"},fontSize:{type:[String,Number],default:14},shadowStyle:{type:Object,default:()=>({backgroundImage:"linear-gradient(-180deg, rgba(255, 255, 255, 0) 0%, #fff 80%)",paddingTop:"100px",marginTop:"-100px"})},textIndent:{type:String,default:"2em"},name:{type:[String,Number],default:""},...null==(f=null==(g=uni.$uv)?void 0:g.props)?void 0:f.readMore}}],data:()=>({isLongContent:!1,status:"close",elId:"",contentHeight:100}),computed:{innerShadowStyle(){return"open"===this.status?{}:this.shadowStyle}},created(){this.elId=this.$uv.guid()},mounted(){this.init()},methods:{async init(){this.getContentHeight().then((e=>{this.contentHeight=e,e>this.$uv.getPx(this.showHeight)&&(this.isLongContent=!0,this.status="close")}))},async getContentHeight(){return await this.$uv.sleep(30),new Promise((e=>{this.$uvGetRect("."+this.elId).then((t=>{e(t.height)}))}))},toggleReadMore(){this.status="close"===this.status?"open":"close",0==this.toggle&&(this.isLongContent=!1),this.$emit(this.status,this.name)}}},[["render",function(t,o,a,i,n,l){const r=L(e.resolveDynamicComponent("uv-text"),ha),s=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"uv-read-more"},[e.createElementVNode("view",{class:"uv-read-more__content",style:e.normalizeStyle({height:n.isLongContent&&"close"===n.status?t.$uv.addUnit(t.showHeight):t.$uv.addUnit(n.contentHeight,"px"),textIndent:t.textIndent})},[e.createElementVNode("view",{class:e.normalizeClass(["uv-read-more__content__inner",[n.elId]]),ref:"uv-read-more__content__inner"},[e.renderSlot(t.$slots,"default",{},void 0,!0)],2)],4),n.isLongContent?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uv-read-more__toggle",style:e.normalizeStyle([l.innerShadowStyle])},[e.renderSlot(t.$slots,"toggle",{},(()=>[e.createElementVNode("view",{class:"uv-read-more__toggle__text",onClick:o[0]||(o[0]=(...e)=>l.toggleReadMore&&l.toggleReadMore(...e))},[e.createVNode(r,{text:"close"===n.status?t.closeText:t.openText,color:t.color,size:t.fontSize,lineHeight:t.fontSize,margin:"0 5px 0 0"},null,8,["text","color","size","lineHeight"]),e.createElementVNode("view",{class:"uv-read-more__toggle__icon"},[e.createVNode(s,{color:t.color,size:t.fontSize+2,name:"close"===n.status?"arrow-down":"arrow-up"},null,8,["color","size","name"])])])]),!0)],4)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-e2d2f69a"]]),da=ve({__name:"page-loading",setup:t=>(t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"page-loading"},[e.createVNode(tt)]))},[["__scopeId","data-v-e07bb696"]]),ma=ve({__name:"index",setup(t){const o=Be(),a=e.computed((()=>o.state.currentNovelDetail)),i=e.ref(!0),n=e.ref(""),l=e.ref([]),r=e.ref(!1);M((async()=>{const e=await ea(a.value.id,a.value.type);r.value=e})),e.onMounted((async()=>{await c(a.value.cover),await h(),i.value=!1}));const s=()=>{uni.navigateBack()},c=async e=>{const{data:{data:t}}=await(o=e,Do(`/covermaincolor?url=${o}`));var o;n.value=t},h=async()=>{if("novel"==a.value.type){const{data:e}=await Po(a.value.id);l.value=e}else{const e=await Wo(a.value.name);l.value=e.data.data}},u=()=>{l.value.length>0?(o.commit("setCurrentNovelChapters",{novel_name:a.value.name,chapters:l.value}),uni.navigateTo({url:"/pages/chapters/chapters"})):uni.showToast({icon:"none",title:"当前小说暂无章节内容"})},d=()=>{l.value.length>0?uni.navigateTo({url:"novel"==a.value.type?`/pages/read/read?novel_id=${a.value.id}&chapter_n=1`:`/pages/comic-read/comic-read?comic_id=${a.value.id}&chapter_n=1`}):uni.showToast({icon:"none",title:"当前小说暂无章节内容"})},m=async()=>{r.value?(await ta(o.state.currentNovelDetail.id,a.value.type),r.value=!1):(await Xo(o.state.currentNovelDetail,a.value.type),r.value=!0)};return(t,o)=>{var c;const h=L(e.resolveDynamicComponent("uv-icon"),we),p=L(e.resolveDynamicComponent("uv-image"),_o),g=L(e.resolveDynamicComponent("uv-read-more"),ua);return e.openBlock(),e.createElementBlock("view",{class:"nove-detail-container"},[i.value?(e.openBlock(),e.createBlock(da,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"nove-detail-top",style:e.normalizeStyle({backgroundImage:`url(${a.value.cover})`})},[e.createElementVNode("view",{class:"frosted-glass"}),e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"back"},[e.createVNode(h,{onClick:s,bold:"",name:"arrow-left",color:"white"==n.value?"black":"white",size:"28"},null,8,["color"])]),e.createElementVNode("view",{class:"info"},[e.createVNode(p,{src:a.value.cover,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"90",height:"120"},null,8,["src"]),e.createElementVNode("view",{class:"name",style:e.normalizeStyle({color:"white"==n.value?"black":"white"})},e.toDisplayString(a.value.name),5),e.createElementVNode("view",{class:"author",style:e.normalizeStyle({color:"white"==n.value?"black":"white"})},e.toDisplayString(a.value.author)+" · "+e.toDisplayString(a.value.genre),5)])],4),e.createElementVNode("view",{class:"nove-detail-bottom"},[e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"t"},[e.createElementVNode("view",{class:"l"},e.toDisplayString("novel"==a.value.type?a.value.words_count:a.value.genre),1),e.createElementVNode("view",{class:"line"},"|"),e.createElementVNode("view",{class:"r"},e.toDisplayString(a.value.status),1)]),e.createVNode(g,{"show-height":"200rpx",toggle:!0,color:"#D33D22"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"intro"},e.toDisplayString(a.value.intro),1)])),_:1}),e.createElementVNode("view",{class:"catalog"},[e.createElementVNode("text",{class:"txt"},"目录"),e.createElementVNode("view",{class:"catalog-name",onClick:u},[e.createElementVNode("text",null," 连载至："+e.toDisplayString(l.value.length>0?null==(c=l.value[l.value.length-1])?void 0:c.chapter_name:"当前小说暂无章节内容"),1),e.createVNode(h,{name:"arrow-right"})])])])]),e.createElementVNode("view",{class:"fun"},[e.createElementVNode("view",{class:"add-book",onClick:m},[e.createVNode(h,{name:"bookshelfshujia","custom-prefix":"custom-icon",size:"20",color:"#000"}),e.createTextVNode(" "+e.toDisplayString(r.value?"已在书架":"加入书架"),1)]),e.createElementVNode("view",{class:"view download"},"全本缓存"),e.createElementVNode("view",{class:"read",onClick:d},"开始阅读")])])}}},[["__scopeId","data-v-068111ad"]]),pa=ve({__name:"chapters",setup(t){const o=Be(),a=e.computed((()=>o.state.currentNovelChapters)),i=e.ref(null),n=e.ref(!1);e.onMounted((()=>{uni.setNavigationBarTitle({title:a.value.novel_name}),uni.setNavigationBarColor({backgroundColor:"#fff",frontColor:"#000"}),i.value=a.value.chapters[a.value.chapters.length-1].chapter_name}));const l=()=>{a.value.chapters=a.value.chapters.reverse(),n.value=!n.value};return(t,o)=>{const r=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"chapters_container"},[e.createElementVNode("view",{class:"order"},[e.createElementVNode("view",{class:"l"}," 更新至"+e.toDisplayString(i.value),1),e.createElementVNode("view",{class:"r",onClick:l},[e.createElementVNode("view",{class:"icon"},[e.createVNode(r,{name:"arrow-up-fill",size:"12"}),e.createVNode(r,{name:"arrow-down-fill",size:"12"})]),e.createTextVNode(" "+e.toDisplayString(n.value?"逆序":"正序"),1)])]),e.createElementVNode("view",{class:"chapter-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value.chapters,(t=>(e.openBlock(),e.createElementBlock("view",{class:"item",key:t.id},e.toDisplayString(t.chapter_name),1)))),128))])])}}},[["__scopeId","data-v-6b820881"]]);const ga=ve({name:"uv-loading-page",mixins:[_,fe,{props:{loadingText:{type:[String,Number],default:""},image:{type:String,default:""},loadingMode:{type:String,default:"circle"},loading:{type:Boolean,default:!1},bgColor:{type:String,default:"#fff"},color:{type:String,default:"#C8C8C8"},fontSize:{type:[String,Number],default:16},iconSize:{type:[String,Number],default:26},loadingColor:{type:String,default:"#C8C8C8"},duration:{type:[String,Number],default:300},...null==(v=null==(y=uni.$uv)?void 0:y.props)?void 0:v.loadingPage}}],data:()=>({showLoading:!1,opacity:1}),watch:{loading:{immediate:!0,handler(e){e?(this.showLoading=!0,this.opacity=1):(this.opacity=0,this.$nextTick((()=>{this.$uv.sleep(this.duration).then((e=>{this.showLoading=!1}))})))}}},computed:{loadingPageStyle(){const e={position:"fixed",top:"0",left:"0",right:"0",bottom:"0",zIndex:"999","background-color":this.bgColor,"transition-duration":`${this.duration}ms`,opacity:this.opacity};return this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,o,a,i,n,l){const r=L(e.resolveDynamicComponent("uv-loading-icon"),rt);return n.showLoading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uv-loading-page uv-flex-column",style:e.normalizeStyle([l.loadingPageStyle])},[""!=t.image?(e.openBlock(),e.createElementBlock("image",{key:0,src:t.image,class:"uv-loading-page__img",mode:"widthFit",style:e.normalizeStyle([{width:t.$uv.addUnit(t.iconSize),height:t.$uv.addUnit(t.iconSize)}])},null,12,["src"])):(e.openBlock(),e.createBlock(r,{key:1,mode:t.loadingMode,size:t.iconSize,color:t.loadingColor},null,8,["mode","size","color"])),e.renderSlot(t.$slots,"default",{},(()=>[e.createElementVNode("text",{class:"uv-loading-page__text",style:e.normalizeStyle([{fontSize:t.$uv.addUnit(t.fontSize),color:t.color}])},e.toDisplayString(t.loadingText),5)]),!0)],4)):e.createCommentVNode("",!0)}],["__scopeId","data-v-812c64fa"]]),fa=ve({__name:"read-top",props:{theme:{type:Object,default:()=>({backgroundColor:"#F6F6F6",color:"#929292"})},chapterName:{type:String,default:""}},setup(t){const o=()=>{uni.navigateBack()};return(a,i)=>{const n=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"read-top"},[e.createVNode(n,{name:"arrow-left",onClick:o,color:t.theme.color},null,8,["color"]),e.createElementVNode("text",{class:"chapter_name",style:e.normalizeStyle({color:t.theme.color})},e.toDisplayString(t.chapterName),5)])],64)}}},[["__scopeId","data-v-c7c8c494"]]),ya=ve({__name:"read-bottom",props:{theme:{type:Object,default:()=>({backgroundColor:"#F6F6F6",color:"#929292"})},currentPage:{type:Number,default:1},totalPage:{type:Number,default:1},currentTime:{type:String,default:"00:00"},batteryInfo:{type:Object,default:null}},setup:t=>(o,a)=>{const i=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"read-bottom",style:e.normalizeStyle({color:t.theme.color})},[e.createElementVNode("view",{class:"time"},e.toDisplayString(t.currentTime),1),t.batteryInfo?(e.openBlock(),e.createElementBlock("view",{key:0,class:"battery"},[t.batteryInfo.level<=10?(e.openBlock(),e.createBlock(i,{key:0,name:"battery-empty","custom-prefix":"custom-icon",size:"14",color:t.batteryInfo.isCharging?"#77CA44":t.theme.color},null,8,["color"])):t.batteryInfo.level>10&&t.batteryInfo.level<30?(e.openBlock(),e.createBlock(i,{key:1,name:"battery-low","custom-prefix":"custom-icon",size:"14",color:t.batteryInfo.isCharging?"#77CA44":t.theme.color},null,8,["color"])):t.batteryInfo.level>=30&&t.batteryInfo.level<50?(e.openBlock(),e.createBlock(i,{key:2,name:"battery-mid","custom-prefix":"custom-icon",size:"14",color:t.batteryInfo.isCharging?"#77CA44":t.theme.color},null,8,["color"])):t.batteryInfo.level>=50&&t.batteryInfo.level<90?(e.openBlock(),e.createBlock(i,{key:3,name:"battery-most","custom-prefix":"custom-icon",size:"14",color:t.batteryInfo.isCharging?"#77CA44":t.theme.color},null,8,["color"])):(e.openBlock(),e.createBlock(i,{key:4,name:"battery-full","custom-prefix":"custom-icon",size:"14",color:t.batteryInfo.isCharging?"#77CA44":t.theme.color},null,8,["color"]))])):e.createCommentVNode("",!0)],4)}},[["__scopeId","data-v-836442cd"]]),va=ve({__name:"catalog-popup",props:{catalogShow:{type:Boolean,default:!1},theme:{type:Object,default:()=>({backgroundColor:"#F6F6F6",color:"#929292",contentColor:"#000"})},currentChapter_n:{type:Number,default:1},chapterNameList:{type:Array,default:()=>[]},chapterNameScrollHeight:{type:Number,default:0}},emits:["changeChapter"],setup(t,{emit:o}){const a=o;return(o,i)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["catalog",t.catalogShow?"show":""]),style:e.normalizeStyle({backgroundColor:t.theme.backgroundColor})},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("scroll-view",{"scroll-into-view":t.chapterNameList.length>0?"chapter_"+t.currentChapter_n:"",style:e.normalizeStyle(`height:${t.chapterNameScrollHeight}px`),class:"scroll-box","scroll-y":!0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.chapterNameList,((o,i)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{return t=o.chapter_n,void a("changeChapter",t);var t},id:"chapter_"+o.chapter_n,class:"item",key:o.id,style:e.normalizeStyle({color:t.currentChapter_n==o.chapter_n?"rgb(41, 121, 255)":t.theme.color})},e.toDisplayString(o.chapter_name.trim()),13,["onClick","id"])))),128))],12,["scroll-into-view"])],6))}},[["__scopeId","data-v-2d302134"]]);const wa=ve({name:"uv-slider",mixins:[_,fe,{props:{value:{type:[Number,String],default:0},modelValue:{type:[Number,String],default:0},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},activeColor:{type:String,default:"#2979ff"},backgroundColor:{type:String,default:"#c0c4cc"},blockSize:{type:[Number,String],default:18},blockColor:{type:String,default:"#ffffff"},disabled:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},...null==(S=null==(w=uni.$uv)?void 0:w.props)?void 0:S.slider}}],computed:{sliderValue(){return this.value||this.modelValue}},methods:{changingHandler(e){const{value:t}=e.detail;this.$emit("input",t),this.$emit("update:modelValue",t),this.$emit("changing",t)},changeHandler(e){const{value:t}=e.detail;this.$emit("input",t),this.$emit("update:modelValue",t),this.$emit("change",t)}}},[["render",function(t,o,a,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:"uv-slider",style:e.normalizeStyle([t.$uv.addStyle(t.customStyle)])},[e.createElementVNode("slider",{min:t.min,max:t.max,step:t.step,value:l.sliderValue,activeColor:t.activeColor,backgroundColor:t.backgroundColor,blockSize:t.$uv.getPx(t.blockSize),blockColor:t.blockColor,showValue:t.showValue,disabled:t.disabled,onChanging:o[0]||(o[0]=(...e)=>l.changingHandler&&l.changingHandler(...e)),onChange:o[1]||(o[1]=(...e)=>l.changeHandler&&l.changeHandler(...e))},null,40,["min","max","step","value","activeColor","backgroundColor","blockSize","blockColor","showValue","disabled"])],4)}]]);const Sa=ve({name:"uv-overlay",emits:["click"],mixins:[_,fe,{props:{show:{type:Boolean,default:!1},zIndex:{type:[String,Number],default:10070},duration:{type:[String,Number],default:300},opacity:{type:[String,Number],default:.5},...null==(b=null==(k=uni.$uv)?void 0:k.props)?void 0:b.overlay}}],watch:{show(e){}},computed:{overlayStyle(){const e={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":`rgba(0, 0, 0, ${this.opacity})`};return this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}},methods:{clickHandler(){this.$emit("click")},clear(){}}},[["render",function(t,o,a,i,n,l){const r=L(e.resolveDynamicComponent("uv-transition"),Io);return e.openBlock(),e.createBlock(r,{show:t.show,mode:"fade","custom-class":"uv-overlay",duration:t.duration,"custom-style":l.overlayStyle,onClick:l.clickHandler,onTouchmove:e.withModifiers(l.clear,["stop","prevent"])},{default:e.withCtx((()=>[e.renderSlot(t.$slots,"default",{},void 0,!0)])),_:3},8,["show","duration","custom-style","onClick","onTouchmove"])}],["__scopeId","data-v-65481522"]]);const ka=ve({name:"uv-status-bar",mixins:[_,fe,{props:{bgColor:{type:String,default:"transparent"}}}],data:()=>({}),computed:{style(){const e={};return e.height=this.$uv.addUnit(this.$uv.sys().statusBarHeight,"px"),this.bgColor&&(this.bgColor.indexOf("gradient")>-1?e.backgroundImage=this.bgColor:e.background=this.bgColor),this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,o,a,i,n,l){return e.openBlock(),e.createElementBlock("view",{style:e.normalizeStyle([l.style]),class:"uv-status-bar"},[e.renderSlot(t.$slots,"default",{},void 0,!0)],4)}],["__scopeId","data-v-c48287dc"]]);const ba=ve({name:"uv-safe-bottom",mixins:[_,fe],data:()=>({safeAreaBottomHeight:0,isNvue:!1}),computed:{style(){return this.$uv.deepMerge({},this.$uv.addStyle(this.customStyle))}},mounted(){}},[["render",function(t,o,a,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uv-safe-bottom",[!n.isNvue&&"uv-safe-area-inset-bottom"]]),style:e.normalizeStyle([l.style])},null,6)}],["__scopeId","data-v-71c4b1ce"]]);const Ta=ve({name:"uv-popup",components:{},mixins:[_,fe],emits:["change","maskClick"],props:{mode:{type:String,default:"center"},duration:{type:[String,Number],default:300},zIndex:{type:[String,Number],default:10075},bgColor:{type:String,default:"#ffffff"},safeArea:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},overlayOpacity:{type:[Number,String],default:.4},overlayStyle:{type:[Object,String],default:""},safeAreaInsetBottom:{type:Boolean,default:!0},safeAreaInsetTop:{type:Boolean,default:!1},closeable:{type:Boolean,default:!1},closeIconPos:{type:String,default:"top-right"},zoom:{type:Boolean,default:!0},round:{type:[Number,String],default:0},...null==(C=null==(T=uni.$uv)?void 0:T.props)?void 0:C.popup},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.mode]](!0)},immediate:!0},showPopup(e){}},data(){return{ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},transitionStyle:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupClass:this.isDesktop?"fixforpc-top":"top",direction:""}},computed:{isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.bgColor||"none"===this.bgColor||this.$uv.getPx(this.round)>0?"transparent":this.bgColor},contentStyle(){const e={};if(this.bgColor&&(e.backgroundColor=this.bg),this.round){const t=this.$uv.addUnit(this.round),o=this.direction?this.direction:this.mode;e.backgroundColor=this.bgColor,"top"===o?(e.borderBottomLeftRadius=t,e.borderBottomRightRadius=t):"bottom"===o?(e.borderTopLeftRadius=t,e.borderTopRightRadius=t):"center"===o&&(e.borderRadius=t)}return this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}},unmounted(){this.setH5Visible()},created(){this.messageChild=null,this.clearPropagation=!1},methods:{setH5Visible(){},closeMask(){this.maskShow=!1},clear(e){e.stopPropagation(),this.clearPropagation=!0},open(e){if(this.showPopup)return;if(e&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(e)?this.direction=e:e=this.mode,!this.config[e])return this.$uv.error(`缺少类型：${e}`);this[this.config[e]](),this.$emit("change",{show:!0,type:e})},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.mode}),clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopup=!1}),300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.closeOnClickOverlay&&this.close())},top(e){this.popupClass=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,right:0,backgroundColor:this.bg},e||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((()=>{this.messageChild&&"message"===this.mode&&this.messageChild.timerClose()})))},bottom(e){this.popupClass="bottom",this.ani=["slide-bottom"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,right:0,bottom:0,backgroundColor:this.bg},e||(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupClass="center",this.ani=this.zoom?["zoom-in","fade"]:["fade"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},e||(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupClass="left",this.ani=["slide-left"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,bottom:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupClass="right",this.ani=["slide-right"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,bottom:0,right:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)}}},[["render",function(t,o,a,i,n,l){const r=L(e.resolveDynamicComponent("uv-overlay"),Sa),s=L(e.resolveDynamicComponent("uv-status-bar"),ka),c=L(e.resolveDynamicComponent("uv-safe-bottom"),ba),h=L(e.resolveDynamicComponent("uv-icon"),we),u=L(e.resolveDynamicComponent("uv-transition"),Io);return n.showPopup?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uv-popup",[n.popupClass,l.isDesktop?"fixforpc-z-index":""]]),style:e.normalizeStyle([{zIndex:a.zIndex}])},[e.createElementVNode("view",{onTouchstart:o[2]||(o[2]=(...e)=>l.touchstart&&l.touchstart(...e))},[n.maskShow&&a.overlay?(e.openBlock(),e.createBlock(r,{key:"1",show:n.showTrans,duration:a.duration,"custom-style":a.overlayStyle,opacity:a.overlayOpacity,zIndex:a.zIndex,onClick:l.onTap},null,8,["show","duration","custom-style","opacity","zIndex","onClick"])):e.createCommentVNode("",!0),e.createVNode(u,{key:"2",mode:n.ani,name:"content","custom-style":n.transitionStyle,duration:a.duration,show:n.showTrans,onClick:l.onTap},{default:e.withCtx((()=>[e.createElementVNode("view",{class:e.normalizeClass(["uv-popup__content",[n.popupClass]]),style:e.normalizeStyle([l.contentStyle]),onClick:o[1]||(o[1]=(...e)=>l.clear&&l.clear(...e))},[a.safeAreaInsetTop?(e.openBlock(),e.createBlock(s,{key:0})):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"default",{},void 0,!0),a.safeAreaInsetBottom?(e.openBlock(),e.createBlock(c,{key:1})):e.createCommentVNode("",!0),a.closeable?(e.openBlock(),e.createElementBlock("view",{key:2,onClick:o[0]||(o[0]=e.withModifiers(((...e)=>l.close&&l.close(...e)),["stop"])),class:e.normalizeClass(["uv-popup__content__close",["uv-popup__content__close--"+a.closeIconPos]]),"hover-class":"uv-popup__content__close--hover","hover-stay-time":"150"},[e.createVNode(h,{name:"close",color:"#909399",size:"18",bold:""})],2)):e.createCommentVNode("",!0)],6)])),_:3},8,["mode","custom-style","duration","show","onClick"])],32)],6)):e.createCommentVNode("",!0)}],["__scopeId","data-v-504e2131"]]);const Ca=ve({name:"uv-modal",mixins:[_,fe,{props:{title:{type:[String],default:""},content:{type:String,default:""},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmColor:{type:String,default:"#2979ff"},cancelColor:{type:String,default:"#606266"},buttonReverse:{type:Boolean,default:!1},zoom:{type:Boolean,default:!0},zIndex:{type:[String,Number],default:10075},asyncClose:{type:Boolean,default:!1},closeOnClickOverlay:{type:Boolean,default:!0},negativeTop:{type:[String,Number],default:0},width:{type:[String,Number],default:"650rpx"},align:{type:String,default:"left"},textStyle:{type:[Object,String],default:""},...null==(x=null==(N=uni.$uv)?void 0:N.props)?void 0:x.modal}}],data:()=>({loading:!1}),computed:{nvueStyle:()=>({})},methods:{open(){this.$refs.modalPopup.open(),this.loading&&(this.loading=!1)},close(){this.$refs.modalPopup.close()},popupChange(e){e.show||this.$emit("close")},confirmHandler(){this.loading||this.$emit("confirm"),this.asyncClose?this.loading=!0:this.close()},cancelHandler(){this.$emit("cancel"),this.close()},closeLoading(){this.$nextTick((()=>{this.loading=!1}))}}},[["render",function(t,o,a,i,n,l){const r=L(e.resolveDynamicComponent("uv-line"),it),s=L(e.resolveDynamicComponent("uv-loading-icon"),rt),c=L(e.resolveDynamicComponent("uv-popup"),Ta);return e.openBlock(),e.createBlock(c,{ref:"modalPopup",mode:"center",zoom:t.zoom,zIndex:t.zIndex,customStyle:{borderRadius:"6px",overflow:"hidden",marginTop:`-${t.$uv.addUnit(t.negativeTop)}`},closeOnClickOverlay:t.closeOnClickOverlay,safeAreaInsetBottom:!1,duration:400,onChange:l.popupChange},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"uv-modal",style:e.normalizeStyle({width:t.$uv.addUnit(t.width)})},[t.title?(e.openBlock(),e.createElementBlock("text",{key:0,class:"uv-modal__title"},e.toDisplayString(t.title),1)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"uv-modal__content",style:e.normalizeStyle({paddingTop:(t.title?12:25)+"px"})},[e.renderSlot(t.$slots,"default",{},(()=>[e.createElementVNode("text",{class:"uv-modal__content__text",style:e.normalizeStyle([{textAlign:t.align},l.nvueStyle,t.$uv.addStyle(t.textStyle)])},e.toDisplayString(t.content),5)]),!0)],4),e.renderSlot(t.$slots,"confirmButton",{},(()=>[e.createVNode(r),t.showConfirmButton||t.showCancelButton?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uv-modal__button-group",style:e.normalizeStyle({flexDirection:t.buttonReverse?"row-reverse":"row"})},[t.showCancelButton?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uv-modal__button-group__wrapper uv-modal__button-group__wrapper--cancel",[t.showCancelButton&&!t.showConfirmButton&&"uv-modal__button-group__wrapper--only-cancel"]]),"hover-stay-time":150,"hover-class":"uv-modal__button-group__wrapper--hover",onClick:o[0]||(o[0]=(...e)=>l.cancelHandler&&l.cancelHandler(...e))},[e.createElementVNode("text",{class:"uv-modal__button-group__wrapper__text",style:e.normalizeStyle({color:t.cancelColor})},e.toDisplayString(t.cancelText),5)],2)):e.createCommentVNode("",!0),t.showConfirmButton&&t.showCancelButton?(e.openBlock(),e.createBlock(r,{key:1,direction:"column"})):e.createCommentVNode("",!0),t.showConfirmButton?(e.openBlock(),e.createElementBlock("view",{key:2,class:e.normalizeClass(["uv-modal__button-group__wrapper uv-modal__button-group__wrapper--confirm",[!t.showCancelButton&&t.showConfirmButton&&"uv-modal__button-group__wrapper--only-confirm"]]),"hover-stay-time":150,"hover-class":"uv-modal__button-group__wrapper--hover",onClick:o[1]||(o[1]=(...e)=>l.confirmHandler&&l.confirmHandler(...e))},[n.loading?(e.openBlock(),e.createBlock(s,{key:0})):(e.openBlock(),e.createElementBlock("text",{key:1,class:"uv-modal__button-group__wrapper__text",style:e.normalizeStyle({color:t.confirmColor})},e.toDisplayString(t.confirmText),5))],2)):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)]),!0)],4)])),_:3},8,["zoom","zIndex","customStyle","closeOnClickOverlay","onChange"])}],["__scopeId","data-v-6a64dca2"]]),Na=ve({__name:"bottom-popup",props:{menuShow:{type:Boolean,default:!1},themeStyle:{type:Object,default:()=>({backgroundColor:"#F6F6F6",color:"#929292",contentColor:"#000"})},chapterNameList:{type:Array,default:()=>[]},currentChapterName:{type:String,default:""},isDarkTheme:{type:Boolean,default:!1},currentChapter_n:{type:Number,default:1},novel_id:{type:Number,required:!0}},emits:["openConfig","handelSliderChange","nextChapter","prevChapter","openChapterContalog","changeDarkOrBright"],setup(t,{emit:o}){const a=Be(),i=e.ref(null),n=o,l=e.ref(!1),r=e.computed((()=>{var e;return(h.value/(null==(e=u.chapterNameList)?void 0:e.length)*100).toFixed(2)})),s=e.ref(!1),c=e.ref(!1),h=e.ref(0),u=t,d=()=>{n("openConfig")},m=e.ref(null),p=e=>{s.value=!0,l.value=!0,m.value&&clearTimeout(m.value),m.value=setTimeout((async()=>{l.value=!1,n("handelSliderChange",h.value)}),300)},g=()=>{n("nextChapter")},f=()=>{n("prevChapter")},y=()=>{n("openChapterContalog")},v=()=>{n("changeDarkOrBright",u.isDarkTheme?"bright":"dark")};e.watch((()=>u.currentChapter_n),(e=>{h.value=e})),e.onMounted((async()=>{const e=await ea(a.state.currentNovelDetail.id);c.value=e}));const w=async()=>{c.value?i.value.open():(await Xo(a.state.currentNovelDetail),c.value=!0)},S=async()=>{await ta(a.state.currentNovelDetail.id),c.value=!1};return(o,a)=>{var n,u;const m=L(e.resolveDynamicComponent("uv-slider"),wa),k=L(e.resolveDynamicComponent("uv-icon"),we),b=L(e.resolveDynamicComponent("uv-modal"),Ca);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:e.normalizeClass(["bottom-menu",t.menuShow?"show":""]),style:e.normalizeStyle({backgroundColor:t.themeStyle.backgroundColor,color:t.themeStyle.contentColor})},[s.value&&l.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"chapter_tip"},[e.createElementVNode("view",null,e.toDisplayString(r.value)+"% ",1),e.createElementVNode("view",{class:"chapter_name"},e.toDisplayString(null==(n=t.chapterNameList[h.value])?void 0:n.chapter_name),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"slide"},[e.createElementVNode("text",{onClick:f},"上一章"),e.createElementVNode("view",{class:"slide-box"},[e.createVNode(m,{modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),"block-size":"25",min:"0",max:(null==(u=t.chapterNameList)?void 0:u.length)-1,onChanging:p,onChange:p},null,8,["modelValue","max"])]),e.createElementVNode("text",{onClick:g},"下一章")]),e.createElementVNode("view",{class:"icon-btn"},[e.createElementVNode("view",{class:"icon-item",onClick:y},[e.createVNode(k,{name:"content","custom-prefix":"custom-icon",size:"20",color:t.themeStyle.contentColor},null,8,["color"]),e.createElementVNode("view",{style:e.normalizeStyle({color:t.themeStyle.contentColor})},"目录",4)]),e.createElementVNode("view",{class:"icon-item",onClick:w},[e.createVNode(k,{name:c.value?"checkmark":"plus",size:"20",color:t.themeStyle.contentColor},null,8,["name","color"]),e.createElementVNode("view",{style:e.normalizeStyle({color:t.themeStyle.contentColor})},e.toDisplayString(c.value?"已加书架":"加入书架"),5)]),e.createElementVNode("view",{class:"icon-item",onClick:v},[e.createVNode(k,{name:t.isDarkTheme?"sun":"moon","custom-prefix":"custom-icon",size:"20",color:t.themeStyle.contentColor},null,8,["name","color"]),e.createElementVNode("view",{style:e.normalizeStyle({color:t.themeStyle.contentColor})},e.toDisplayString(t.isDarkTheme?"日间":"夜间"),5)]),e.createElementVNode("view",{class:"icon-item",onClick:d},[e.createVNode(k,{name:"setting",color:t.themeStyle.contentColor,size:"24"},null,8,["color"]),e.createElementVNode("view",{style:e.normalizeStyle({color:t.themeStyle.contentColor})},"设置",4)])])],6),e.createVNode(b,{style:e.normalizeStyle({backgroundColor:t.themeStyle.backgroundColor,color:t.themeStyle.contentColor}),showCancelButton:"",closeOnClickOverlay:!1,ref_key:"modal",ref:i,content:"确认将本书从书架移除",onConfirm:S,confirmText:"移除"},null,8,["style"])],64)}}},[["__scopeId","data-v-5ee61f43"]]),xa=ve({__name:"config-popup",props:{show:{type:Boolean,default:!1},themeStyle:{type:Object,default:()=>({backgroundColor:"#F6F6F6",color:"#929292",contentColor:"#000"})},fontSize:{type:Number,default:20},themeList:{type:Array,default:()=>[]},currentLineHeight:{type:Number,default:2}},emits:["changeFontSize","changeTheme","setLineHeight"],setup(t,{emit:o}){const a=e.ref([{name:"小",value:2},{name:"较小",value:2.5},{name:"适中",value:3},{name:"大",value:3.5}]),i=o,n=e.ref(0),l=e=>{R("log","at pages/read/components/config-popup.vue:67",e)},r=e=>{i("changeFontSize",e)};e.onMounted((async()=>{}));return(o,s)=>{const c=L(e.resolveDynamicComponent("uv-slider"),wa);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["config",t.show?"show":""]),style:e.normalizeStyle({backgroundColor:t.themeStyle.backgroundColor,color:t.themeStyle.contentColor})},[e.createElementVNode("view",{class:"brightness"},[e.createElementVNode("view",{class:"config-name"},"亮度"),e.createElementVNode("view",{class:"slide-box"},[e.createVNode(c,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=e=>n.value=e),"block-size":"25",min:0,max:100,onChanging:l},null,8,["modelValue"])])]),e.createElementVNode("view",{class:"font"},[e.createElementVNode("view",{class:"config-name"},"字号"),e.createElementVNode("view",{class:"change-font"},[e.createElementVNode("view",{class:"btn",onClick:s[1]||(s[1]=e=>r(0)),style:e.normalizeStyle({backgroundColor:t.themeStyle.configBtnBcg})},"A-",4),e.createElementVNode("view",null,e.toDisplayString(t.fontSize),1),e.createElementVNode("view",{class:"btn",onClick:s[2]||(s[2]=e=>r(1)),style:e.normalizeStyle({backgroundColor:t.themeStyle.configBtnBcg})},"A+",4)])]),e.createElementVNode("view",{class:"background"},[e.createElementVNode("view",{class:"config-name"},"背景"),e.createElementVNode("view",{class:"themes-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.themeList,((o,a)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{return t=o.name,void i("changeTheme",t);var t},class:"theme-item",key:a,style:e.normalizeStyle({backgroundColor:o.backgroundColor,borderColor:t.themeStyle.backgroundColor==o.backgroundColor?t.themeStyle.themeActive:"transparent"})},null,12,["onClick"])))),128))])]),e.createElementVNode("view",{class:"space"},[e.createElementVNode("view",{class:"config-name"},"间距"),e.createElementVNode("view",{class:"btn-group",style:e.normalizeStyle({backgroundColor:t.themeStyle.configBtnBcg})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,((o,a)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{return t=o.value,void i("setLineHeight",t);var t},style:e.normalizeStyle({backgroundColor:t.currentLineHeight==o.value?t.themeStyle.backgroundColor:"transparent"}),class:"btn",key:a},e.toDisplayString(o.name),13,["onClick"])))),128))],4)])],6)}}},[["__scopeId","data-v-e10ba488"]]),{registerUTSInterface:Ba,initUTSProxyClass:Va,initUTSProxyFunction:Ea,initUTSPackageName:Ia,initUTSIndexClassName:_a,initUTSClassName:Ra}=uni,La="uniGetbatteryinfo",za=Ea(!1,{moduleName:"uni-getbatteryinfo",moduleType:"",errMsg:"",main:!0,package:Ia(La,true),class:_a(La,true),name:"getBatteryInfoSyncByJs",keepAlive:!1,params:[],return:""}),Ma=()=>{const e=new Date;let t=e.getHours();t=t>=10?t:"0"+t;let o=e.getMinutes();return o=o>=10?o:"0"+o,`${t}:${o}`},Aa=()=>{const t=Be(),o=e.ref(null);o.value=za();const a=e.ref(Ma()),i=setInterval((()=>{t.commit("updateReadTime"),a.value=Ma(),o.value=za()}),6e4);return e.onUnmounted((()=>{clearInterval(i)})),{currentTime:a,batteryInfo:o}},Da=(e,t)=>{try{const o=e.map((e=>{return o=[e.chapter_name,t,e.chapter_n],Yo.insertChapter(o);var o}));Promise.all(o)}catch(o){R("error","at pages/read/hook/useCache.js:18","插入章节失败:"+error.message)}},Pa=e=>{return t=`select * from chapters where novel_id=${e}`,Yo.select(t);var t},Fa={__name:"read",setup(t){const{catalogShow:o,menuShow:a,maskShow:i,configShow:n,handelShowMenu:l,closeMenu:r,openConfigMenu:s}=(()=>{const t=e.ref(!1),o=e.ref(!1),a=e.ref(!1),i=e.ref(!1);return{catalogShow:t,menuShow:o,maskShow:a,handelShowMenu:async()=>{a.value=!0,o.value=!0},closeMenu:()=>{t.value=!1,o.value=!1,a.value=!1,i.value=!1},configShow:i,openConfigMenu:()=>{o.value=!1,setTimeout((()=>{i.value=!0}),300)}}})(),{currentTime:c,batteryInfo:h}=Aa(),{theme:u,config:d,changeFontSize:m,themeNames:p,setLineHeight:g,changeTheme:f}=(()=>{const t=e.reactive({novel_id:-1,fontSize:uni.getStorageSync("read_fontSize")||20,currentTheme:uni.getStorageSync("read_theme")||"bright",lineHeight:uni.getStorageSync("read_lineHeight")||2,isAddBookShelf:!1}),o=e.reactive({bright:{backgroundColor:"#F6F6F6",color:"#929292",contentColor:"#000",configBtnBcg:"#EEEEEE",themeActive:"#000"},lightBrown:{backgroundColor:"#E8E3CF",color:"#929292",contentColor:"#000",configBtnBcg:"#D9D7C2",themeActive:"#000"},lightGreen:{backgroundColor:"#E4F0D8",color:"#929292",contentColor:"#000",configBtnBcg:"#DCE8D0",themeActive:"#000"},lightBlue:{backgroundColor:"#DAE4EE",color:"#929292",contentColor:"#000",configBtnBcg:"#D3DDE7",themeActive:"#000"},dark:{backgroundColor:"#0E0E0E",color:"#B8B8B8",contentColor:"#B6B6B6",configBtnBcg:"#202020",themeActive:"#888888"}}),a=e.computed((()=>o[t.currentTheme])),i=e.computed((()=>Object.keys(o).map((e=>({name:e,backgroundColor:o[e].backgroundColor})))));return{config:t,theme:a,changeFontSize:e=>{1==e?t.fontSize=t.fontSize+2>=30?30:t.fontSize+2:0==e&&(t.fontSize=t.fontSize-2<=12?12:t.fontSize-2),uni.setStorageSync("read_fontSize",t.fontSize)},themeNames:i,setLineHeight:e=>{t.lineHeight=e,uni.setStorageSync("read_lineHeight",t.lineHeight)},changeTheme:e=>{t.currentTheme=e,uni.setStorageSync("read_theme",t.currentTheme)}}})(),y=e.ref(!0);e.ref(0);const v=e.ref(null),w=e.ref(0),S=e.reactive({chapterList:[],currentIndex:0,chapterNameList:[]}),k=e.computed((()=>S.chapterList[S.currentIndex])),b=e.ref(0);P((async({novel_id:e,chapter_n:t})=>{let o=t;const a=await Jo(e,"novel");0!=a.length&&(o=a[0].chapter_n,w.value=a[0].offsetY),d.novel_id=e;const i=await Fo(d.novel_id,o);S.chapterList=i.data.data}));const T=e.ref(0);e.onMounted((async()=>{plus.navigator.setFullscreen(!0),v.value=e.getCurrentInstance();const t=await ke();b.value=t.screenHeight-t.statusBarHeight,setTimeout((async()=>{S.chapterNameList=await(async e=>{const t=await Pa(e);if(0===t.length){const{data:t}=await Po(e);return Da(t,e),t}return R("log","at pages/read/hook/useCache.js:34","当前章节已经存储在数据库中"),t})(d.novel_id),await N(),y.value=!1}),1e3)})),F((()=>{plus.navigator.setFullscreen(!1),C()}));const C=async()=>{0!=(await Jo(d.novel_id,"novel")).length?await Ko(d.novel_id,k.value.chapter_n,k.value.chapter_name,w.value):await Qo([d.novel_id,w.value,k.value.chapter_n,k.value.chapter_name])};A((async()=>{C()}));const N=async()=>{const e=await at(v.value,".read-bottom"),t=await at(v.value,".read-top"),o=await ke();T.value=o.screenHeight-e.height-t.height-o.statusBarHeight},x=async()=>{if(0==S.currentIndex&&1!=k.value.chapter_n){y.value=!0;const e=k.value.chapter_n-10<0?1:k.value.chapter_n-10,t=k.value.chapter_n-1,o=await Fo(d.novel_id,e);S.chapterList=o.data.data;const a=S.chapterList.findIndex((e=>e.chapter_n==t));S.currentIndex=a,y.value=!1}else 1!=k.value.chapter_n&&(S.currentIndex-=1);e.nextTick((()=>{w.value=0}))},B=async()=>{const t=S.chapterNameList[S.chapterNameList.length-1].chapter_n,o=k.value.chapter_n+1;if(o>t)uni.showToast({icon:"none",title:"已经是最后一章了"});else{if(9==S.currentIndex){y.value=!0;let e=o;k.value.chapter_n+10>=t&&(e=t-10);const a=await Fo(d.novel_id,e);S.chapterList=a.data.data;const i=S.chapterList.findIndex((e=>e.chapter_n==o));S.currentIndex=i,y.value=!1}else S.currentIndex+=1;e.nextTick((()=>{w.value=0}))}},V=()=>{a.value=!1,setTimeout((()=>{o.value=!0}),300)},E=()=>{o.value=!0,i.value=!0},I=async e=>{y.value=!0;const t=await Fo(d.novel_id,e);S.chapterList=t.data.data,S.currentIndex=0,r(),setTimeout((()=>{y.value=!1,w.value=0}),300)},_=async e=>{y.value=!0;const t=await Fo(d.novel_id,e+1);S.chapterList=t.data.data,S.currentIndex=0,w.value=0,y.value=!1},z=e.ref(null),M=e=>{z.value&&clearTimeout(z.value),z.value=setTimeout((()=>{w.value=e.detail.scrollTop}),300)};return(t,v)=>{var C,N,R,z,A,D,P,F;const H=L(e.resolveDynamicComponent("uv-loading-page"),ga);return e.openBlock(),e.createElementBlock("view",{class:"read-page",style:e.normalizeStyle({backgroundColor:e.unref(u).backgroundColor})},[e.unref(i)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"mask",onClick:v[0]||(v[0]=(...t)=>e.unref(r)&&e.unref(r)(...t))})):e.createCommentVNode("",!0),e.createVNode(H,{loading:y.value,bgColor:e.unref(u).backgroundColor,color:e.unref(u).contentColor,loadingColor:e.unref(u).contentColor,"loading-text":"加载中...","font-size":"24rpx"},null,8,["loading","bgColor","color","loadingColor"]),e.createVNode(fa,{chapterName:null==(C=k.value)?void 0:C.chapter_name},null,8,["chapterName"]),S.chapterList.length>0?(e.openBlock(),e.createElementBlock("scroll-view",{key:1,onScroll:M,"scroll-top":w.value,class:"content-contanier",style:e.normalizeStyle({height:T.value+"px"}),"scroll-y":"true"},[e.createElementVNode("view",{class:"content",style:e.normalizeStyle({lineHeight:e.unref(d).lineHeight})},[e.createElementVNode("view",{onClick:v[1]||(v[1]=(...t)=>e.unref(l)&&e.unref(l)(...t)),class:"read-content",style:e.normalizeStyle({color:e.unref(u).contentColor,fontSize:e.unref(d).fontSize+"px"}),innerHTML:null==(N=k.value)?void 0:N.content},null,12,["innerHTML"]),e.createElementVNode("view",{class:"btn-group"},[e.createElementVNode("button",{style:e.normalizeStyle({backgroundColor:e.unref(u).configBtnBcg,color:e.unref(u).contentColor}),onClick:x,disabled:1==(null==(R=k.value)?void 0:R.chapter_n)},"上一章",12,["disabled"]),e.createElementVNode("button",{style:e.normalizeStyle({backgroundColor:e.unref(u).configBtnBcg,color:e.unref(u).contentColor}),onClick:E}," 目录 ",4),e.createElementVNode("button",{style:e.normalizeStyle({backgroundColor:e.unref(u).configBtnBcg,color:e.unref(u).contentColor}),onClick:B,disabled:(null==(z=k.value)?void 0:z.chapter_n)>=(null==(A=S.chapterList[S.chapterList.length-1])?void 0:A.chapter_n)},"下一章",12,["disabled"])])],4)],44,["scroll-top"])):e.createCommentVNode("",!0),e.createVNode(va,{chapterNameScrollHeight:b.value,chapterNameList:S.chapterNameList,catalogShow:e.unref(o),theme:e.unref(u),currentChapter_n:null==(D=k.value)?void 0:D.chapter_n,onChangeChapter:I},null,8,["chapterNameScrollHeight","chapterNameList","catalogShow","theme","currentChapter_n"]),e.createVNode(Na,{novel_id:Number(e.unref(d).novel_id),currentChapter_n:null==(P=k.value)?void 0:P.chapter_n,onOpenConfig:e.unref(s),onOpenChapterContalog:V,onNextChapter:B,onPrevChapter:x,onChangeDarkOrBright:e.unref(f),onHandelSliderChange:_,menuShow:e.unref(a),themeStyle:e.unref(u),isDarkTheme:"dark"==e.unref(d).currentTheme,chapterNameList:S.chapterNameList,currentChapterName:null==(F=k.value)?void 0:F.chapter_name},null,8,["novel_id","currentChapter_n","onOpenConfig","onChangeDarkOrBright","menuShow","themeStyle","isDarkTheme","chapterNameList","currentChapterName"]),e.createVNode(xa,{fontSize:e.unref(d).fontSize,show:e.unref(n),themeStyle:e.unref(u),onChangeFontSize:e.unref(m),themeList:e.unref(p),onChangeTheme:e.unref(f),onSetLineHeight:e.unref(g),currentLineHeight:e.unref(d).lineHeight},null,8,["fontSize","show","themeStyle","onChangeFontSize","themeList","onChangeTheme","onSetLineHeight","currentLineHeight"]),e.createVNode(ya,{theme:e.unref(u),currentTime:e.unref(c),batteryInfo:e.unref(h)},null,8,["theme","currentTime","batteryInfo"])],4)}}},Ha=ve({__name:"row",props:{bookList:{default:Array,default:()=>[]}},emits:["operate"],setup(t,{emit:o}){const a=o;return(o,i)=>{const n=L(e.resolveDynamicComponent("uv-image"),_o),l=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"book-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.bookList,(t=>(e.openBlock(),e.createElementBlock("view",{class:"book-item",key:t.novel_id},[e.createVNode(n,{src:t.cover,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"80",height:"100",mode:"aspectCover"},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"hasRead"},e.toDisplayString(t.hasRead?`读到：${t.hasRead}`:"未读"),1),e.createElementVNode("view",{class:"status"},e.toDisplayString(t.status),1)]),e.createElementVNode("view",{class:"btn"},[e.createVNode(l,{onClick:e=>{a("operate",t)},name:"more","custom-prefix":"custom-icon",size:"20",color:"#989898"},null,8,["onClick"])])])))),128))])}}},[["__scopeId","data-v-717d8001"]]),Oa=ve({__name:"column",props:{bookList:{default:Array,default:()=>[]}},emits:["operate"],setup(t,{emit:o}){const a=o;return(o,i)=>{const n=L(e.resolveDynamicComponent("uv-image"),_o),l=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"book-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.bookList,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"book-item",key:t.novel_id},[e.createElementVNode("view",{class:"cover"},[e.createVNode(n,{src:t.cover,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"100%",height:"160"},null,8,["src"]),e.createElementVNode("view",{class:e.normalizeClass(["finish","完结"==t.status?"":"renew"])},e.toDisplayString(t.status),3)]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"bottom"},[e.createElementVNode("view",{class:"chapter"},e.toDisplayString(t.hasRead?`读到：${t.hasRead}`:"未读"),1),e.createVNode(l,{onClick:e=>{a("operate",t)},name:"more","custom-prefix":"custom-icon",size:"14",color:"#989898"},null,8,["onClick"])])])))),128))])}}},[["__scopeId","data-v-a3935cd7"]]),$a=ve({__name:"modal",props:{title:{default:"hello",type:String},confirmText:{default:"确定",type:String},btnReverse:{default:!1,type:Boolean},closeOnClickOverlay:{default:!1,type:Boolean}},emits:["confirm"],setup(t,{expose:o,emit:a}){const i=e.ref(null),n=a,l=()=>{i.value.close()},r=()=>{i.value.close(),n("confirm")};return o({open:()=>{i.value.open()}}),(o,a)=>{const n=L(e.resolveDynamicComponent("uv-popup"),Ta);return e.openBlock(),e.createBlock(n,{round:10,ref_key:"modal",ref:i,bgColor:"#fff",closeOnClickOverlay:t.closeOnClickOverlay},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"modal",mode:"center"},[e.createElementVNode("view",{class:"content"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:e.normalizeClass(["btn",t.btnReverse?"reverse":""])},[e.createElementVNode("view",{class:"btn-left",onClick:r},e.toDisplayString(t.confirmText),1),e.createElementVNode("view",{class:"btn-right",onClick:l},"取消")],2)])])),_:1},8,["closeOnClickOverlay"])}}},[["__scopeId","data-v-d127018e"]]),ja=ve({__name:"operation",props:{currentBook:{required:!0}},emits:["confirmDelete"],setup(t,{expose:o,emit:a}){const i=e.ref(null),n=e.ref(null),l=e.ref([{icon:"zhiding",custom:!0,size:25,name:"置顶",onTap(){R("log","at pages/bookshelf/components/operation.vue:45","content")}},{icon:"content",custom:!0,size:17,name:"目录",onTap(){R("log","at pages/bookshelf/components/operation.vue:54","content")}},{icon:"download",custom:!1,size:25,name:"下载本书",onTap(){R("log","at pages/bookshelf/components/operation.vue:63","dowload")}},{icon:"reload",custom:!1,size:25,name:"清除缓存",onTap(){R("log","at pages/bookshelf/components/operation.vue:72","reload")}},{icon:"trash",custom:!1,size:25,name:"删除",onTap:()=>{i.value.close(),n.value.open()}}]),r=a,s=()=>{r("confirmDelete")};return o({open:()=>{i.value.open()}}),(o,a)=>{const r=L(e.resolveDynamicComponent("uv-image"),_o),c=L(e.resolveDynamicComponent("uv-icon"),we),h=L(e.resolveDynamicComponent("uv-popup"),Ta);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(h,{safeAreaInsetBottom:!1,round:10,ref_key:"popup",ref:i,mode:"bottom",bgColor:"#F6F7F9"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"handel-box"},[e.createElementVNode("view",{class:"top"},[e.createVNode(r,{src:t.currentBook.cover,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"70",height:"90"},null,8,["src"]),e.createElementVNode("view",{class:"r"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.currentBook.name),1),e.createElementVNode("view",{class:"author"},e.toDisplayString(t.currentBook.author),1)])]),e.createElementVNode("view",{class:"handel-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"handel-item",key:o},[e.createElementVNode("view",{class:"icon"},[t.custom?(e.openBlock(),e.createBlock(c,{key:1,name:t.icon,"custom-prefix":"custom-icon",onClick:t.onTap,size:t.size},null,8,["name","onClick","size"])):(e.openBlock(),e.createBlock(c,{key:0,size:t.size,name:t.icon,onClick:t.onTap},null,8,["size","name","onClick"]))]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1)])))),128))])]),e.createElementVNode("button",{style:{margin:"10rpx"},onClick:a[0]||(a[0]=e=>i.value.close())},"取消")])),_:1},512),e.createVNode($a,{btnReverse:"",ref_key:"modal",ref:n,title:"确认将本书从书架移除",onConfirm:s,confirmText:"移除"},null,512)],64)}}},[["__scopeId","data-v-e0b997d4"]]);function Ua(e){return function(e){return null!=e}(e)?function(e){return/^(-)?\d+(\.\d+)?$/.test(e)}(e=String(e))?`${e}px`:e:null}const Wa=ve(e.defineComponent({name:"l-empty",props:{description:String,imageSize:{type:[String,Number,Array]},image:{type:String,default:"default"}},setup(t){const o=["error","search","default","network","cart","404","message","coupon","comment","express","order","address"],a=e.computed((()=>o.includes(t.image)?"/uni_modules/lime-empty/static/"+t.image+".png":t.image));return{styles:e.computed((()=>{const e={},o=t.imageSize;if(null==o)return e;if(Array.isArray(o)&&o.length>0){const t=Ua(o[0]);return Ua(o[1]),e.width=t,e.height=Ua(o[1]),e}const a=Ua(o);return e.width=a,e})),imageUrl:a}}}),[["render",function(t,o,a,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:"l-empty"},[t.image?(e.openBlock(),e.createElementBlock("image",{key:0,class:"l-empty__image",style:e.normalizeStyle([t.styles]),mode:"widthFix",src:t.imageUrl},null,12,["src"])):e.createCommentVNode("",!0),t.description?(e.openBlock(),e.createElementBlock("text",{key:1,class:"l-empty__description"},e.toDisplayString(t.description),1)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"l-empty__bottom"},[e.renderSlot(t.$slots,"default",{},void 0,!0)])])}],["__scopeId","data-v-12305755"]]),Za=ve({__name:"empty",props:{desc:{default:"",type:String}},emits:["onNoDataBtn"],setup(t,{emit:o}){const a=o,i=()=>{uni.switchTab({url:"/pages/home/index"}),a("onNoDataBtn")};return(o,a)=>{const n=L(e.resolveDynamicComponent("l-empty"),Wa);return e.openBlock(),e.createElementBlock("view",{class:"empty-container"},[e.createVNode(n,{description:t.desc},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"nodata-btn",onClick:i},"去书城逛逛")])),_:1},8,["description"])])}}},[["__scopeId","data-v-bb4d3eb3"]]),Ga=ve({__name:"bookshelf",setup(t){const{currentActiveTabbar:o,pageChange:a,handelTopChange:i}=ra(),n=e.ref(!0),l=e.ref(null);e.ref(null);const r=async()=>{const e=s.value[o.value].key;await ta(m.value.novel_id,e);const t=h[e].findIndex((e=>e.novel_id==m.value.novel_id));h[e].splice(t,1)},s=e.ref([{key:"novel",value:"小说"},{key:"comic",value:"漫画"}]),c=e.computed((()=>s.value.map((e=>e.value)))),h=e.reactive({novel:[],comic:[]});e.ref(0),M((async()=>{const e=await qo(),t=await qo("comic");h.novel=await d(e,"novel"),h.comic=await d(t,"comic")}));const u=e.ref(0);e.onMounted((async()=>{const t=e.getCurrentInstance(),o=await at(t,".header"),a=await ke();u.value=a.windowHeight-o.height}));const d=async(e,t)=>{let o=await Promise.all(e.map((e=>Jo(e.novel_id,t).then((t=>{const o=t.length>0?t[0].chapter_name:null,a=t.length>0?t[0].read_time:0;return{...e,hasRead:o,read_time:a}})))));return o=o.sort(((e,t)=>new Date(e.read_time)-new Date(t.read_time))),o},m=e.ref(null),p=e=>{m.value=e,l.value.open()},g=()=>{n.value=!n.value},f=()=>{uni.navigateTo({url:"/pages/search/search"})},y=()=>{Ao.emit("changeTab",o.value)};return(t,i)=>{const s=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"bookshell-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"action-container"},[e.createElementVNode("view",{class:"class-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>o.value=a,class:e.normalizeClass(["item",e.unref(o)==a?"active":""]),key:a},e.toDisplayString(t),11,["onClick"])))),128))]),e.createElementVNode("view",{class:"btn"},[e.createVNode(s,{onClick:f,size:"60rpx",name:"search",color:"#000"}),e.createVNode(s,{onClick:g,size:"60rpx",name:n.value?"list-dot":"grid",color:"#000"},null,8,["name"])])])]),e.createVNode(ot,{background:"#fff",height:u.value,length:2,current:e.unref(o),onPageChange:e.unref(a)},{default:e.withCtx((()=>[e.createVNode(xo,{refresh:!1,customStyle:{padding:0}},{default:e.withCtx((()=>[0==h.novel.length?(e.openBlock(),e.createBlock(Za,{key:0,onOnNoDataBtn:y,desc:"书架暂无书籍"})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[n.value?(e.openBlock(),e.createBlock(Ha,{key:0,bookList:h.novel,onOperate:p},null,8,["bookList"])):(e.openBlock(),e.createBlock(Oa,{key:1,bookList:h.novel,onOperate:p},null,8,["bookList"]))],64))])),_:1}),e.createVNode(xo,{refresh:!1,customStyle:{padding:0}},{default:e.withCtx((()=>[0==h.comic.length?(e.openBlock(),e.createBlock(Za,{key:0,onOnNoDataBtn:y,desc:"书架暂无书籍"})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[n.value?(e.openBlock(),e.createBlock(Ha,{key:0,bookList:h.comic,onOperate:p},null,8,["bookList"])):(e.openBlock(),e.createBlock(Oa,{key:1,bookList:h.comic,onOperate:p},null,8,["bookList"]))],64))])),_:1})])),_:1},8,["height","current","onPageChange"]),e.createVNode(ja,{ref_key:"popup",ref:l,currentBook:m.value,onConfirmDelete:r},null,8,["currentBook"])])}}},[["__scopeId","data-v-cc48091f"]]),Ya=ve({__name:"classbody",props:{classContainerHeight:{type:Number,default:0},classItemList:{type:Array,default:()=>[]},active:{type:Number,default:0},bookList:{type:Array,default:()=>[]},loadingStatus:{type:String,default:"loading"}},emits:["changeType","scrolltolower","onListLayout"],setup(t,{emit:o}){const a=o,i=Be(),n=e.ref(0),l=t,r=e.getCurrentInstance(),s=e.ref(!0);e.watch((()=>l.bookList),(()=>{e.nextTick((async()=>{const e=await at(r,".book-list");s.value=l.classContainerHeight<e.height}))}));const c=()=>{a("scrolltolower")},h=e.ref(null),u=e=>{h.value&&clearTimeout(h.value),h.value=setTimeout((()=>{n.value=0}),300)};return(o,l)=>{const r=L(e.resolveDynamicComponent("l-empty"),Wa),h=L(e.resolveDynamicComponent("uv-image"),_o),d=L(e.resolveDynamicComponent("uv-load-more"),st);return e.openBlock(),e.createElementBlock("view",{class:"class-container"},[e.createElementVNode("view",{class:"l"},[e.createElementVNode("scroll-view",{"scroll-into-view":"classItem-"+t.active,style:e.normalizeStyle({height:t.classContainerHeight+"px"}),"scroll-y":"true"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.classItemList,((o,i)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>((e,t)=>{n.value=0,a("changeType",{index:e,className:t})})(i,o),id:"classItem-"+i,class:e.normalizeClass(["class-item",i==t.active?"active":""]),key:i},e.toDisplayString(o),11,["onClick","id"])))),128))],12,["scroll-into-view"])]),e.createElementVNode("view",{class:"r",style:e.normalizeStyle({height:t.classContainerHeight+"px"})},[0==t.bookList.length?(e.openBlock(),e.createBlock(tt,{key:0})):(e.openBlock(),e.createElementBlock("scroll-view",{key:1,onScroll:u,onScrolltolower:c,"lower-threshold":300,"scroll-top":n.value,style:e.normalizeStyle({height:t.classContainerHeight+"px"}),"scroll-y":"true"},[0===t.bookList.length?(e.openBlock(),e.createBlock(r,{key:0,description:"没有找到相关内容"})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"book-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.bookList,(t=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{return o=t,i.commit("setCurrentNovelDetail",o),void uni.navigateTo({url:"/pages/nove-detail/index",animationType:"slide-in-right"});var o},class:"book-item",key:t.id},[e.createElementVNode("view",{style:{width:"70px",height:"100px"}},[e.createVNode(h,{src:t.cover,"lazy-load":"",observeLazyLoad:"",fade:"",radius:"5",width:"70",height:"100"},null,8,["src"])]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"author"},e.toDisplayString(t.author),1),e.createElementVNode("view",{class:"intro"},e.toDisplayString(t.intro),1)])],8,["onClick"])))),128))]),s.value?(e.openBlock(),e.createElementBlock("view",{key:0,style:{padding:"10rpx 0"}},[e.createVNode(d,{status:t.loadingStatus,loadingText:"努力加载中",nomoreText:"实在没有了"},null,8,["status"])])):e.createCommentVNode("",!0)],64))],44,["scroll-top"]))],4)])}}},[["__scopeId","data-v-48b617e0"]]),Qa=ve({__name:"class",setup(t){const{tabBarList:o,currentPage:a,currentActiveTabbar:i,pageChange:n,handelTopChange:l,pageList:r}=ra(),s=e.getCurrentInstance(),c=e.ref(0),h=e.reactive({novel:{classItemList:[],active:0,bookList:[]},comic:{classItemList:[],active:0,bookList:[]}});e.watch(a,(async e=>{e.hasShown||("comic"==e.name&&await p(),r.value[i.value]={...e,hasShown:!0})}));const u=e.computed((()=>{var e;return null==(e=h.novel.bookList[h.novel.active])?void 0:e.list})),d=e.computed((()=>{var e;return null==(e=h.comic.bookList[h.comic.active])?void 0:e.list})),m=e.computed((()=>{var e;const t=a.value.name,o=h[t].active;return null==(e=h[t].bookList[o])?void 0:e.loadingStadus}));e.onMounted((async()=>{const e=await ke(),t=await at(s,".header");c.value=e.windowHeight-t.height,await p()}));const p=async()=>{let e,t;const o=a.value.name;"novel"==o?(e=await Do("/novel/class"),t=await Oo(e.data.data[0],10,0)):"comic"==o&&(e=await Do("/comic/class"),t=await Go(e.data.data[0],10,0)),h[o].classItemList=e.data.data,h[o].bookList[h[o].active]={size:10,offset:0,loadingStadus:"loading",list:t.data.data.map((e=>({...e,type:o})))}},g=async({index:e,className:t})=>{const o=a.value.name;if(h[o].active=e,h[o].bookList[e])return;let i;"novel"==o?i=await Oo(t,10,0):"comic"==o&&(i=await Go(t,10,0)),h[o].bookList[e]={size:10,offset:0,loadingStadus:"loading",list:i.data.data.map((e=>({...e,type:o})))}},f=async()=>{if("nomore"==m.value)return;const e=a.value.name,t=h[e].active,o=h[e].classItemList[t];let i;h[e].bookList[t].offset+=h[e].bookList[t].size,"novel"==e?i=await Oo(o,10,h[e].bookList[t].offset):"comic"==e&&(i=await Go(o,10,h[e].bookList[t].offset)),0!==i.data.data.length?h[e].bookList[t].list=[...h[e].bookList[t].list,...i.data.data]:h[e].bookList[t].loadingStadus="nomore"},y=()=>{uni.navigateTo({url:"/pages/search/search"})};return(t,l)=>{const r=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"class-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"action-container"},[e.createElementVNode("view",{class:"class-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o),((t,o)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>i.value=o,class:e.normalizeClass(["item",e.unref(i)==o?"active":""]),key:o},e.toDisplayString(t),11,["onClick"])))),128))]),e.createElementVNode("view",{class:"btn"},[e.createVNode(r,{onClick:y,size:"60rpx",name:"search",color:"#000"})])])]),e.createVNode(ot,{height:c.value,length:e.unref(o).length,pageName:e.unref(a).name,current:e.unref(i),onPageChange:e.unref(n)},{default:e.withCtx((()=>[e.createVNode(xo,{refresh:!1,customStyle:{padding:0}},{default:e.withCtx((()=>[e.createVNode(Ya,{onScrolltolower:f,onChangeType:g,classContainerHeight:c.value,classItemList:h.novel.classItemList,active:h.novel.active,bookList:u.value,loadingStatus:m.value},null,8,["classContainerHeight","classItemList","active","bookList","loadingStatus"])])),_:1}),e.createVNode(xo,{refresh:!1,customStyle:{padding:0}},{default:e.withCtx((()=>[e.createVNode(Ya,{onScrolltolower:f,onChangeType:g,classContainerHeight:c.value,classItemList:h.comic.classItemList,active:h.comic.active,bookList:d.value,loadingStatus:m.value},null,8,["classContainerHeight","classItemList","active","bookList","loadingStatus"])])),_:1})])),_:1},8,["height","length","pageName","current","onPageChange"])])}}},[["__scopeId","data-v-2b4fbd89"]]),Ja=ve({__name:"user",setup(t){const o=Be(),a=e.reactive({collectionCount:0,browseCount:0});M((async()=>{const[{collections:e}]=await Yo.select("select count(*) as 'collections' from bookshell");a.collectionCount=e;const[{browseCount:t}]=await Yo.select("select count(*) as 'browseCount' from history");a.browseCount=t}));const i=()=>{uni.share({provider:"weixin",scene:"WXSceneSession",type:1,summary:"我正在使用HBuilderX开发uni-app，赶紧跟我一起来体验！",success:function(e){R("log","at pages/user/user.vue:113","success:"+JSON.stringify(e))},fail:function(e){R("log","at pages/user/user.vue:116","fail:"+JSON.stringify(e))}})},n=()=>{uni.navigateTo({url:"/pages/history/history"})};return(t,l)=>{const r=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"user-contanier"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"login-contanier"},[e.createElementVNode("image",{src:"/static/logo.png",mode:"",class:"headImg"}),e.createElementVNode("view",{class:"userInfo"},[e.createElementVNode("view",{class:"user-name"},"登录/注册"),e.createElementVNode("view",{class:"edit-info"},"编辑资料")])])]),e.createElementVNode("view",{class:"readInfo"},[e.createElementVNode("view",{class:"readInfo-item"},[e.createElementVNode("view",{class:"t"},[e.createTextVNode(e.toDisplayString(a.collectionCount)+" ",1),e.createElementVNode("text",{class:"small-font"},"个")]),e.createElementVNode("view",{class:"b"},"我的收藏")]),e.createElementVNode("view",{class:"readInfo-item"},[e.createElementVNode("view",{class:"t"},[e.createTextVNode(e.toDisplayString(e.unref(o).state.readTime)+" ",1),e.createElementVNode("text",{class:"small-font"},"分钟")]),e.createElementVNode("view",{class:"b"},"阅读时长")]),e.createElementVNode("view",{class:"readInfo-item"},[e.createElementVNode("view",{class:"t"},[e.createTextVNode("3"),e.createElementVNode("text",{class:"small-font"},"个")]),e.createElementVNode("view",{class:"b"},"我的评论")]),e.createElementVNode("view",{class:"readInfo-item"},[e.createElementVNode("view",{class:"t"},[e.createTextVNode(e.toDisplayString(a.browseCount)+" ",1),e.createElementVNode("text",{class:"small-font"},"个")]),e.createElementVNode("view",{class:"b"},"浏览历史")])]),e.createElementVNode("view",{class:"config-list"},[e.createElementVNode("view",{class:"title"},"常用功能"),e.createElementVNode("view",{class:"inner-box"},[e.createElementVNode("view",{class:"config-list-item"},[e.createVNode(r,{name:"download",size:"26"}),e.createElementVNode("view",{class:"txt"},"我的下载")]),e.createElementVNode("view",{onClick:n,class:"config-list-item"},[e.createVNode(r,{name:"history","custom-prefix":"custom-icon",size:"30"}),e.createElementVNode("view",{class:"txt"},"浏览历史")]),e.createElementVNode("view",{class:"config-list-item",onClick:i},[e.createVNode(r,{name:"share",size:"26"}),e.createElementVNode("view",{class:"txt"},"分享应用")]),e.createElementVNode("view",{class:"config-list-item"},[e.createVNode(r,{name:"info-circle",size:"26"}),e.createElementVNode("view",{class:"txt"},"关于我们")]),e.createElementVNode("view",{class:"config-list-item"},[e.createVNode(r,{name:"clear","custom-prefix":"custom-icon",size:"26"}),e.createElementVNode("view",{class:"txt"},"清除缓存")]),e.createElementVNode("view",{class:"config-list-item"},[e.createVNode(r,{name:"setting",size:"26"}),e.createElementVNode("view",{class:"txt"},"设置")])])])])}}},[["__scopeId","data-v-83bbe554"]]);const Ka=ve({name:"uv-search",emits:["click","input","change","clear","search","custom","focus","blur","clickIcon","update:modelValue"],mixins:[_,fe,{props:{value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},shape:{type:String,default:"round"},bgColor:{type:String,default:"#f2f2f2"},placeholder:{type:String,default:"请输入关键字"},clearabled:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},showAction:{type:Boolean,default:!0},actionStyle:{type:Object,default:()=>({})},actionText:{type:String,default:"搜索"},inputAlign:{type:String,default:"left"},inputStyle:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},borderColor:{type:String,default:"transparent"},searchIconColor:{type:String,default:"#909399"},color:{type:String,default:"#606266"},placeholderColor:{type:String,default:"#909399"},searchIcon:{type:String,default:"search"},searchIconSize:{type:[Number,String],default:22},margin:{type:String,default:"0"},animation:{type:Boolean,default:!1},maxlength:{type:[String,Number],default:-1},height:{type:[String,Number],default:32},label:{type:[String,Number,null],default:null},boxStyle:{type:[String,Object],default:()=>({})},...null==(V=null==(B=uni.$uv)?void 0:B.props)?void 0:V.search}}],data(){return{keyword:"",showClear:!1,show:!1,focused:this.focus}},created(){this.keyword=this.modelValue},watch:{value(e){this.keyword=e},modelValue(e){this.keyword=e}},computed:{showActionBtn(){return!this.animation&&this.showAction}},methods:{keywordChange(){this.$emit("input",this.keyword),this.$emit("update:modelValue",this.keyword),this.$emit("change",this.keyword)},inputChange(e){this.keyword=e.detail.value,this.keywordChange()},clear(){this.keyword="",this.$nextTick((()=>{this.$emit("clear")})),this.keywordChange()},search(e){this.$emit("search",e.detail.value);try{uni.hideKeyboard()}catch(t){}},custom(){this.$emit("custom",this.keyword);try{uni.hideKeyboard()}catch(e){}},getFocus(){this.focused=!0,this.animation&&this.showAction&&(this.show=!0),this.$emit("focus",this.keyword)},blur(){setTimeout((()=>{this.focused=!1}),100),this.show=!1,this.$emit("blur",this.keyword)},clickHandler(){this.disabled&&this.$emit("click")},clickIcon(){this.$emit("clickIcon")}}},[["render",function(t,o,a,i,n,l){const r=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"uv-search",onClick:o[6]||(o[6]=(...e)=>l.clickHandler&&l.clickHandler(...e)),style:e.normalizeStyle([{margin:t.margin},t.$uv.addStyle(t.customStyle)])},[e.createElementVNode("view",{class:"uv-search__content",style:e.normalizeStyle([{backgroundColor:t.bgColor,borderRadius:"round"==t.shape?"100px":"4px",borderColor:t.borderColor},t.$uv.addStyle(t.boxStyle)])},[t.disabled?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uv-search__content__disabled"})):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"prefix",{},(()=>[e.createElementVNode("view",{class:"uv-search__content__icon"},[e.createVNode(r,{onClick:l.clickIcon,size:t.searchIconSize,name:t.searchIcon,color:t.searchIconColor?t.searchIconColor:t.color},null,8,["onClick","size","name","color"])])]),!0),e.createElementVNode("input",{"confirm-type":"search",onBlur:o[0]||(o[0]=(...e)=>l.blur&&l.blur(...e)),value:n.keyword,onConfirm:o[1]||(o[1]=(...e)=>l.search&&l.search(...e)),onInput:o[2]||(o[2]=(...e)=>l.inputChange&&l.inputChange(...e)),disabled:t.disabled,onFocus:o[3]||(o[3]=(...e)=>l.getFocus&&l.getFocus(...e)),focus:t.focus,maxlength:t.maxlength,"placeholder-class":"uv-search__content__input--placeholder",placeholder:t.placeholder,"placeholder-style":`color: ${t.placeholderColor}`,class:"uv-search__content__input",type:"text",style:e.normalizeStyle([{textAlign:t.inputAlign,color:t.color,backgroundColor:t.bgColor,height:t.$uv.addUnit(t.height)},t.inputStyle])},null,44,["value","disabled","focus","maxlength","placeholder","placeholder-style"]),n.keyword&&t.clearabled&&n.focused?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uv-search__content__icon uv-search__content__close",onClick:o[4]||(o[4]=(...e)=>l.clear&&l.clear(...e))},[e.createVNode(r,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})])):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"suffix",{},void 0,!0)],4),e.createElementVNode("text",{style:e.normalizeStyle([t.actionStyle]),class:e.normalizeClass(["uv-search__action",[(l.showActionBtn||n.show)&&"uv-search__action--active"]]),onClick:o[5]||(o[5]=e.withModifiers(((...e)=>l.custom&&l.custom(...e)),["stop","prevent"]))},e.toDisplayString(t.actionText),7)],4)}],["__scopeId","data-v-e3a99171"]]),Xa=ve({__name:"default",props:{hotSearchList:{type:Array,default:()=>[]},historyList:{type:Array,default:()=>[]}},emits:["clearHistory","handelSearch"],setup(t,{emit:o}){const a=Be(),i=e.ref(null),n=e.ref(!0),l=o,r=()=>{n.value=!0,l("clearHistory")};return(o,s)=>{const c=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock(e.Fragment,null,[t.historyList.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"area"},[e.createElementVNode("view",{class:"area-top"},[e.createElementVNode("view",{class:"l"}," 搜索历史 "),e.createElementVNode("view",{class:"r"},[t.historyList.length>3?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"btn",onClick:s[0]||(s[0]=e=>n.value=!n.value)},[e.createTextVNode(e.toDisplayString(n.value?"展开":"收起")+" ",1),e.createVNode(c,{name:n.value?"arrow-down":"arrow-up",color:"#989898",size:"12"},null,8,["name"])]),e.createElementVNode("view",{class:"btn"},"|")],64)):e.createCommentVNode("",!0),e.createVNode(c,{name:"trash",onClick:s[1]||(s[1]=e=>i.value.open()),color:"#989898",size:"20"})])]),e.createElementVNode("view",{class:e.normalizeClass(["list",n.value?"fold":"unfold"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.historyList,((t,o)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{l("handelSearch",t)},class:"list-item",key:o},e.toDisplayString(t),9,["onClick"])))),128))],2)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"area"},[e.createElementVNode("view",{class:"area-top"},[e.createElementVNode("view",{class:"l"}," 热门搜索 ")]),e.createElementVNode("view",{class:e.normalizeClass(["list","unfold"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.hotSearchList,((t,o)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>{return o=t,a.commit("setCurrentNovelDetail",o),void uni.navigateTo({url:"/pages/nove-detail/index",animationType:"slide-in-right"});var o},class:"list-item",key:t.id},e.toDisplayString(t.name),9,["onClick"])))),128))])]),e.createVNode($a,{ref_key:"clearModal",ref:i,title:"历史记录清除后无法恢复,是否清除全部历史记录",onConfirm:r,confirmText:"确认"},null,512)],64)}}},[["__scopeId","data-v-e06ce960"]]),qa=(e,t)=>e.replace(new RegExp(t,"gi"),(e=>`<text style="color:#D4AB63">${e}</text>`)),ei=ve({__name:"result",props:{keyword:{type:String,default:""},scrollHeight:{type:Number,default:0}},setup(t){const{currentActiveTabbar:o,pageChange:a,handelTopChange:i,tabBarList:n,pageList:l,currentPage:r}=ra(),s=e.reactive({novel:{size:10,offset:0,list:[],listHeight:0,loadingParam:{status:"loading",loadingText:"努力加载中",loadmoreText:"轻轻上拉",nomoreText:"实在没有了"}},comic:{size:10,offset:0,list:[],listHeight:0,loadingParam:{status:"loading",loadingText:"努力加载中",loadmoreText:"轻轻上拉",nomoreText:"实在没有了"}}}),c=e.ref(0);e.watch(r,(async e=>{if(!e.hasShown){if("comic"==e.name){const t=await Zo(h.keyword,0,10);s[e.name].list=t.data.data.map((e=>({...e,name:qa(e.name,h.keyword),type:"comic"})))}l.value[o.value]={...e,hasShown:!0}}}));const h=t;e.onMounted((async()=>{await(async()=>{const t=e.getCurrentInstance(),o=await at(t,"#top_bar");c.value=h.scrollHeight-o.height+10})(),await u()}));const u=async()=>{const e=r.value.name;if("nomore"==s[e].loadingParam.status)return;let t=null;"novel"==e?t=await((e,t,o,a=10)=>Do(`/novel/search?novel_name=${e}&author=${t}&offset=${o}&size=${a}`))(h.keyword,h.keyword,s[e].offset,s[e].size):"novel"==e&&(t=await Zo());const o=t.data.data.map((t=>({...t,name:qa(t.name,h.keyword),type:e})));0==o.length&&(s[e].loadingParam.status="nomore"),s[e].list=[...s[e].list,...o]},d=e=>{s.novel.listHeight=e.height},m=e=>{s.comic.listHeight=e.height};return(t,l)=>{const r=L(e.resolveDynamicComponent("l-empty"),Wa),h=L(e.resolveDynamicComponent("uv-load-more"),st);return e.openBlock(),e.createElementBlock("view",{class:"search-result-page"},[e.createElementVNode("view",{id:"top"},[e.createVNode(Se,{tabBarList:e.unref(n),value:e.unref(o),onChange:e.unref(i),id:"top_bar"},null,8,["tabBarList","value","onChange"])]),e.createVNode(ot,{background:"#fff",height:c.value,length:2,current:e.unref(o),onPageChange:e.unref(a)},{default:e.withCtx((()=>[e.createVNode(xo,{refresh:!1,onOnScrollToLower:u},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"result-container"},[0==s.novel.list.length?(e.openBlock(),e.createBlock(r,{key:0,description:"没有找到相关内容"})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(Lo,{novelList:s.novel.list,onOnLayout:d},null,8,["novelList"]),s.novel.listHeight>c.value?(e.openBlock(),e.createBlock(h,{key:0,status:s.novel.loadingParam.status,"loading-text":s.novel.loadingParam.loadingText,"loadmore-text":s.novel.loadingParam.loadmoreText,"nomore-text":s.novel.loadingParam.nomoreText},null,8,["status","loading-text","loadmore-text","nomore-text"])):e.createCommentVNode("",!0)],64))])])),_:1}),e.createVNode(xo,{refresh:!1},{default:e.withCtx((()=>[0==s.comic.list.length?(e.openBlock(),e.createBlock(r,{key:0,description:"没有找到相关内容"})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(Lo,{novelList:s.comic.list,onOnLayout:m},null,8,["novelList"]),s.comic.listHeight>c.value?(e.openBlock(),e.createBlock(h,{key:0,status:s.comic.loadingParam.status,"loading-text":s.comic.loadingParam.loadingText,"loadmore-text":s.comic.loadingParam.loadmoreText,"nomore-text":s.comic.loadingParam.nomoreText},null,8,["status","loading-text","loadmore-text","nomore-text"])):e.createCommentVNode("",!0)],64))])),_:1})])),_:1},8,["height","current","onPageChange"])])}}},[["__scopeId","data-v-b31bfd9a"]]),ti=ve({__name:"search",setup(t){const{searchHistoryList:o,addSearchHistory:a,clearHistory:i}=(()=>{const t=e.ref(uni.getStorageSync("searchHistoryList")||[]);return{searchHistoryList:t,addSearchHistory:e=>{t.value=Array.from(new Set([e,...t.value.slice(0,10)])),uni.setStorageSync("searchHistoryList",t.value)},clearHistory:()=>{t.value=[],uni.setStorageSync("searchHistoryList",[])}}})(),n=e.ref(""),l=e.ref(""),r=e.ref(0),s=e.ref(!1);P((async({novel_name:e=""})=>{n.value=e;const t=await Ho();c.value=t.data.data})),e.onMounted((async()=>{const t=e.getCurrentInstance(),o=await ke(),a=await at(t,".search-box");r.value=o.windowHeight-a.height-10})),H((e=>{if(s.value)return s.value=!1,l.value="",d.value=[],!0}));const c=e.ref([]),h=e.computed((()=>0==l.value.length&&""==l.value.trim())),u=e=>{if(0==e.length&&""==e.trim()){if(0==n.value.length&&""==n.value.trim())return;l.value=e,a(n.value)}else{const t=(e=>e.replace(/<[^>]+>/g,""))(e);l.value=t,a(t)}s.value=!0},d=e.ref([]),m=async()=>{s.value=!1;const e=await(t=l.value,l.value,Do(`/book/search?keyword=${t}`));var t;d.value=e.data.data.map((e=>({...e,name:qa(e.name,l.value)})))};return(t,a)=>{const p=L(e.resolveDynamicComponent("uv-search"),Ka),g=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"search-page"},[e.createElementVNode("view",{class:"search-box"},[e.createElementVNode("view",{class:"status-bar"}),e.createVNode(p,{onChange:m,height:"38",clearabled:"",onCustom:u,onSearch:u,focus:"",placeholder:n.value,modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e)},null,8,["placeholder","modelValue"])]),d.value.length>0&&!h.value&&!s.value?(e.openBlock(),e.createElementBlock("scroll-view",{key:0,"scroll-y":!0,class:"search-result",style:e.normalizeStyle({height:r.value+"px"})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,(t=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>u(t.name),class:"search-item",key:t.id},[e.createVNode(g,{size:"22",name:"search",color:"#ccc"}),e.createElementVNode("view",{class:"name",innerHTML:t.name},null,8,["innerHTML"]),e.createElementVNode("view",{class:"type"},e.toDisplayString(t.type),1)],8,["onClick"])))),128))],4)):e.createCommentVNode("",!0),!s.value&&0==d.value.length||h.value?(e.openBlock(),e.createBlock(Xa,{key:1,onHandelSearch:u,onClearHistory:e.unref(i),hotSearchList:c.value,historyList:e.unref(o)},null,8,["onClearHistory","hotSearchList","historyList"])):e.createCommentVNode("",!0),s.value?(e.openBlock(),e.createBlock(ei,{key:2,keyword:h.value?n.value:l.value,scrollHeight:r.value},null,8,["keyword","scrollHeight"])):e.createCommentVNode("",!0)])}}},[["__scopeId","data-v-a73b3802"]]),oi=ve({__name:"comic-image",props:{imgInfo:{required:!0,type:Object},isLazyLoad:{type:Boolean,default:!0}},emits:["intoView"],setup(t,{emit:o}){const a=t;e.ref(null);const i=e.getCurrentInstance(),n=o;let l;const r=e.reactive({show:!1,loaded:!1,loadError:!1,loading:!0});e.onMounted((()=>{a.isLazyLoad&&(l=uni.createIntersectionObserver(i),l.relativeToViewport({bottom:500}).observe(".comic-image",(e=>{e.intersectionRatio>0&&a.isLazyLoad&&(r.show=!0,n("intoView",{imgNum:a.imgInfo.pageNum}))})))}));const s=()=>{r.loaded=!0},c=()=>{r.loadError=!0},h=()=>{r.loadError=!1};return(o,a)=>(e.openBlock(),e.createElementBlock("view",{class:"comic-image-container"},[e.createElementVNode("view",{class:"comic-image",style:e.normalizeStyle({height:t.imgInfo.height+"px",width:t.imgInfo.width+"px"})},[r.show&&!r.loadError?(e.openBlock(),e.createElementBlock("image",{key:0,draggable:!1,onLoad:s,onError:c,class:"img",src:t.imgInfo.url,"lazy-load":t.isLazyLoad,style:e.normalizeStyle({opacity:r.loaded?1:0}),mode:"widthFix"},null,44,["src","lazy-load"])):e.createCommentVNode("",!0),r.loaded||r.loadError?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"loading"},e.toDisplayString(t.imgInfo.pageNum),1)),r.loadError?(e.openBlock(),e.createElementBlock("view",{key:2,onClick:h,class:"load-error"},[e.createTextVNode(" 加载失败 "),e.createElementVNode("br"),e.createTextVNode(" 请点击重试 ")])):e.createCommentVNode("",!0)],4)]))}},[["__scopeId","data-v-1a3d7c36"]]),ai={__name:"comic-chapter",props:{chapter:{type:Object,default:()=>{}},id:{required:!0}},emits:["changeChapterInfo"],setup(t,{emit:o}){const a=t,i=o;e.ref(null);const n=({imgNum:e})=>{i("changeChapterInfo",{chapter_name:a.chapter.chapter_name,chapter_n:a.chapter.chapter_n,curentImgNum:e,totalImage:a.chapter.imgUrlList.length})};return(o,a)=>(e.openBlock(),e.createElementBlock("view",{class:"comic-chapter-content"},[e.createElementVNode("view",{class:"image-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.chapter.imgUrlList,((t,o)=>(e.openBlock(),e.createBlock(oi,{onIntoView:n,key:o,imgInfo:t},null,8,["imgInfo"])))),128))])]))}},ii=ve({__name:"time",props:{zIndex:{default:0,type:Number},chapterImageInfo:{type:Object,default:()=>({curentImgNum:1,totalImage:1})}},setup(t){const{currentTime:o,batteryInfo:a}=Aa();return(i,n)=>{const l=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"right-bottom",style:e.normalizeStyle({zIndex:t.zIndex})},[e.createElementVNode("view",null,e.toDisplayString(t.chapterImageInfo.curentImgNum)+"/"+e.toDisplayString(t.chapterImageInfo.totalImage),1),e.createElementVNode("view",{class:"time"},[e.createTextVNode(e.toDisplayString(e.unref(o))+" ",1),e.unref(a).level<=10?(e.openBlock(),e.createBlock(l,{key:0,name:"battery-empty","custom-prefix":"custom-icon",size:"14",color:"#fff"})):e.createCommentVNode("",!0),e.unref(a).level<=10?(e.openBlock(),e.createBlock(l,{key:1,name:"battery-empty","custom-prefix":"custom-icon",size:"14",color:e.unref(a).isCharging?"#77CA44":"#fff"},null,8,["color"])):e.unref(a).level>10&&e.unref(a).level<30?(e.openBlock(),e.createBlock(l,{key:2,name:"battery-low","custom-prefix":"custom-icon",size:"14",color:e.unref(a).isCharging?"#77CA44":"#fff"},null,8,["color"])):e.unref(a).level>=30&&e.unref(a).level<50?(e.openBlock(),e.createBlock(l,{key:3,name:"battery-mid","custom-prefix":"custom-icon",size:"14",color:e.unref(a).isCharging?"#77CA44":"#fff"},null,8,["color"])):e.unref(a).level>=50&&e.unref(a).level<90?(e.openBlock(),e.createBlock(l,{key:4,name:"battery-most","custom-prefix":"custom-icon",size:"14",color:e.unref(a).isCharging?"#77CA44":"#fff"},null,8,["color"])):(e.openBlock(),e.createBlock(l,{key:5,name:"battery-full","custom-prefix":"custom-icon",size:"14",color:e.unref(a).isCharging?"#77CA44":"#fff"},null,8,["color"]))])],4)}}},[["__scopeId","data-v-71391ea6"]]);const ni=ve({name:"uv-switch",mixins:[_,fe,{props:{value:{type:[Boolean,String,Number],default:!1},modelValue:{type:[Boolean,String,Number],default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:[String,Number],default:25},activeColor:{type:String,default:"#2979ff"},inactiveColor:{type:String,default:"#fff"},activeValue:{type:[String,Number,Boolean],default:!0},inactiveValue:{type:[String,Number,Boolean],default:!1},asyncChange:{type:Boolean,default:!1},space:{type:[String,Number],default:0},...null==(I=null==(E=uni.$uv)?void 0:E.props)?void 0:I.switch}}],data:()=>({bgColor:"#ffffff",innerValue:!1}),watch:{modelValue:{immediate:!0,handler(e){if(e!==this.inactiveValue&&e!==this.activeValue)return this.$uv.error("v-model绑定的值必须为inactiveValue、activeValue二者之一");this.innerValue=e}}},created(){this.innerValue=this.value||this.modelValue},computed:{isActive(){return this.innerValue===this.activeValue},switchStyle(){let e={};return e.width=this.$uv.addUnit(2*this.$uv.getPx(this.size)+2),e.height=this.$uv.addUnit(this.$uv.getPx(this.size)+2),this.customInactiveColor&&(e.borderColor="rgba(0, 0, 0, 0)"),e.backgroundColor=this.isActive?this.activeColor:this.inactiveColor,e},nodeStyle(){let e={};e.width=this.$uv.addUnit(this.$uv.getPx(this.size)-this.space),e.height=this.$uv.addUnit(this.$uv.getPx(this.size)-this.space);const t=this.isActive?this.$uv.addUnit(this.space):this.$uv.addUnit(this.$uv.getPx(this.size));return e.transform=`translateX(-${t})`,e},bgStyle(){let e={};return e.width=this.$uv.addUnit(2*this.$uv.getPx(this.size)-this.$uv.getPx(this.size)/2),e.height=this.$uv.addUnit(this.$uv.getPx(this.size)),e.backgroundColor=this.inactiveColor,e.transform=`scale(${this.isActive?0:1})`,e},customInactiveColor(){return"#fff"!==this.inactiveColor&&"#ffffff"!==this.inactiveColor}},methods:{clickHandler(){if(!this.disabled&&!this.loading){const e=this.isActive?this.inactiveValue:this.activeValue;this.asyncChange||(this.$emit("input",e),this.$emit("update:modelValue",e)),this.$nextTick((()=>{this.$emit("change",e)}))}}}},[["render",function(t,o,a,i,n,l){const r=L(e.resolveDynamicComponent("uv-loading-icon"),rt);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uv-switch",[t.disabled&&"uv-switch--disabled"]]),style:e.normalizeStyle([l.switchStyle,t.$uv.addStyle(t.customStyle)]),onClick:o[0]||(o[0]=(...e)=>l.clickHandler&&l.clickHandler(...e))},[e.createElementVNode("view",{class:"uv-switch__bg",style:e.normalizeStyle([l.bgStyle])},null,4),e.createElementVNode("view",{class:e.normalizeClass(["uv-switch__node",[n.innerValue&&"uv-switch__node--on"]]),style:e.normalizeStyle([l.nodeStyle]),ref:"uv-switch__node"},[e.createVNode(r,{show:t.loading,mode:"circle",timingFunction:"linear",color:n.innerValue?t.activeColor:"#AAABAD",size:.6*t.size},null,8,["show","color","size"])],6)],6)}],["__scopeId","data-v-29115cf0"]]),li=ve({__name:"comic-menu",props:{title:{default:"",type:String},chapterList:{default:()=>[],type:Array},currentChapter_n:{default:1,type:Number}},emits:["changeChapter","reverseChapter"],setup(t,{expose:o,emit:a}){const i=e.ref(null),{addBookShell:n,isAdd:l,confirmRemove:r}=(t=>{const o=Be(),a=e.ref(!1);return e.onMounted((async()=>{a.value=await ea(o.state.currentNovelDetail.id,"comic")})),{addBookShell:async()=>{a.value?t.value.open():(await Xo({...o.state.currentNovelDetail,type:"comic"}),a.value=!0)},isAdd:a,confirmRemove:async()=>{await ta(o.state.currentNovelDetail.id,"comic"),a.value=!1}}})(i),s=e.ref(null),c=e.ref(null),h=e.ref(!1),u=e.ref(null),d=e.computed((()=>k.value>40)),m=e.ref(!1);let p=!1;const g=a,f=t,y=()=>{p?(s.value.close(),c.value.close()):(s.value.open(),c.value.open())},v=()=>{uni.navigateBack()},w=()=>{R("log","at pages/comic-read/components/comic-menu.vue:168","前往详情页")},S=({show:e})=>{p=e,plus.navigator.setFullscreen(!e)},k=e.ref(1),b=()=>{d.value?k.value=0:k.value=50,setTimeout((()=>{y()}),100)},T=()=>{y(),setTimeout((()=>{h.value=!0}),300)},C=e.ref(!1),N=()=>{y(),C.value=!0,u.value.open()},x=()=>{h.value=!1,C.value&&u.value.close(),C.value=!1},B=e.ref(0);e.onMounted((async()=>{const t=e.getCurrentInstance(),o=await at(t,".chapter-popup .top"),a=await ke();B.value=a.windowHeight-o.height}));const V=e=>{const t=f.chapterList[f.chapterList.length-1].chapter_n;f.currentChapter_n==e||e>t||(h.value=!1,g("changeChapter",e))},E=e.ref(!1),I=()=>{E.value=!E.value,g("reverseChapter")},_=e.ref(0),z=e.ref(null);e.watch((()=>f.currentChapter_n),(e=>{_.value=e}));const M=e=>{z.value&&clearTimeout(z.value),z.value=setTimeout((()=>{V(f.chapterList[e-1].chapter_n)}),300)};return o({openMenu:y}),(o,a)=>{const d=L(e.resolveDynamicComponent("uv-icon"),we),p=L(e.resolveDynamicComponent("uv-popup"),Ta),g=L(e.resolveDynamicComponent("uv-slider"),wa),f=L(e.resolveDynamicComponent("uv-transition"),Io),y=L(e.resolveDynamicComponent("uv-switch"),ni);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"mask",style:e.normalizeStyle({backgroundColor:`rgba(0,0,0,${k.value/100})`})},null,4),e.createVNode(p,{overlay:!1,bgColor:"#fff",ref_key:"popupTop",ref:s,mode:"top",overlayOpacity:0,onChange:S},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"comic-menu-top"},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"action"},[e.createElementVNode("view",{class:"action-left"},[e.createVNode(d,{name:"arrow-left",color:"#000",bold:"",size:"20",onClick:v}),e.createElementVNode("view",{class:"title"},e.toDisplayString(t.title),1)]),e.createElementVNode("view",{class:"action-right"},[e.createElementVNode("view",{onClick:a[0]||(a[0]=(...t)=>e.unref(n)&&e.unref(n)(...t))},e.toDisplayString(e.unref(l)?"已加入书架":"加入书架"),1),e.createVNode(d,{onClick:w,name:"xiang",color:"#2c2c2c","custom-prefix":"custom-icon",size:"20"})])])])])),_:1},512),e.createVNode(p,{overlay:!1,bgColor:"#fff",ref_key:"popupBottom",ref:c,mode:"bottom",overlayOpacity:0},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"slider-box"},[e.createElementVNode("view",{class:"btn",onClick:a[1]||(a[1]=e=>V(t.currentChapter_n-1))},"上一话"),e.createElementVNode("view",{class:"mid"},[e.createVNode(g,{activeColor:"#F59F70",modelValue:_.value,"onUpdate:modelValue":a[2]||(a[2]=e=>_.value=e),"block-size":"25",min:1,max:t.chapterList[t.chapterList.length-1].chapter_n,onChanging:M,onChange:M},null,8,["modelValue","max"])]),e.createElementVNode("view",{class:"btn",onClick:a[3]||(a[3]=e=>V(t.currentChapter_n+1))},"下一话")]),e.createElementVNode("view",{class:"comic-popup-bottom"},[e.createElementVNode("view",{class:"item",onClick:T},[e.createVNode(d,{name:"content","custom-prefix":"custom-icon",size:"20",color:"#000"}),e.createTextVNode(" 目录 ")]),e.createElementVNode("view",{class:"item",onClick:b},[e.createVNode(d,{name:k.value>=50?"sun":"moon","custom-prefix":"custom-icon",size:"20",color:"#000"},null,8,["name"]),e.createTextVNode(" "+e.toDisplayString(k.value>=50?"日间":"夜间"),1)]),e.createElementVNode("view",{class:"item",onClick:N},[e.createVNode(d,{name:"setting",color:"#000",size:"24"}),e.createTextVNode(" 设置 ")])])])),_:1},512),e.createElementVNode("view",{class:e.normalizeClass(["chapter-popup",h.value?"show":""])},[e.createElementVNode("view",{class:"top"},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"comic-name"},"狐妖小红娘"),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"info-left"}," 共"+e.toDisplayString(t.chapterList.length)+"话 连载中 ",1),e.createElementVNode("view",{class:"info-right",onClick:I},[e.createElementVNode("view",{class:"icon"},[e.createVNode(d,{name:"arrow-up-fill",size:"10"}),e.createVNode(d,{name:"arrow-down-fill",size:"10"})]),e.createTextVNode(" "+e.toDisplayString(E.value?"逆序":"正序"),1)])])]),e.createElementVNode("scroll-view",{"scroll-into-view":"chapter-"+t.currentChapter_n,"scroll-y":"true",style:e.normalizeStyle({height:B.value+"px"}),class:"scroll-box"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.chapterList,((o,a)=>(e.openBlock(),e.createElementBlock("view",{class:"chapter-item",style:e.normalizeStyle({color:t.currentChapter_n==o.chapter_n?"#F59F70":""}),id:"chapter-"+o.chapter_n,onClick:e=>V(o.chapter_n),key:a},e.toDisplayString(o.chapter_name),13,["id","onClick"])))),128))],12,["scroll-into-view"])],2),e.createVNode(f,{show:h.value||C.value,"custom-class":"chapter-mask",onClick:x},null,8,["show"]),e.createVNode(p,{round:"10",overlay:!1,bgColor:"#fff",ref_key:"configPopup",ref:u,mode:"bottom",overlayOpacity:0},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"config-popup"},[e.createElementVNode("view",{class:"config-list"},[e.createElementVNode("view",{class:"config-item"},[e.createElementVNode("view",{class:"name"},"亮度"),e.createElementVNode("view",{class:"action"},[e.createVNode(d,{name:"moon","custom-prefix":"custom-icon",size:"20",color:"#8A8A8A"}),e.createElementVNode("view",{class:"mid"},[e.createVNode(g,{modelValue:k.value,"onUpdate:modelValue":a[4]||(a[4]=e=>k.value=e),activeColor:"#F59F70","block-size":"20",min:1,max:80},null,8,["modelValue"])]),e.createVNode(d,{name:"sun","custom-prefix":"custom-icon",size:"20",color:"#8A8A8A"})])]),e.createElementVNode("view",{class:"config-item"},[e.createElementVNode("view",{class:"name"},"允许缩放"),e.createElementVNode("view",{class:"action"},[e.createVNode(y,{modelValue:m.value,"onUpdate:modelValue":a[5]||(a[5]=e=>m.value=e),inactiveColor:"#8A8A8A",activeColor:"#F59F70"},null,8,["modelValue"])])])])])])),_:1},512),e.createVNode($a,{ref_key:"removeFromBookShellModal",ref:i,title:"确认将本书从书架移除？",onConfirm:e.unref(r)},null,8,["onConfirm"])],64)}}},[["__scopeId","data-v-4b456b17"]]),ri=ve({__name:"comic-read",setup(t){const o=Be(),a=e.ref(null),i=e.computed((()=>o.state.currentNovelDetail)),n=e.ref(i.value.name),l=e.ref([]);e.ref(0);const r=e.ref(0),s=e.ref(null),c=e.ref(!1),h=e.ref(0),u=e.ref(""),d=e.ref([]),m=e.ref(0),p=e.ref(0);P((async({comic_id:e})=>{const t=await Jo(e,"comic");h.value=(0!=t.length?t[0].chapter_n:1)-1})),e.onMounted((async()=>{const e=await ke();r.value=e.windowWidth,m.value=e.screenHeight;const t=await Wo(n.value);d.value=t.data.data,plus.navigator.setFullscreen(!0),plus.key.addEventListener("keydown",y)})),e.onUnmounted((()=>{plus.navigator.setFullscreen(!1),plus.key.removeEventListener("keydown",y),plus.screen.lockOrientation("portrait-primary"),g()}));const g=async()=>{0==(await Jo(i.value.id,"comic")).length?await Qo([i.value.id,0,h.value,d.value[h.value-1].chapter_name,"comic"]):await Ko(i.value.id,h.value,d.value[h.value-1].chapter_name,0,"comic")};A((()=>{g()}));const f=async(e,t)=>{h.value+=1;const o=await Uo(n.value,h.value,r.value);if(1==o.data.status){const e=o.data.data.imgUrlList.length;await a.value.completeByNoMore([o.data.data],0==e),e<3&&0!=e&&await f()}setTimeout((()=>{c.value=!0}),500)},y=({keyCode:e})=>{24==e?a.value.scrollToY(p.value-500,0,!0):25==e&&a.value.scrollToY(p.value+500,0,!0)},v=e=>{const t=e.changedTouches[0].pageY;t<=m.value/3?a.value.scrollToY(p.value-500,0,!0):t>=m.value/3&&t<=m.value/3*2?s.value.openMenu():t>=m.value/3*2&&a.value.scrollToY(p.value+500,0,!0)},w=e.ref({}),S=({chapter_name:e,chapter_n:t,curentImgNum:o,totalImage:a})=>{h.value=t,u.value=e,w.value={curentImgNum:o,totalImage:a}},k=async e=>{h.value=e,c.value=!1,l.value=[];const t=await Uo(n.value,h.value,r.value);if(1==t.data.status){const e=t.data.data.imgUrlList.length;await a.value.completeByNoMore([t.data.data],0==e),e<3&&0!=e&&await f()}c.value=!0};let b=e.ref(!0);const T=async e=>{if(e<=500&&1!==h.value&&b.value){b.value=!1,h.value-=1;const e=await Uo(n.value,h.value,r.value);await a.value.addDataFromTop([e.data.data],!1),setTimeout((()=>{b.value=!0}),500)}p.value=e},C=()=>{d.value.reverse()};return(t,o)=>{const i=L(e.resolveDynamicComponent("uv-load-more"),st),n=L(e.resolveDynamicComponent("z-paging"),No);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(li,{onChangeChapter:k,onReverseChapter:C,currentChapter_n:h.value,chapterList:d.value,title:u.value,ref_key:"popMenu",ref:s},null,8,["currentChapter_n","chapterList","title"]),e.createVNode(ii,{zIndex:c.value?9:0,chapterImageInfo:w.value},null,8,["zIndex","chapterImageInfo"]),c.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(da,{key:0})),e.createElementVNode("view",{class:"page",onClick:e.withModifiers(v,["stop"])},[e.createVNode(n,{"show-scrollbar":!1,fixed:!1,onScrollTopChange:T,"lower-threshold":"500px","cell-height-mode":"dynamic","refresher-enabled":!1,ref_key:"virtualList",ref:a,modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=e=>l.value=e),"use-virtual-list":"",onQuery:f},{default:e.withCtx((()=>[1==h.value||e.unref(b)?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(i,{key:0,status:"loading","loading-text":"努力加载中..."})),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,((t,o)=>(e.openBlock(),e.createBlock(ai,{onChangeChapterInfo:S,id:`zp-id-${null==t?void 0:t.zp_index}`,key:null==t?void 0:t.zp_index,chapter:t},null,8,["id","chapter"])))),128))])),_:1},8,["modelValue"])])],64)}}},[["__scopeId","data-v-f3a12c42"]]),si=ve({__name:"history",setup(t){const o=e.reactive({all:{size:10,offset:0,list:[]},novel:{size:10,offset:0,list:[]},comic:{size:10,offset:0,list:[]}}),a=e.ref(0),i=e.getCurrentInstance();return e.onMounted((async()=>{const e=await ke(),t=await at(i,".header");a.value=e.windowHeight-t.height;const n=await Yo.select("select * from history");o.all.list=n,R("log","at pages/history/history.vue:75",n),o.novel.list=n.filter((e=>"novel"==e.type)),o.comic.list=n.filter((e=>"comic"==e.type))})),(t,o)=>{const i=L(e.resolveDynamicComponent("uv-icon"),we);return e.openBlock(),e.createElementBlock("view",{class:"browse-history-contanier"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"status-bar"}),e.createElementVNode("view",{class:"action-list"},[e.createVNode(i,{name:"arrow-left",size:"24"}),e.createElementVNode("view",{class:"title"},"浏览历史"),e.createVNode(i,{name:"search",size:"30"})]),e.createElementVNode("view",{class:"class-list"},[e.createElementVNode("view",{class:"l"},[e.createElementVNode("view",{class:"class-item active"}," 全部 "),e.createElementVNode("view",{class:"class-item"}," 小说 "),e.createElementVNode("view",{class:"class-item"}," 漫画 ")]),e.createElementVNode("view",{class:"r"}," 编辑 ")])]),e.createElementVNode("scroll-view",{style:e.normalizeStyle({height:a.value+"px"}),"scroll-y":"true"},[e.createElementVNode("view",{class:"history-list"})],4)])}}},[["__scopeId","data-v-3c90caa7"]]);__definePage("pages/home/index",sa),__definePage("components/home/mid-area/mid-area",ot),__definePage("pages/nove-detail/index",ma),__definePage("pages/chapters/chapters",pa),__definePage("pages/read/read",Fa),__definePage("pages/bookshelf/bookshelf",Ga),__definePage("pages/class/class",Qa),__definePage("pages/user/user",Ja),__definePage("pages/search/search",ti),__definePage("pages/comic-read/comic-read",ri),__definePage("pages/history/history",si);const ci={__name:"App",setup:e=>(D((()=>{plus.screen.lockOrientation("portrait-primary")})),F((()=>{Yo.closeDatabase()})),()=>{})},hi=new Ke({state:()=>({midAreaHeight:0,readTime:uni.getStorageSync("readTime")||0,currentNovelDetail:{},currentNovelChapters:[]}),mutations:{setMidAreaHeight(e,t){e.midAreaHeight=t},setCurrentNovelDetail(e,t){e.currentNovelDetail=t},setCurrentNovelChapters(e,t){e.currentNovelChapters=t},updateReadTime(e){e.readTime=e.readTime+1,uni.setStorageSync("readTime",e.readTime)}}});const{app:ui,Vuex:di,Pinia:mi}=function(){const t=e.createVueApp(ci);return t.use(hi),{app:t,store:hi}}();uni.Vuex=di,uni.Pinia=mi,ui.provide("__globalStyles",__uniConfig.styles),ui._component.mpType="app",ui._component.render=()=>{},ui.mount("#app")}(Vue);
